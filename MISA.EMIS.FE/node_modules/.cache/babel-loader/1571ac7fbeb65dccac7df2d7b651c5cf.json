{"ast":null,"code":"/**\r\n * DevExtreme (esm/animation/transition_executor/transition_executor.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport Class from \"../../core/class\";\nimport { extend } from \"../../core/utils/extend\";\nimport { executeAsync } from \"../../core/utils/common\";\nimport { isFunction, isPlainObject } from \"../../core/utils/type\";\nimport { map } from \"../../core/utils/iterator\";\nimport fx from \"../fx\";\nimport { presets } from \"../presets/presets\";\nimport { when, Deferred } from \"../../core/utils/deferred\";\nvar directionPostfixes = {\n  forward: \" dx-forward\",\n  backward: \" dx-backward\",\n  none: \" dx-no-direction\",\n  undefined: \" dx-no-direction\"\n};\nvar DX_ANIMATING_CLASS = \"dx-animating\";\nexport var TransitionExecutor = Class.inherit({\n  ctor: function () {\n    this._accumulatedDelays = {\n      enter: 0,\n      leave: 0\n    };\n    this._animations = [];\n    this.reset();\n  },\n  _createAnimations: function ($elements, initialConfig, configModifier, type) {\n    $elements = $($elements);\n    var that = this;\n    var result = [];\n    configModifier = configModifier || {};\n\n    var animationConfig = this._prepareElementAnimationConfig(initialConfig, configModifier, type);\n\n    if (animationConfig) {\n      $elements.each(function () {\n        var animation = that._createAnimation($(this), animationConfig, configModifier);\n\n        if (animation) {\n          animation.element.addClass(DX_ANIMATING_CLASS);\n          animation.setup();\n          result.push(animation);\n        }\n      });\n    }\n\n    return result;\n  },\n  _prepareElementAnimationConfig: function (config, configModifier, type) {\n    var result;\n\n    if (\"string\" === typeof config) {\n      var presetName = config;\n      config = presets.getPreset(presetName);\n    }\n\n    if (!config) {\n      result = void 0;\n    } else if (isFunction(config[type])) {\n      result = config[type];\n    } else {\n      result = extend({\n        skipElementInitialStyles: true,\n        cleanupWhen: this._completePromise\n      }, config, configModifier);\n\n      if (!result.type || \"css\" === result.type) {\n        var cssClass = \"dx-\" + type;\n        var extraCssClasses = (result.extraCssClasses ? \" \" + result.extraCssClasses : \"\") + directionPostfixes[result.direction];\n        result.type = \"css\";\n        result.from = (result.from || cssClass) + extraCssClasses;\n        result.to = result.to || cssClass + \"-active\";\n      }\n\n      result.staggerDelay = result.staggerDelay || 0;\n      result.delay = result.delay || 0;\n\n      if (result.staggerDelay) {\n        result.delay += this._accumulatedDelays[type];\n        this._accumulatedDelays[type] += result.staggerDelay;\n      }\n    }\n\n    return result;\n  },\n  _createAnimation: function ($element, animationConfig, configModifier) {\n    var result;\n\n    if (isPlainObject(animationConfig)) {\n      result = fx.createAnimation($element, animationConfig);\n    } else if (isFunction(animationConfig)) {\n      result = animationConfig($element, configModifier);\n    }\n\n    return result;\n  },\n  _startAnimations: function () {\n    var animations = this._animations;\n\n    for (var i = 0; i < animations.length; i++) {\n      animations[i].start();\n    }\n  },\n  _stopAnimations: function (jumpToEnd) {\n    var animations = this._animations;\n\n    for (var i = 0; i < animations.length; i++) {\n      animations[i].stop(jumpToEnd);\n    }\n  },\n  _clearAnimations: function () {\n    var animations = this._animations;\n\n    for (var i = 0; i < animations.length; i++) {\n      animations[i].element.removeClass(DX_ANIMATING_CLASS);\n    }\n\n    this._animations.length = 0;\n  },\n  reset: function () {\n    this._accumulatedDelays.enter = 0;\n    this._accumulatedDelays.leave = 0;\n\n    this._clearAnimations();\n\n    this._completeDeferred = new Deferred();\n    this._completePromise = this._completeDeferred.promise();\n  },\n  enter: function ($elements, animationConfig, configModifier) {\n    var animations = this._createAnimations($elements, animationConfig, configModifier, \"enter\");\n\n    this._animations.push.apply(this._animations, animations);\n  },\n  leave: function ($elements, animationConfig, configModifier) {\n    var animations = this._createAnimations($elements, animationConfig, configModifier, \"leave\");\n\n    this._animations.push.apply(this._animations, animations);\n  },\n  start: function () {\n    var that = this;\n    var result;\n\n    if (!this._animations.length) {\n      that.reset();\n      result = new Deferred().resolve().promise();\n    } else {\n      var animationDeferreds = map(this._animations, function (animation) {\n        var result = new Deferred();\n        animation.deferred.always(function () {\n          result.resolve();\n        });\n        return result.promise();\n      });\n      result = when.apply($, animationDeferreds).always(function () {\n        that._completeDeferred.resolve();\n\n        that.reset();\n      });\n      executeAsync(function () {\n        that._startAnimations();\n      });\n    }\n\n    return result;\n  },\n  stop: function (jumpToEnd) {\n    this._stopAnimations(jumpToEnd);\n  }\n});","map":{"version":3,"names":["$","Class","extend","executeAsync","isFunction","isPlainObject","map","fx","presets","when","Deferred","directionPostfixes","forward","backward","none","undefined","DX_ANIMATING_CLASS","TransitionExecutor","inherit","ctor","_accumulatedDelays","enter","leave","_animations","reset","_createAnimations","$elements","initialConfig","configModifier","type","that","result","animationConfig","_prepareElementAnimationConfig","each","animation","_createAnimation","element","addClass","setup","push","config","presetName","getPreset","skipElementInitialStyles","cleanupWhen","_completePromise","cssClass","extraCssClasses","direction","from","to","staggerDelay","delay","$element","createAnimation","_startAnimations","animations","i","length","start","_stopAnimations","jumpToEnd","stop","_clearAnimations","removeClass","_completeDeferred","promise","apply","resolve","animationDeferreds","deferred","always"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/animation/transition_executor/transition_executor.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/animation/transition_executor/transition_executor.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    executeAsync\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isFunction,\r\n    isPlainObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nimport fx from \"../fx\";\r\nimport {\r\n    presets\r\n} from \"../presets/presets\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar directionPostfixes = {\r\n    forward: \" dx-forward\",\r\n    backward: \" dx-backward\",\r\n    none: \" dx-no-direction\",\r\n    undefined: \" dx-no-direction\"\r\n};\r\nvar DX_ANIMATING_CLASS = \"dx-animating\";\r\nexport var TransitionExecutor = Class.inherit({\r\n    ctor: function() {\r\n        this._accumulatedDelays = {\r\n            enter: 0,\r\n            leave: 0\r\n        };\r\n        this._animations = [];\r\n        this.reset()\r\n    },\r\n    _createAnimations: function($elements, initialConfig, configModifier, type) {\r\n        $elements = $($elements);\r\n        var that = this;\r\n        var result = [];\r\n        configModifier = configModifier || {};\r\n        var animationConfig = this._prepareElementAnimationConfig(initialConfig, configModifier, type);\r\n        if (animationConfig) {\r\n            $elements.each((function() {\r\n                var animation = that._createAnimation($(this), animationConfig, configModifier);\r\n                if (animation) {\r\n                    animation.element.addClass(DX_ANIMATING_CLASS);\r\n                    animation.setup();\r\n                    result.push(animation)\r\n                }\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    _prepareElementAnimationConfig: function(config, configModifier, type) {\r\n        var result;\r\n        if (\"string\" === typeof config) {\r\n            var presetName = config;\r\n            config = presets.getPreset(presetName)\r\n        }\r\n        if (!config) {\r\n            result = void 0\r\n        } else if (isFunction(config[type])) {\r\n            result = config[type]\r\n        } else {\r\n            result = extend({\r\n                skipElementInitialStyles: true,\r\n                cleanupWhen: this._completePromise\r\n            }, config, configModifier);\r\n            if (!result.type || \"css\" === result.type) {\r\n                var cssClass = \"dx-\" + type;\r\n                var extraCssClasses = (result.extraCssClasses ? \" \" + result.extraCssClasses : \"\") + directionPostfixes[result.direction];\r\n                result.type = \"css\";\r\n                result.from = (result.from || cssClass) + extraCssClasses;\r\n                result.to = result.to || cssClass + \"-active\"\r\n            }\r\n            result.staggerDelay = result.staggerDelay || 0;\r\n            result.delay = result.delay || 0;\r\n            if (result.staggerDelay) {\r\n                result.delay += this._accumulatedDelays[type];\r\n                this._accumulatedDelays[type] += result.staggerDelay\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _createAnimation: function($element, animationConfig, configModifier) {\r\n        var result;\r\n        if (isPlainObject(animationConfig)) {\r\n            result = fx.createAnimation($element, animationConfig)\r\n        } else if (isFunction(animationConfig)) {\r\n            result = animationConfig($element, configModifier)\r\n        }\r\n        return result\r\n    },\r\n    _startAnimations: function() {\r\n        var animations = this._animations;\r\n        for (var i = 0; i < animations.length; i++) {\r\n            animations[i].start()\r\n        }\r\n    },\r\n    _stopAnimations: function(jumpToEnd) {\r\n        var animations = this._animations;\r\n        for (var i = 0; i < animations.length; i++) {\r\n            animations[i].stop(jumpToEnd)\r\n        }\r\n    },\r\n    _clearAnimations: function() {\r\n        var animations = this._animations;\r\n        for (var i = 0; i < animations.length; i++) {\r\n            animations[i].element.removeClass(DX_ANIMATING_CLASS)\r\n        }\r\n        this._animations.length = 0\r\n    },\r\n    reset: function() {\r\n        this._accumulatedDelays.enter = 0;\r\n        this._accumulatedDelays.leave = 0;\r\n        this._clearAnimations();\r\n        this._completeDeferred = new Deferred;\r\n        this._completePromise = this._completeDeferred.promise()\r\n    },\r\n    enter: function($elements, animationConfig, configModifier) {\r\n        var animations = this._createAnimations($elements, animationConfig, configModifier, \"enter\");\r\n        this._animations.push.apply(this._animations, animations)\r\n    },\r\n    leave: function($elements, animationConfig, configModifier) {\r\n        var animations = this._createAnimations($elements, animationConfig, configModifier, \"leave\");\r\n        this._animations.push.apply(this._animations, animations)\r\n    },\r\n    start: function() {\r\n        var that = this;\r\n        var result;\r\n        if (!this._animations.length) {\r\n            that.reset();\r\n            result = (new Deferred).resolve().promise()\r\n        } else {\r\n            var animationDeferreds = map(this._animations, (function(animation) {\r\n                var result = new Deferred;\r\n                animation.deferred.always((function() {\r\n                    result.resolve()\r\n                }));\r\n                return result.promise()\r\n            }));\r\n            result = when.apply($, animationDeferreds).always((function() {\r\n                that._completeDeferred.resolve();\r\n                that.reset()\r\n            }));\r\n            executeAsync((function() {\r\n                that._startAnimations()\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    stop: function(jumpToEnd) {\r\n        this._stopAnimations(jumpToEnd)\r\n    }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
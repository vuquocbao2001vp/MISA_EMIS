{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.base.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth, getOuterWidth, getHeight } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport { isMaterial, waitWebFont } from \"../themes\";\nimport { noop } from \"../../core/utils/common\";\nimport { isPlainObject, isDefined } from \"../../core/utils/type\";\nimport registerComponent from \"../../core/component_registrator\";\nimport { extend } from \"../../core/utils/extend\";\nimport { each } from \"../../core/utils/iterator\";\nimport { getBoundingRect } from \"../../core/utils/position\";\nimport AsyncCollectionWidget from \"../collection/ui.collection_widget.async\";\nimport { BindableTemplate } from \"../../core/templates/bindable_template\";\nimport errors from \"../../core/errors\";\nimport fx from \"../../animation/fx\";\nimport { TOOLBAR_CLASS } from \"./constants\";\nvar TOOLBAR_BEFORE_CLASS = \"dx-toolbar-before\";\nvar TOOLBAR_CENTER_CLASS = \"dx-toolbar-center\";\nvar TOOLBAR_AFTER_CLASS = \"dx-toolbar-after\";\nvar TOOLBAR_MINI_CLASS = \"dx-toolbar-mini\";\nvar TOOLBAR_ITEM_CLASS = \"dx-toolbar-item\";\nvar TOOLBAR_LABEL_CLASS = \"dx-toolbar-label\";\nvar TOOLBAR_BUTTON_CLASS = \"dx-toolbar-button\";\nvar TOOLBAR_ITEMS_CONTAINER_CLASS = \"dx-toolbar-items-container\";\nvar TOOLBAR_GROUP_CLASS = \"dx-toolbar-group\";\nvar TOOLBAR_COMPACT_CLASS = \"dx-toolbar-compact\";\nvar TOOLBAR_LABEL_SELECTOR = \".\" + TOOLBAR_LABEL_CLASS;\nvar TOOLBAR_MULTILINE_CLASS = \"dx-toolbar-multiline\";\nvar TEXT_BUTTON_MODE = \"text\";\nvar DEFAULT_BUTTON_TYPE = \"default\";\nvar DEFAULT_DROPDOWNBUTTON_STYLING_MODE = \"contained\";\nvar TOOLBAR_ITEM_DATA_KEY = \"dxToolbarItemDataKey\";\nvar ToolbarBase = AsyncCollectionWidget.inherit({\n  compactMode: false,\n  ctor: function (element, options) {\n    this._userOptions = options || {};\n    this.callBase(element, options);\n\n    if (\"height\" in this._userOptions) {\n      errors.log(\"W0001\", this.NAME, \"height\", \"20.1\", \"Functionality associated with this option is not intended for the Toolbar widget.\");\n    }\n  },\n  _getSynchronizableOptionsForCreateComponent: function () {\n    return this.callBase().filter(item => \"disabled\" !== item);\n  },\n  _initTemplates: function () {\n    this.callBase();\n    var template = new BindableTemplate(function ($container, data, rawModel) {\n      if (isPlainObject(data)) {\n        if (data.text) {\n          $container.text(data.text).wrapInner(\"<div>\");\n        }\n\n        if (data.html) {\n          $container.html(data.html);\n        }\n\n        if (\"dxDropDownButton\" === data.widget) {\n          data.options = data.options || {};\n\n          if (!isDefined(data.options.stylingMode)) {\n            data.options.stylingMode = this.option(\"useFlatButtons\") ? TEXT_BUTTON_MODE : DEFAULT_DROPDOWNBUTTON_STYLING_MODE;\n          }\n        }\n\n        if (\"dxButton\" === data.widget) {\n          if (this.option(\"useFlatButtons\")) {\n            data.options = data.options || {};\n            data.options.stylingMode = data.options.stylingMode || TEXT_BUTTON_MODE;\n          }\n\n          if (this.option(\"useDefaultButtons\")) {\n            data.options = data.options || {};\n            data.options.type = data.options.type || DEFAULT_BUTTON_TYPE;\n          }\n        }\n      } else {\n        $container.text(String(data));\n      }\n\n      this._getTemplate(\"dx-polymorph-widget\").render({\n        container: $container,\n        model: rawModel,\n        parent: this\n      });\n    }.bind(this), [\"text\", \"html\", \"widget\", \"options\"], this.option(\"integrationOptions.watchMethod\"));\n\n    this._templateManager.addDefaultTemplates({\n      item: template,\n      menuItem: template\n    });\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      renderAs: \"topToolbar\",\n      grouped: false,\n      useFlatButtons: false,\n      useDefaultButtons: false,\n      multiline: false\n    });\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: function () {\n        return isMaterial();\n      },\n      options: {\n        useFlatButtons: true\n      }\n    }]);\n  },\n  _itemContainer: function () {\n    return this._$toolbarItemsContainer.find([\".\" + TOOLBAR_BEFORE_CLASS, \".\" + TOOLBAR_CENTER_CLASS, \".\" + TOOLBAR_AFTER_CLASS].join(\",\"));\n  },\n  _itemClass: function () {\n    return TOOLBAR_ITEM_CLASS;\n  },\n  _itemDataKey: function () {\n    return TOOLBAR_ITEM_DATA_KEY;\n  },\n  _buttonClass: function () {\n    return TOOLBAR_BUTTON_CLASS;\n  },\n  _dimensionChanged: function () {\n    this._arrangeItems();\n\n    this._applyCompactMode();\n  },\n  _initMarkup: function () {\n    this._renderToolbar();\n\n    this._renderSections();\n\n    this.callBase();\n    this.setAria(\"role\", \"toolbar\");\n  },\n  _waitParentAnimationFinished: function () {\n    var $element = this.$element();\n    return new Promise(resolve => {\n      var runCheck = () => {\n        clearTimeout(this._waitParentAnimationTimeout);\n        this._waitParentAnimationTimeout = setTimeout(() => (() => {\n          var readyToResolve = true;\n          $element.parents().each((_, parent) => {\n            if (fx.isAnimating($(parent))) {\n              readyToResolve = false;\n              return false;\n            }\n          });\n\n          if (readyToResolve) {\n            resolve();\n          }\n\n          return readyToResolve;\n        })() || runCheck(), 15);\n      };\n\n      runCheck();\n    });\n  },\n  _render: function () {\n    this.callBase();\n\n    this._renderItemsAsync();\n\n    if (isMaterial()) {\n      Promise.all([this._waitParentAnimationFinished(), this._checkWebFontForLabelsLoaded()]).then(this._dimensionChanged.bind(this));\n    }\n  },\n  _postProcessRenderItems: function () {\n    this._arrangeItems();\n  },\n  _renderToolbar: function () {\n    this.$element().addClass(TOOLBAR_CLASS).toggleClass(TOOLBAR_MULTILINE_CLASS, this.option(\"multiline\"));\n    this._$toolbarItemsContainer = $(\"<div>\").addClass(TOOLBAR_ITEMS_CONTAINER_CLASS).appendTo(this.$element());\n  },\n  _renderSections: function () {\n    var $container = this._$toolbarItemsContainer;\n    var that = this;\n    each([\"before\", \"center\", \"after\"], function () {\n      var sectionClass = \"dx-toolbar-\" + this;\n      var $section = $container.find(\".\" + sectionClass);\n\n      if (!$section.length) {\n        that[\"_$\" + this + \"Section\"] = $section = $(\"<div>\").addClass(sectionClass).appendTo($container);\n      }\n    });\n  },\n  _checkWebFontForLabelsLoaded: function () {\n    var $labels = this.$element().find(TOOLBAR_LABEL_SELECTOR);\n    var promises = [];\n    $labels.each((_, label) => {\n      var text = $(label).text();\n      var fontWeight = $(label).css(\"fontWeight\");\n      promises.push(waitWebFont(text, fontWeight));\n    });\n    return Promise.all(promises);\n  },\n  _arrangeItems: function (elementWidth) {\n    elementWidth = elementWidth || getWidth(this.$element());\n\n    this._$centerSection.css({\n      margin: \"0 auto\",\n      float: \"none\"\n    });\n\n    var beforeRect = getBoundingRect(this._$beforeSection.get(0));\n    var afterRect = getBoundingRect(this._$afterSection.get(0));\n\n    this._alignCenterSection(beforeRect, afterRect, elementWidth);\n\n    var $label = this._$toolbarItemsContainer.find(TOOLBAR_LABEL_SELECTOR).eq(0);\n\n    var $section = $label.parent();\n\n    if (!$label.length) {\n      return;\n    }\n\n    var labelOffset = beforeRect.width ? beforeRect.width : $label.position().left;\n    var widthBeforeSection = $section.hasClass(TOOLBAR_BEFORE_CLASS) ? 0 : labelOffset;\n    var widthAfterSection = $section.hasClass(TOOLBAR_AFTER_CLASS) ? 0 : afterRect.width;\n    var elemsAtSectionWidth = 0;\n    $section.children().not(TOOLBAR_LABEL_SELECTOR).each(function () {\n      elemsAtSectionWidth += getOuterWidth(this);\n    });\n    var freeSpace = elementWidth - elemsAtSectionWidth;\n    var sectionMaxWidth = Math.max(freeSpace - widthBeforeSection - widthAfterSection, 0);\n\n    if ($section.hasClass(TOOLBAR_BEFORE_CLASS)) {\n      this._alignSection(this._$beforeSection, sectionMaxWidth);\n    } else {\n      var labelPaddings = getOuterWidth($label) - getWidth($label);\n      $label.css(\"maxWidth\", sectionMaxWidth - labelPaddings);\n    }\n  },\n  _alignCenterSection: function (beforeRect, afterRect, elementWidth) {\n    this._alignSection(this._$centerSection, elementWidth - beforeRect.width - afterRect.width);\n\n    var isRTL = this.option(\"rtlEnabled\");\n    var leftRect = isRTL ? afterRect : beforeRect;\n    var rightRect = isRTL ? beforeRect : afterRect;\n    var centerRect = getBoundingRect(this._$centerSection.get(0));\n\n    if (leftRect.right > centerRect.left || centerRect.right > rightRect.left) {\n      this._$centerSection.css({\n        marginLeft: leftRect.width,\n        marginRight: rightRect.width,\n        float: leftRect.width > rightRect.width ? \"none\" : \"right\"\n      });\n    }\n  },\n  _alignSection: function ($section, maxWidth) {\n    var $labels = $section.find(TOOLBAR_LABEL_SELECTOR);\n    var labels = $labels.toArray();\n    maxWidth -= this._getCurrentLabelsPaddings(labels);\n\n    var currentWidth = this._getCurrentLabelsWidth(labels);\n\n    var difference = Math.abs(currentWidth - maxWidth);\n\n    if (maxWidth < currentWidth) {\n      labels = labels.reverse();\n\n      this._alignSectionLabels(labels, difference, false);\n    } else {\n      this._alignSectionLabels(labels, difference, true);\n    }\n  },\n  _alignSectionLabels: function (labels, difference, expanding) {\n    var getRealLabelWidth = function (label) {\n      return getBoundingRect(label).width;\n    };\n\n    for (var i = 0; i < labels.length; i++) {\n      var $label = $(labels[i]);\n      var currentLabelWidth = Math.ceil(getRealLabelWidth(labels[i]));\n      var labelMaxWidth = void 0;\n\n      if (expanding) {\n        $label.css(\"maxWidth\", \"inherit\");\n      }\n\n      var possibleLabelWidth = Math.ceil(expanding ? getRealLabelWidth(labels[i]) : currentLabelWidth);\n\n      if (possibleLabelWidth < difference) {\n        labelMaxWidth = expanding ? possibleLabelWidth : 0;\n        difference -= possibleLabelWidth;\n      } else {\n        labelMaxWidth = expanding ? currentLabelWidth + difference : currentLabelWidth - difference;\n        $label.css(\"maxWidth\", labelMaxWidth);\n        break;\n      }\n\n      $label.css(\"maxWidth\", labelMaxWidth);\n    }\n  },\n  _applyCompactMode: function () {\n    var $element = this.$element();\n    $element.removeClass(TOOLBAR_COMPACT_CLASS);\n\n    if (this.option(\"compactMode\") && this._getSummaryItemsWidth(this.itemElements(), true) > getWidth($element)) {\n      $element.addClass(TOOLBAR_COMPACT_CLASS);\n    }\n  },\n  _getCurrentLabelsWidth: function (labels) {\n    var width = 0;\n    labels.forEach(function (label, index) {\n      width += getOuterWidth(label);\n    });\n    return width;\n  },\n  _getCurrentLabelsPaddings: function (labels) {\n    var padding = 0;\n    labels.forEach(function (label, index) {\n      padding += getOuterWidth(label) - getWidth(label);\n    });\n    return padding;\n  },\n  _renderItem: function (index, item, itemContainer, $after) {\n    var location = item.location || \"center\";\n    var container = itemContainer || this[\"_$\" + location + \"Section\"];\n    var itemHasText = !!(item.text || item.html);\n    var itemElement = this.callBase(index, item, container, $after);\n    itemElement.toggleClass(this._buttonClass(), !itemHasText).toggleClass(TOOLBAR_LABEL_CLASS, itemHasText).addClass(item.cssClass);\n    return itemElement;\n  },\n  _renderGroupedItems: function () {\n    var that = this;\n    each(this.option(\"items\"), function (groupIndex, group) {\n      var groupItems = group.items;\n      var $container = $(\"<div>\").addClass(TOOLBAR_GROUP_CLASS);\n      var location = group.location || \"center\";\n\n      if (!groupItems || !groupItems.length) {\n        return;\n      }\n\n      each(groupItems, function (itemIndex, item) {\n        that._renderItem(itemIndex, item, $container, null);\n      });\n\n      that._$toolbarItemsContainer.find(\".dx-toolbar-\" + location).append($container);\n    });\n  },\n  _renderItems: function (items) {\n    var grouped = this.option(\"grouped\") && items.length && items[0].items;\n    grouped ? this._renderGroupedItems() : this.callBase(items);\n  },\n  _getToolbarItems: function () {\n    return this.option(\"items\") || [];\n  },\n  _renderContentImpl: function () {\n    var items = this._getToolbarItems();\n\n    this.$element().toggleClass(TOOLBAR_MINI_CLASS, 0 === items.length);\n\n    if (this._renderedItemsCount) {\n      this._renderItems(items.slice(this._renderedItemsCount));\n    } else {\n      this._renderItems(items);\n    }\n\n    this._applyCompactMode();\n  },\n  _renderEmptyMessage: noop,\n  _clean: function () {\n    this._$toolbarItemsContainer.children().empty();\n\n    this.$element().empty();\n  },\n  _visibilityChanged: function (visible) {\n    if (visible) {\n      this._arrangeItems();\n    }\n  },\n  _isVisible: function () {\n    return getWidth(this.$element()) > 0 && getHeight(this.$element()) > 0;\n  },\n  _getIndexByItem: function (item) {\n    return this._getToolbarItems().indexOf(item);\n  },\n  _itemOptionChanged: function (item, property, value) {\n    this.callBase.apply(this, [item, property, value]);\n\n    this._arrangeItems();\n  },\n  _optionChanged: function (args) {\n    var name = args.name;\n\n    switch (name) {\n      case \"width\":\n        this.callBase.apply(this, arguments);\n\n        this._dimensionChanged();\n\n        break;\n\n      case \"multiline\":\n        this.$element().toggleClass(TOOLBAR_MULTILINE_CLASS, args.value);\n        break;\n\n      case \"renderAs\":\n      case \"useFlatButtons\":\n      case \"useDefaultButtons\":\n        this._invalidate();\n\n        break;\n\n      case \"compactMode\":\n        this._applyCompactMode();\n\n        break;\n\n      case \"grouped\":\n        break;\n\n      default:\n        this.callBase.apply(this, arguments);\n    }\n  },\n  _dispose: function () {\n    this.callBase();\n    clearTimeout(this._waitParentAnimationTimeout);\n  }\n});\nregisterComponent(\"dxToolbarBase\", ToolbarBase);\nexport default ToolbarBase;","map":{"version":3,"names":["getWidth","getOuterWidth","getHeight","$","isMaterial","waitWebFont","noop","isPlainObject","isDefined","registerComponent","extend","each","getBoundingRect","AsyncCollectionWidget","BindableTemplate","errors","fx","TOOLBAR_CLASS","TOOLBAR_BEFORE_CLASS","TOOLBAR_CENTER_CLASS","TOOLBAR_AFTER_CLASS","TOOLBAR_MINI_CLASS","TOOLBAR_ITEM_CLASS","TOOLBAR_LABEL_CLASS","TOOLBAR_BUTTON_CLASS","TOOLBAR_ITEMS_CONTAINER_CLASS","TOOLBAR_GROUP_CLASS","TOOLBAR_COMPACT_CLASS","TOOLBAR_LABEL_SELECTOR","TOOLBAR_MULTILINE_CLASS","TEXT_BUTTON_MODE","DEFAULT_BUTTON_TYPE","DEFAULT_DROPDOWNBUTTON_STYLING_MODE","TOOLBAR_ITEM_DATA_KEY","ToolbarBase","inherit","compactMode","ctor","element","options","_userOptions","callBase","log","NAME","_getSynchronizableOptionsForCreateComponent","filter","item","_initTemplates","template","$container","data","rawModel","text","wrapInner","html","widget","stylingMode","option","type","String","_getTemplate","render","container","model","parent","bind","_templateManager","addDefaultTemplates","menuItem","_getDefaultOptions","renderAs","grouped","useFlatButtons","useDefaultButtons","multiline","_defaultOptionsRules","concat","device","_itemContainer","_$toolbarItemsContainer","find","join","_itemClass","_itemDataKey","_buttonClass","_dimensionChanged","_arrangeItems","_applyCompactMode","_initMarkup","_renderToolbar","_renderSections","setAria","_waitParentAnimationFinished","$element","Promise","resolve","runCheck","clearTimeout","_waitParentAnimationTimeout","setTimeout","readyToResolve","parents","_","isAnimating","_render","_renderItemsAsync","all","_checkWebFontForLabelsLoaded","then","_postProcessRenderItems","addClass","toggleClass","appendTo","that","sectionClass","$section","length","$labels","promises","label","fontWeight","css","push","elementWidth","_$centerSection","margin","float","beforeRect","_$beforeSection","get","afterRect","_$afterSection","_alignCenterSection","$label","eq","labelOffset","width","position","left","widthBeforeSection","hasClass","widthAfterSection","elemsAtSectionWidth","children","not","freeSpace","sectionMaxWidth","Math","max","_alignSection","labelPaddings","isRTL","leftRect","rightRect","centerRect","right","marginLeft","marginRight","maxWidth","labels","toArray","_getCurrentLabelsPaddings","currentWidth","_getCurrentLabelsWidth","difference","abs","reverse","_alignSectionLabels","expanding","getRealLabelWidth","i","currentLabelWidth","ceil","labelMaxWidth","possibleLabelWidth","removeClass","_getSummaryItemsWidth","itemElements","forEach","index","padding","_renderItem","itemContainer","$after","location","itemHasText","itemElement","cssClass","_renderGroupedItems","groupIndex","group","groupItems","items","itemIndex","append","_renderItems","_getToolbarItems","_renderContentImpl","_renderedItemsCount","slice","_renderEmptyMessage","_clean","empty","_visibilityChanged","visible","_isVisible","_getIndexByItem","indexOf","_itemOptionChanged","property","value","apply","_optionChanged","args","name","arguments","_invalidate","_dispose"],"sources":["E:/MisaProject/MISA_EMIS/MISA.EMIS.FE/node_modules/devextreme/esm/ui/toolbar/ui.toolbar.base.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.base.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth,\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    isMaterial,\r\n    waitWebFont\r\n} from \"../themes\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isPlainObject,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport AsyncCollectionWidget from \"../collection/ui.collection_widget.async\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../../core/templates/bindable_template\";\r\nimport errors from \"../../core/errors\";\r\nimport fx from \"../../animation/fx\";\r\nimport {\r\n    TOOLBAR_CLASS\r\n} from \"./constants\";\r\nvar TOOLBAR_BEFORE_CLASS = \"dx-toolbar-before\";\r\nvar TOOLBAR_CENTER_CLASS = \"dx-toolbar-center\";\r\nvar TOOLBAR_AFTER_CLASS = \"dx-toolbar-after\";\r\nvar TOOLBAR_MINI_CLASS = \"dx-toolbar-mini\";\r\nvar TOOLBAR_ITEM_CLASS = \"dx-toolbar-item\";\r\nvar TOOLBAR_LABEL_CLASS = \"dx-toolbar-label\";\r\nvar TOOLBAR_BUTTON_CLASS = \"dx-toolbar-button\";\r\nvar TOOLBAR_ITEMS_CONTAINER_CLASS = \"dx-toolbar-items-container\";\r\nvar TOOLBAR_GROUP_CLASS = \"dx-toolbar-group\";\r\nvar TOOLBAR_COMPACT_CLASS = \"dx-toolbar-compact\";\r\nvar TOOLBAR_LABEL_SELECTOR = \".\" + TOOLBAR_LABEL_CLASS;\r\nvar TOOLBAR_MULTILINE_CLASS = \"dx-toolbar-multiline\";\r\nvar TEXT_BUTTON_MODE = \"text\";\r\nvar DEFAULT_BUTTON_TYPE = \"default\";\r\nvar DEFAULT_DROPDOWNBUTTON_STYLING_MODE = \"contained\";\r\nvar TOOLBAR_ITEM_DATA_KEY = \"dxToolbarItemDataKey\";\r\nvar ToolbarBase = AsyncCollectionWidget.inherit({\r\n    compactMode: false,\r\n    ctor: function(element, options) {\r\n        this._userOptions = options || {};\r\n        this.callBase(element, options);\r\n        if (\"height\" in this._userOptions) {\r\n            errors.log(\"W0001\", this.NAME, \"height\", \"20.1\", \"Functionality associated with this option is not intended for the Toolbar widget.\")\r\n        }\r\n    },\r\n    _getSynchronizableOptionsForCreateComponent: function() {\r\n        return this.callBase().filter(item => \"disabled\" !== item)\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        var template = new BindableTemplate(function($container, data, rawModel) {\r\n            if (isPlainObject(data)) {\r\n                if (data.text) {\r\n                    $container.text(data.text).wrapInner(\"<div>\")\r\n                }\r\n                if (data.html) {\r\n                    $container.html(data.html)\r\n                }\r\n                if (\"dxDropDownButton\" === data.widget) {\r\n                    data.options = data.options || {};\r\n                    if (!isDefined(data.options.stylingMode)) {\r\n                        data.options.stylingMode = this.option(\"useFlatButtons\") ? TEXT_BUTTON_MODE : DEFAULT_DROPDOWNBUTTON_STYLING_MODE\r\n                    }\r\n                }\r\n                if (\"dxButton\" === data.widget) {\r\n                    if (this.option(\"useFlatButtons\")) {\r\n                        data.options = data.options || {};\r\n                        data.options.stylingMode = data.options.stylingMode || TEXT_BUTTON_MODE\r\n                    }\r\n                    if (this.option(\"useDefaultButtons\")) {\r\n                        data.options = data.options || {};\r\n                        data.options.type = data.options.type || DEFAULT_BUTTON_TYPE\r\n                    }\r\n                }\r\n            } else {\r\n                $container.text(String(data))\r\n            }\r\n            this._getTemplate(\"dx-polymorph-widget\").render({\r\n                container: $container,\r\n                model: rawModel,\r\n                parent: this\r\n            })\r\n        }.bind(this), [\"text\", \"html\", \"widget\", \"options\"], this.option(\"integrationOptions.watchMethod\"));\r\n        this._templateManager.addDefaultTemplates({\r\n            item: template,\r\n            menuItem: template\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            renderAs: \"topToolbar\",\r\n            grouped: false,\r\n            useFlatButtons: false,\r\n            useDefaultButtons: false,\r\n            multiline: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                useFlatButtons: true\r\n            }\r\n        }])\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$toolbarItemsContainer.find([\".\" + TOOLBAR_BEFORE_CLASS, \".\" + TOOLBAR_CENTER_CLASS, \".\" + TOOLBAR_AFTER_CLASS].join(\",\"))\r\n    },\r\n    _itemClass: function() {\r\n        return TOOLBAR_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return TOOLBAR_ITEM_DATA_KEY\r\n    },\r\n    _buttonClass: function() {\r\n        return TOOLBAR_BUTTON_CLASS\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._arrangeItems();\r\n        this._applyCompactMode()\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderToolbar();\r\n        this._renderSections();\r\n        this.callBase();\r\n        this.setAria(\"role\", \"toolbar\")\r\n    },\r\n    _waitParentAnimationFinished: function() {\r\n        var $element = this.$element();\r\n        return new Promise(resolve => {\r\n            var runCheck = () => {\r\n                clearTimeout(this._waitParentAnimationTimeout);\r\n                this._waitParentAnimationTimeout = setTimeout(() => (() => {\r\n                    var readyToResolve = true;\r\n                    $element.parents().each((_, parent) => {\r\n                        if (fx.isAnimating($(parent))) {\r\n                            readyToResolve = false;\r\n                            return false\r\n                        }\r\n                    });\r\n                    if (readyToResolve) {\r\n                        resolve()\r\n                    }\r\n                    return readyToResolve\r\n                })() || runCheck(), 15)\r\n            };\r\n            runCheck()\r\n        })\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._renderItemsAsync();\r\n        if (isMaterial()) {\r\n            Promise.all([this._waitParentAnimationFinished(), this._checkWebFontForLabelsLoaded()]).then(this._dimensionChanged.bind(this))\r\n        }\r\n    },\r\n    _postProcessRenderItems: function() {\r\n        this._arrangeItems()\r\n    },\r\n    _renderToolbar: function() {\r\n        this.$element().addClass(TOOLBAR_CLASS).toggleClass(TOOLBAR_MULTILINE_CLASS, this.option(\"multiline\"));\r\n        this._$toolbarItemsContainer = $(\"<div>\").addClass(TOOLBAR_ITEMS_CONTAINER_CLASS).appendTo(this.$element())\r\n    },\r\n    _renderSections: function() {\r\n        var $container = this._$toolbarItemsContainer;\r\n        var that = this;\r\n        each([\"before\", \"center\", \"after\"], (function() {\r\n            var sectionClass = \"dx-toolbar-\" + this;\r\n            var $section = $container.find(\".\" + sectionClass);\r\n            if (!$section.length) {\r\n                that[\"_$\" + this + \"Section\"] = $section = $(\"<div>\").addClass(sectionClass).appendTo($container)\r\n            }\r\n        }))\r\n    },\r\n    _checkWebFontForLabelsLoaded: function() {\r\n        var $labels = this.$element().find(TOOLBAR_LABEL_SELECTOR);\r\n        var promises = [];\r\n        $labels.each((_, label) => {\r\n            var text = $(label).text();\r\n            var fontWeight = $(label).css(\"fontWeight\");\r\n            promises.push(waitWebFont(text, fontWeight))\r\n        });\r\n        return Promise.all(promises)\r\n    },\r\n    _arrangeItems: function(elementWidth) {\r\n        elementWidth = elementWidth || getWidth(this.$element());\r\n        this._$centerSection.css({\r\n            margin: \"0 auto\",\r\n            float: \"none\"\r\n        });\r\n        var beforeRect = getBoundingRect(this._$beforeSection.get(0));\r\n        var afterRect = getBoundingRect(this._$afterSection.get(0));\r\n        this._alignCenterSection(beforeRect, afterRect, elementWidth);\r\n        var $label = this._$toolbarItemsContainer.find(TOOLBAR_LABEL_SELECTOR).eq(0);\r\n        var $section = $label.parent();\r\n        if (!$label.length) {\r\n            return\r\n        }\r\n        var labelOffset = beforeRect.width ? beforeRect.width : $label.position().left;\r\n        var widthBeforeSection = $section.hasClass(TOOLBAR_BEFORE_CLASS) ? 0 : labelOffset;\r\n        var widthAfterSection = $section.hasClass(TOOLBAR_AFTER_CLASS) ? 0 : afterRect.width;\r\n        var elemsAtSectionWidth = 0;\r\n        $section.children().not(TOOLBAR_LABEL_SELECTOR).each((function() {\r\n            elemsAtSectionWidth += getOuterWidth(this)\r\n        }));\r\n        var freeSpace = elementWidth - elemsAtSectionWidth;\r\n        var sectionMaxWidth = Math.max(freeSpace - widthBeforeSection - widthAfterSection, 0);\r\n        if ($section.hasClass(TOOLBAR_BEFORE_CLASS)) {\r\n            this._alignSection(this._$beforeSection, sectionMaxWidth)\r\n        } else {\r\n            var labelPaddings = getOuterWidth($label) - getWidth($label);\r\n            $label.css(\"maxWidth\", sectionMaxWidth - labelPaddings)\r\n        }\r\n    },\r\n    _alignCenterSection: function(beforeRect, afterRect, elementWidth) {\r\n        this._alignSection(this._$centerSection, elementWidth - beforeRect.width - afterRect.width);\r\n        var isRTL = this.option(\"rtlEnabled\");\r\n        var leftRect = isRTL ? afterRect : beforeRect;\r\n        var rightRect = isRTL ? beforeRect : afterRect;\r\n        var centerRect = getBoundingRect(this._$centerSection.get(0));\r\n        if (leftRect.right > centerRect.left || centerRect.right > rightRect.left) {\r\n            this._$centerSection.css({\r\n                marginLeft: leftRect.width,\r\n                marginRight: rightRect.width,\r\n                float: leftRect.width > rightRect.width ? \"none\" : \"right\"\r\n            })\r\n        }\r\n    },\r\n    _alignSection: function($section, maxWidth) {\r\n        var $labels = $section.find(TOOLBAR_LABEL_SELECTOR);\r\n        var labels = $labels.toArray();\r\n        maxWidth -= this._getCurrentLabelsPaddings(labels);\r\n        var currentWidth = this._getCurrentLabelsWidth(labels);\r\n        var difference = Math.abs(currentWidth - maxWidth);\r\n        if (maxWidth < currentWidth) {\r\n            labels = labels.reverse();\r\n            this._alignSectionLabels(labels, difference, false)\r\n        } else {\r\n            this._alignSectionLabels(labels, difference, true)\r\n        }\r\n    },\r\n    _alignSectionLabels: function(labels, difference, expanding) {\r\n        var getRealLabelWidth = function(label) {\r\n            return getBoundingRect(label).width\r\n        };\r\n        for (var i = 0; i < labels.length; i++) {\r\n            var $label = $(labels[i]);\r\n            var currentLabelWidth = Math.ceil(getRealLabelWidth(labels[i]));\r\n            var labelMaxWidth = void 0;\r\n            if (expanding) {\r\n                $label.css(\"maxWidth\", \"inherit\")\r\n            }\r\n            var possibleLabelWidth = Math.ceil(expanding ? getRealLabelWidth(labels[i]) : currentLabelWidth);\r\n            if (possibleLabelWidth < difference) {\r\n                labelMaxWidth = expanding ? possibleLabelWidth : 0;\r\n                difference -= possibleLabelWidth\r\n            } else {\r\n                labelMaxWidth = expanding ? currentLabelWidth + difference : currentLabelWidth - difference;\r\n                $label.css(\"maxWidth\", labelMaxWidth);\r\n                break\r\n            }\r\n            $label.css(\"maxWidth\", labelMaxWidth)\r\n        }\r\n    },\r\n    _applyCompactMode: function() {\r\n        var $element = this.$element();\r\n        $element.removeClass(TOOLBAR_COMPACT_CLASS);\r\n        if (this.option(\"compactMode\") && this._getSummaryItemsWidth(this.itemElements(), true) > getWidth($element)) {\r\n            $element.addClass(TOOLBAR_COMPACT_CLASS)\r\n        }\r\n    },\r\n    _getCurrentLabelsWidth: function(labels) {\r\n        var width = 0;\r\n        labels.forEach((function(label, index) {\r\n            width += getOuterWidth(label)\r\n        }));\r\n        return width\r\n    },\r\n    _getCurrentLabelsPaddings: function(labels) {\r\n        var padding = 0;\r\n        labels.forEach((function(label, index) {\r\n            padding += getOuterWidth(label) - getWidth(label)\r\n        }));\r\n        return padding\r\n    },\r\n    _renderItem: function(index, item, itemContainer, $after) {\r\n        var location = item.location || \"center\";\r\n        var container = itemContainer || this[\"_$\" + location + \"Section\"];\r\n        var itemHasText = !!(item.text || item.html);\r\n        var itemElement = this.callBase(index, item, container, $after);\r\n        itemElement.toggleClass(this._buttonClass(), !itemHasText).toggleClass(TOOLBAR_LABEL_CLASS, itemHasText).addClass(item.cssClass);\r\n        return itemElement\r\n    },\r\n    _renderGroupedItems: function() {\r\n        var that = this;\r\n        each(this.option(\"items\"), (function(groupIndex, group) {\r\n            var groupItems = group.items;\r\n            var $container = $(\"<div>\").addClass(TOOLBAR_GROUP_CLASS);\r\n            var location = group.location || \"center\";\r\n            if (!groupItems || !groupItems.length) {\r\n                return\r\n            }\r\n            each(groupItems, (function(itemIndex, item) {\r\n                that._renderItem(itemIndex, item, $container, null)\r\n            }));\r\n            that._$toolbarItemsContainer.find(\".dx-toolbar-\" + location).append($container)\r\n        }))\r\n    },\r\n    _renderItems: function(items) {\r\n        var grouped = this.option(\"grouped\") && items.length && items[0].items;\r\n        grouped ? this._renderGroupedItems() : this.callBase(items)\r\n    },\r\n    _getToolbarItems: function() {\r\n        return this.option(\"items\") || []\r\n    },\r\n    _renderContentImpl: function() {\r\n        var items = this._getToolbarItems();\r\n        this.$element().toggleClass(TOOLBAR_MINI_CLASS, 0 === items.length);\r\n        if (this._renderedItemsCount) {\r\n            this._renderItems(items.slice(this._renderedItemsCount))\r\n        } else {\r\n            this._renderItems(items)\r\n        }\r\n        this._applyCompactMode()\r\n    },\r\n    _renderEmptyMessage: noop,\r\n    _clean: function() {\r\n        this._$toolbarItemsContainer.children().empty();\r\n        this.$element().empty()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._arrangeItems()\r\n        }\r\n    },\r\n    _isVisible: function() {\r\n        return getWidth(this.$element()) > 0 && getHeight(this.$element()) > 0\r\n    },\r\n    _getIndexByItem: function(item) {\r\n        return this._getToolbarItems().indexOf(item)\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        this.callBase.apply(this, [item, property, value]);\r\n        this._arrangeItems()\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        switch (name) {\r\n            case \"width\":\r\n                this.callBase.apply(this, arguments);\r\n                this._dimensionChanged();\r\n                break;\r\n            case \"multiline\":\r\n                this.$element().toggleClass(TOOLBAR_MULTILINE_CLASS, args.value);\r\n                break;\r\n            case \"renderAs\":\r\n            case \"useFlatButtons\":\r\n            case \"useDefaultButtons\":\r\n                this._invalidate();\r\n                break;\r\n            case \"compactMode\":\r\n                this._applyCompactMode();\r\n                break;\r\n            case \"grouped\":\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        clearTimeout(this._waitParentAnimationTimeout)\r\n    }\r\n});\r\nregisterComponent(\"dxToolbarBase\", ToolbarBase);\r\nexport default ToolbarBase;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
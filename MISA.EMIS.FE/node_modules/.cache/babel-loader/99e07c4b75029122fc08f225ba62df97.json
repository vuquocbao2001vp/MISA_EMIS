{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/**\r\n * DevExtreme (esm/ui/number_box/number_box.base.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { applyServerDecimalSeparator, ensureDefined } from \"../../core/utils/common\";\nimport { isDefined } from \"../../core/utils/type\";\nimport { fitIntoRange, inRange } from \"../../core/utils/math\";\nimport { extend } from \"../../core/utils/extend\";\nimport devices from \"../../core/devices\";\nimport browser from \"../../core/utils/browser\";\nimport TextEditor from \"../text_box/ui.text_editor\";\nimport { addNamespace, getChar, isCommandKeyPressed, normalizeKeyName } from \"../../events/utils/index\";\nimport SpinButtons from \"./number_box.spins\";\nimport messageLocalization from \"../../localization/message\";\nimport { Deferred } from \"../../core/utils/deferred\";\nvar math = Math;\nvar WIDGET_CLASS = \"dx-numberbox\";\nvar FIREFOX_CONTROL_KEYS = [\"tab\", \"del\", \"backspace\", \"leftArrow\", \"rightArrow\", \"home\", \"end\", \"enter\"];\nvar FORCE_VALUECHANGE_EVENT_NAMESPACE = \"NumberBoxForceValueChange\";\nvar NumberBoxBase = TextEditor.inherit({\n  _supportedKeys: function () {\n    return extend(this.callBase(), {\n      upArrow: function (e) {\n        if (!isCommandKeyPressed(e)) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          this._spinUpChangeHandler(e);\n        }\n      },\n      downArrow: function (e) {\n        if (!isCommandKeyPressed(e)) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          this._spinDownChangeHandler(e);\n        }\n      },\n      enter: function () {}\n    });\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      value: 0,\n      min: void 0,\n      max: void 0,\n      step: 1,\n      showSpinButtons: false,\n      useLargeSpinButtons: true,\n      mode: \"text\",\n      invalidValueMessage: messageLocalization.format(\"dxNumberBox-invalidValueMessage\"),\n      buttons: void 0\n    });\n  },\n  _useTemplates: function () {\n    return false;\n  },\n  _getDefaultButtons: function () {\n    return this.callBase().concat([{\n      name: \"spins\",\n      Ctor: SpinButtons\n    }]);\n  },\n  _isSupportInputMode: function () {\n    var version = parseFloat(browser.version);\n    return browser.chrome && version >= 66 || browser.safari && version >= 12;\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: function () {\n        return devices.real().generic && !devices.isSimulator();\n      },\n      options: {\n        useLargeSpinButtons: false\n      }\n    }, {\n      device: function () {\n        return \"desktop\" !== devices.real().deviceType && !this._isSupportInputMode();\n      }.bind(this),\n      options: {\n        mode: \"number\"\n      }\n    }]);\n  },\n  _initMarkup: function () {\n    this._renderSubmitElement();\n\n    this.$element().addClass(WIDGET_CLASS);\n    this.callBase();\n  },\n  _getDefaultAttributes: function () {\n    var attributes = this.callBase();\n    attributes.inputmode = \"decimal\";\n    return attributes;\n  },\n  _renderContentImpl: function () {\n    this.option(\"isValid\") && this._validateValue(this.option(\"value\"));\n    this.setAria(\"role\", \"spinbutton\");\n  },\n  _renderSubmitElement: function () {\n    this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element());\n\n    this._setSubmitValue(this.option(\"value\"));\n  },\n  _setSubmitValue: function (value) {\n    this._getSubmitElement().val(applyServerDecimalSeparator(value));\n  },\n  _getSubmitElement: function () {\n    return this._$submitElement;\n  },\n  _keyPressHandler: function (e) {\n    this.callBase(e);\n    var char = getChar(e);\n    var isInputCharValid = /[\\d.,eE\\-+]/.test(char);\n\n    if (!isInputCharValid) {\n      var keyName = normalizeKeyName(e);\n\n      if (isCommandKeyPressed(e) || keyName && FIREFOX_CONTROL_KEYS.includes(keyName)) {\n        return;\n      }\n\n      e.preventDefault();\n      return false;\n    }\n\n    this._keyPressed = true;\n  },\n  _onMouseWheel: function (dxEvent) {\n    dxEvent.delta > 0 ? this._spinValueChange(1, dxEvent) : this._spinValueChange(-1, dxEvent);\n  },\n  _renderValue: function () {\n    var inputValue = this._input().val();\n\n    var value = this.option(\"value\");\n\n    if (!inputValue.length || Number(inputValue) !== value) {\n      this._forceValueRender();\n\n      this._toggleEmptinessEventHandler();\n    }\n\n    var valueText = isDefined(value) ? null : messageLocalization.format(\"dxNumberBox-noDataText\");\n    this.setAria({\n      valuenow: ensureDefined(value, \"\"),\n      valuetext: valueText\n    });\n    this.option(\"text\", this._input().val());\n\n    this._updateButtons();\n\n    return new Deferred().resolve();\n  },\n  _forceValueRender: function () {\n    var value = this.option(\"value\");\n    var number = Number(value);\n    var formattedValue = isNaN(number) ? \"\" : this._applyDisplayValueFormatter(value);\n\n    this._renderDisplayText(formattedValue);\n  },\n  _applyDisplayValueFormatter: function (value) {\n    return this.option(\"displayValueFormatter\")(value);\n  },\n  _renderProps: function () {\n    this._input().prop({\n      min: this.option(\"min\"),\n      max: this.option(\"max\"),\n      step: this.option(\"step\")\n    });\n\n    this.setAria({\n      valuemin: ensureDefined(this.option(\"min\"), \"\"),\n      valuemax: ensureDefined(this.option(\"max\"), \"\")\n    });\n  },\n  _spinButtonsPointerDownHandler: function () {\n    var $input = this._input();\n\n    if (!this.option(\"useLargeSpinButtons\") && domAdapter.getActiveElement() !== $input[0]) {\n      eventsEngine.trigger($input, \"focus\");\n    }\n  },\n  _spinUpChangeHandler: function (e) {\n    if (!this.option(\"readOnly\")) {\n      this._spinValueChange(1, e.event || e);\n    }\n  },\n  _spinDownChangeHandler: function (e) {\n    if (!this.option(\"readOnly\")) {\n      this._spinValueChange(-1, e.event || e);\n    }\n  },\n  _spinValueChange: function (sign, dxEvent) {\n    var step = parseFloat(this.option(\"step\"));\n\n    if (0 === step) {\n      return;\n    }\n\n    var value = parseFloat(this._normalizeInputValue()) || 0;\n    value = this._correctRounding(value, step * sign);\n    var min = this.option(\"min\");\n    var max = this.option(\"max\");\n\n    if (isDefined(min)) {\n      value = Math.max(min, value);\n    }\n\n    if (isDefined(max)) {\n      value = Math.min(max, value);\n    }\n\n    this._saveValueChangeEvent(dxEvent);\n\n    this.option(\"value\", value);\n  },\n  _correctRounding: function (value, step) {\n    var regex = /[,.](.*)/;\n    var isFloatValue = regex.test(value);\n    var isFloatStep = regex.test(step);\n\n    if (isFloatValue || isFloatStep) {\n      var valueAccuracy = isFloatValue ? regex.exec(value)[0].length : 0;\n      var stepAccuracy = isFloatStep ? regex.exec(step)[0].length : 0;\n      var accuracy = math.max(valueAccuracy, stepAccuracy);\n      value = this._round(value + step, accuracy);\n      return value;\n    }\n\n    return value + step;\n  },\n  _round: function (value, precision) {\n    precision = precision || 0;\n    var multiplier = Math.pow(10, precision);\n    value *= multiplier;\n    value = Math.round(value) / multiplier;\n    return value;\n  },\n  _renderValueChangeEvent: function () {\n    this.callBase();\n    var forceValueChangeEvent = addNamespace(\"focusout\", FORCE_VALUECHANGE_EVENT_NAMESPACE);\n    eventsEngine.off(this.element(), forceValueChangeEvent);\n    eventsEngine.on(this.element(), forceValueChangeEvent, this._forceRefreshInputValue.bind(this));\n  },\n  _forceRefreshInputValue: function () {\n    if (\"number\" === this.option(\"mode\")) {\n      return;\n    }\n\n    var $input = this._input();\n\n    var formattedValue = this._applyDisplayValueFormatter(this.option(\"value\"));\n\n    $input.val(null);\n    $input.val(formattedValue);\n  },\n  _valueChangeEventHandler: function (e) {\n    var $input = this._input();\n\n    var inputValue = this._normalizeText();\n\n    var value = this._parseValue(inputValue);\n\n    var valueHasDigits = \".\" !== inputValue && \"-\" !== inputValue;\n\n    if (this._isValueValid() && !this._validateValue(value)) {\n      $input.val(this._applyDisplayValueFormatter(value));\n      return;\n    }\n\n    if (valueHasDigits) {\n      this.callBase(e, isNaN(value) ? null : value);\n    }\n\n    this._applyValueBoundaries(inputValue, value);\n\n    this.validationRequest.fire({\n      value: value,\n      editor: this\n    });\n  },\n  _applyValueBoundaries: function (inputValue, parsedValue) {\n    var isValueIncomplete = this._isValueIncomplete(inputValue);\n\n    var isValueCorrect = this._isValueInRange(inputValue);\n\n    if (!isValueIncomplete && !isValueCorrect && null !== parsedValue) {\n      if (Number(inputValue) !== parsedValue) {\n        this._input().val(this._applyDisplayValueFormatter(parsedValue));\n      }\n    }\n  },\n  _replaceCommaWithPoint: function (value) {\n    return value.replace(\",\", \".\");\n  },\n  _inputIsInvalid: function () {\n    var isNumberMode = \"number\" === this.option(\"mode\");\n\n    var validityState = this._input().get(0).validity;\n\n    return isNumberMode && validityState && validityState.badInput;\n  },\n  _renderDisplayText: function (text) {\n    if (this._inputIsInvalid()) {\n      return;\n    }\n\n    this.callBase(text);\n  },\n  _isValueIncomplete: function (value) {\n    return /(^-$)|(^-?\\d*\\.$)|(\\d+e-?$)/i.test(value);\n  },\n  _isValueInRange: function (value) {\n    return inRange(value, this.option(\"min\"), this.option(\"max\"));\n  },\n  _isNumber: function (value) {\n    return null !== this._parseValue(value);\n  },\n  _validateValue: function (value) {\n    var inputValue = this._normalizeText();\n\n    var isValueValid = this._isValueValid();\n\n    var isValid = true;\n\n    var isNumber = this._isNumber(inputValue);\n\n    if (isNaN(Number(value))) {\n      isValid = false;\n    }\n\n    if (!value && isValueValid) {\n      isValid = true;\n    } else if (!isNumber && !isValueValid) {\n      isValid = false;\n    }\n\n    this.option({\n      isValid: isValid,\n      validationError: isValid ? null : {\n        editorSpecific: true,\n        message: this.option(\"invalidValueMessage\")\n      }\n    });\n    return isValid;\n  },\n  _normalizeInputValue: function () {\n    return this._parseValue(this._normalizeText());\n  },\n  _normalizeText: function () {\n    var value = this._input().val().trim();\n\n    return this._replaceCommaWithPoint(value);\n  },\n  _parseValue: function (value) {\n    var number = parseFloat(value);\n\n    if (isNaN(number)) {\n      return null;\n    }\n\n    return fitIntoRange(number, this.option(\"min\"), this.option(\"max\"));\n  },\n  _clearValue: function () {\n    if (this._inputIsInvalid()) {\n      this._input().val(\"\");\n\n      this._validateValue();\n    }\n\n    this.callBase();\n  },\n  reset: function () {\n    if (null === this.option(\"value\")) {\n      this.option(\"text\", \"\");\n\n      this._renderValue();\n    } else {\n      this.option(\"value\", null);\n    }\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"value\":\n        this._validateValue(args.value);\n\n        this._setSubmitValue(args.value);\n\n        this.callBase(args);\n\n        this._resumeValueChangeAction();\n\n        break;\n\n      case \"step\":\n        this._renderProps();\n\n        break;\n\n      case \"min\":\n      case \"max\":\n        this._renderProps();\n\n        this.option(\"value\", this._parseValue(this.option(\"value\")));\n        break;\n\n      case \"showSpinButtons\":\n      case \"useLargeSpinButtons\":\n        this._updateButtons([\"spins\"]);\n\n        break;\n\n      case \"invalidValueMessage\":\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n});\nexport default NumberBoxBase;","map":{"version":3,"names":["$","domAdapter","eventsEngine","applyServerDecimalSeparator","ensureDefined","isDefined","fitIntoRange","inRange","extend","devices","browser","TextEditor","addNamespace","getChar","isCommandKeyPressed","normalizeKeyName","SpinButtons","messageLocalization","Deferred","math","Math","WIDGET_CLASS","FIREFOX_CONTROL_KEYS","FORCE_VALUECHANGE_EVENT_NAMESPACE","NumberBoxBase","inherit","_supportedKeys","callBase","upArrow","e","preventDefault","stopPropagation","_spinUpChangeHandler","downArrow","_spinDownChangeHandler","enter","_getDefaultOptions","value","min","max","step","showSpinButtons","useLargeSpinButtons","mode","invalidValueMessage","format","buttons","_useTemplates","_getDefaultButtons","concat","name","Ctor","_isSupportInputMode","version","parseFloat","chrome","safari","_defaultOptionsRules","device","real","generic","isSimulator","options","deviceType","bind","_initMarkup","_renderSubmitElement","$element","addClass","_getDefaultAttributes","attributes","inputmode","_renderContentImpl","option","_validateValue","setAria","_$submitElement","attr","appendTo","_setSubmitValue","_getSubmitElement","val","_keyPressHandler","char","isInputCharValid","test","keyName","includes","_keyPressed","_onMouseWheel","dxEvent","delta","_spinValueChange","_renderValue","inputValue","_input","length","Number","_forceValueRender","_toggleEmptinessEventHandler","valueText","valuenow","valuetext","_updateButtons","resolve","number","formattedValue","isNaN","_applyDisplayValueFormatter","_renderDisplayText","_renderProps","prop","valuemin","valuemax","_spinButtonsPointerDownHandler","$input","getActiveElement","trigger","event","sign","_normalizeInputValue","_correctRounding","_saveValueChangeEvent","regex","isFloatValue","isFloatStep","valueAccuracy","exec","stepAccuracy","accuracy","_round","precision","multiplier","pow","round","_renderValueChangeEvent","forceValueChangeEvent","off","element","on","_forceRefreshInputValue","_valueChangeEventHandler","_normalizeText","_parseValue","valueHasDigits","_isValueValid","_applyValueBoundaries","validationRequest","fire","editor","parsedValue","isValueIncomplete","_isValueIncomplete","isValueCorrect","_isValueInRange","_replaceCommaWithPoint","replace","_inputIsInvalid","isNumberMode","validityState","get","validity","badInput","text","_isNumber","isValueValid","isValid","isNumber","validationError","editorSpecific","message","trim","_clearValue","reset","_optionChanged","args","_resumeValueChangeAction"],"sources":["E:/MisaProject/W2022_06/MISA.EMIS.FE/node_modules/devextreme/esm/ui/number_box/number_box.base.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/number_box/number_box.base.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    applyServerDecimalSeparator,\r\n    ensureDefined\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    fitIntoRange,\r\n    inRange\r\n} from \"../../core/utils/math\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport devices from \"../../core/devices\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport TextEditor from \"../text_box/ui.text_editor\";\r\nimport {\r\n    addNamespace,\r\n    getChar,\r\n    isCommandKeyPressed,\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport SpinButtons from \"./number_box.spins\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar math = Math;\r\nvar WIDGET_CLASS = \"dx-numberbox\";\r\nvar FIREFOX_CONTROL_KEYS = [\"tab\", \"del\", \"backspace\", \"leftArrow\", \"rightArrow\", \"home\", \"end\", \"enter\"];\r\nvar FORCE_VALUECHANGE_EVENT_NAMESPACE = \"NumberBoxForceValueChange\";\r\nvar NumberBoxBase = TextEditor.inherit({\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            upArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    this._spinUpChangeHandler(e)\r\n                }\r\n            },\r\n            downArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    this._spinDownChangeHandler(e)\r\n                }\r\n            },\r\n            enter: function() {}\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            value: 0,\r\n            min: void 0,\r\n            max: void 0,\r\n            step: 1,\r\n            showSpinButtons: false,\r\n            useLargeSpinButtons: true,\r\n            mode: \"text\",\r\n            invalidValueMessage: messageLocalization.format(\"dxNumberBox-invalidValueMessage\"),\r\n            buttons: void 0\r\n        })\r\n    },\r\n    _useTemplates: function() {\r\n        return false\r\n    },\r\n    _getDefaultButtons: function() {\r\n        return this.callBase().concat([{\r\n            name: \"spins\",\r\n            Ctor: SpinButtons\r\n        }])\r\n    },\r\n    _isSupportInputMode: function() {\r\n        var version = parseFloat(browser.version);\r\n        return browser.chrome && version >= 66 || browser.safari && version >= 12\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return devices.real().generic && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                useLargeSpinButtons: false\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" !== devices.real().deviceType && !this._isSupportInputMode()\r\n            }.bind(this),\r\n            options: {\r\n                mode: \"number\"\r\n            }\r\n        }])\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderSubmitElement();\r\n        this.$element().addClass(WIDGET_CLASS);\r\n        this.callBase()\r\n    },\r\n    _getDefaultAttributes: function() {\r\n        var attributes = this.callBase();\r\n        attributes.inputmode = \"decimal\";\r\n        return attributes\r\n    },\r\n    _renderContentImpl: function() {\r\n        this.option(\"isValid\") && this._validateValue(this.option(\"value\"));\r\n        this.setAria(\"role\", \"spinbutton\")\r\n    },\r\n    _renderSubmitElement: function() {\r\n        this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element());\r\n        this._setSubmitValue(this.option(\"value\"))\r\n    },\r\n    _setSubmitValue: function(value) {\r\n        this._getSubmitElement().val(applyServerDecimalSeparator(value))\r\n    },\r\n    _getSubmitElement: function() {\r\n        return this._$submitElement\r\n    },\r\n    _keyPressHandler: function(e) {\r\n        this.callBase(e);\r\n        var char = getChar(e);\r\n        var isInputCharValid = /[\\d.,eE\\-+]/.test(char);\r\n        if (!isInputCharValid) {\r\n            var keyName = normalizeKeyName(e);\r\n            if (isCommandKeyPressed(e) || keyName && FIREFOX_CONTROL_KEYS.includes(keyName)) {\r\n                return\r\n            }\r\n            e.preventDefault();\r\n            return false\r\n        }\r\n        this._keyPressed = true\r\n    },\r\n    _onMouseWheel: function(dxEvent) {\r\n        dxEvent.delta > 0 ? this._spinValueChange(1, dxEvent) : this._spinValueChange(-1, dxEvent)\r\n    },\r\n    _renderValue: function() {\r\n        var inputValue = this._input().val();\r\n        var value = this.option(\"value\");\r\n        if (!inputValue.length || Number(inputValue) !== value) {\r\n            this._forceValueRender();\r\n            this._toggleEmptinessEventHandler()\r\n        }\r\n        var valueText = isDefined(value) ? null : messageLocalization.format(\"dxNumberBox-noDataText\");\r\n        this.setAria({\r\n            valuenow: ensureDefined(value, \"\"),\r\n            valuetext: valueText\r\n        });\r\n        this.option(\"text\", this._input().val());\r\n        this._updateButtons();\r\n        return (new Deferred).resolve()\r\n    },\r\n    _forceValueRender: function() {\r\n        var value = this.option(\"value\");\r\n        var number = Number(value);\r\n        var formattedValue = isNaN(number) ? \"\" : this._applyDisplayValueFormatter(value);\r\n        this._renderDisplayText(formattedValue)\r\n    },\r\n    _applyDisplayValueFormatter: function(value) {\r\n        return this.option(\"displayValueFormatter\")(value)\r\n    },\r\n    _renderProps: function() {\r\n        this._input().prop({\r\n            min: this.option(\"min\"),\r\n            max: this.option(\"max\"),\r\n            step: this.option(\"step\")\r\n        });\r\n        this.setAria({\r\n            valuemin: ensureDefined(this.option(\"min\"), \"\"),\r\n            valuemax: ensureDefined(this.option(\"max\"), \"\")\r\n        })\r\n    },\r\n    _spinButtonsPointerDownHandler: function() {\r\n        var $input = this._input();\r\n        if (!this.option(\"useLargeSpinButtons\") && domAdapter.getActiveElement() !== $input[0]) {\r\n            eventsEngine.trigger($input, \"focus\")\r\n        }\r\n    },\r\n    _spinUpChangeHandler: function(e) {\r\n        if (!this.option(\"readOnly\")) {\r\n            this._spinValueChange(1, e.event || e)\r\n        }\r\n    },\r\n    _spinDownChangeHandler: function(e) {\r\n        if (!this.option(\"readOnly\")) {\r\n            this._spinValueChange(-1, e.event || e)\r\n        }\r\n    },\r\n    _spinValueChange: function(sign, dxEvent) {\r\n        var step = parseFloat(this.option(\"step\"));\r\n        if (0 === step) {\r\n            return\r\n        }\r\n        var value = parseFloat(this._normalizeInputValue()) || 0;\r\n        value = this._correctRounding(value, step * sign);\r\n        var min = this.option(\"min\");\r\n        var max = this.option(\"max\");\r\n        if (isDefined(min)) {\r\n            value = Math.max(min, value)\r\n        }\r\n        if (isDefined(max)) {\r\n            value = Math.min(max, value)\r\n        }\r\n        this._saveValueChangeEvent(dxEvent);\r\n        this.option(\"value\", value)\r\n    },\r\n    _correctRounding: function(value, step) {\r\n        var regex = /[,.](.*)/;\r\n        var isFloatValue = regex.test(value);\r\n        var isFloatStep = regex.test(step);\r\n        if (isFloatValue || isFloatStep) {\r\n            var valueAccuracy = isFloatValue ? regex.exec(value)[0].length : 0;\r\n            var stepAccuracy = isFloatStep ? regex.exec(step)[0].length : 0;\r\n            var accuracy = math.max(valueAccuracy, stepAccuracy);\r\n            value = this._round(value + step, accuracy);\r\n            return value\r\n        }\r\n        return value + step\r\n    },\r\n    _round: function(value, precision) {\r\n        precision = precision || 0;\r\n        var multiplier = Math.pow(10, precision);\r\n        value *= multiplier;\r\n        value = Math.round(value) / multiplier;\r\n        return value\r\n    },\r\n    _renderValueChangeEvent: function() {\r\n        this.callBase();\r\n        var forceValueChangeEvent = addNamespace(\"focusout\", FORCE_VALUECHANGE_EVENT_NAMESPACE);\r\n        eventsEngine.off(this.element(), forceValueChangeEvent);\r\n        eventsEngine.on(this.element(), forceValueChangeEvent, this._forceRefreshInputValue.bind(this))\r\n    },\r\n    _forceRefreshInputValue: function() {\r\n        if (\"number\" === this.option(\"mode\")) {\r\n            return\r\n        }\r\n        var $input = this._input();\r\n        var formattedValue = this._applyDisplayValueFormatter(this.option(\"value\"));\r\n        $input.val(null);\r\n        $input.val(formattedValue)\r\n    },\r\n    _valueChangeEventHandler: function(e) {\r\n        var $input = this._input();\r\n        var inputValue = this._normalizeText();\r\n        var value = this._parseValue(inputValue);\r\n        var valueHasDigits = \".\" !== inputValue && \"-\" !== inputValue;\r\n        if (this._isValueValid() && !this._validateValue(value)) {\r\n            $input.val(this._applyDisplayValueFormatter(value));\r\n            return\r\n        }\r\n        if (valueHasDigits) {\r\n            this.callBase(e, isNaN(value) ? null : value)\r\n        }\r\n        this._applyValueBoundaries(inputValue, value);\r\n        this.validationRequest.fire({\r\n            value: value,\r\n            editor: this\r\n        })\r\n    },\r\n    _applyValueBoundaries: function(inputValue, parsedValue) {\r\n        var isValueIncomplete = this._isValueIncomplete(inputValue);\r\n        var isValueCorrect = this._isValueInRange(inputValue);\r\n        if (!isValueIncomplete && !isValueCorrect && null !== parsedValue) {\r\n            if (Number(inputValue) !== parsedValue) {\r\n                this._input().val(this._applyDisplayValueFormatter(parsedValue))\r\n            }\r\n        }\r\n    },\r\n    _replaceCommaWithPoint: function(value) {\r\n        return value.replace(\",\", \".\")\r\n    },\r\n    _inputIsInvalid: function() {\r\n        var isNumberMode = \"number\" === this.option(\"mode\");\r\n        var validityState = this._input().get(0).validity;\r\n        return isNumberMode && validityState && validityState.badInput\r\n    },\r\n    _renderDisplayText: function(text) {\r\n        if (this._inputIsInvalid()) {\r\n            return\r\n        }\r\n        this.callBase(text)\r\n    },\r\n    _isValueIncomplete: function(value) {\r\n        return /(^-$)|(^-?\\d*\\.$)|(\\d+e-?$)/i.test(value)\r\n    },\r\n    _isValueInRange: function(value) {\r\n        return inRange(value, this.option(\"min\"), this.option(\"max\"))\r\n    },\r\n    _isNumber: function(value) {\r\n        return null !== this._parseValue(value)\r\n    },\r\n    _validateValue: function(value) {\r\n        var inputValue = this._normalizeText();\r\n        var isValueValid = this._isValueValid();\r\n        var isValid = true;\r\n        var isNumber = this._isNumber(inputValue);\r\n        if (isNaN(Number(value))) {\r\n            isValid = false\r\n        }\r\n        if (!value && isValueValid) {\r\n            isValid = true\r\n        } else if (!isNumber && !isValueValid) {\r\n            isValid = false\r\n        }\r\n        this.option({\r\n            isValid: isValid,\r\n            validationError: isValid ? null : {\r\n                editorSpecific: true,\r\n                message: this.option(\"invalidValueMessage\")\r\n            }\r\n        });\r\n        return isValid\r\n    },\r\n    _normalizeInputValue: function() {\r\n        return this._parseValue(this._normalizeText())\r\n    },\r\n    _normalizeText: function() {\r\n        var value = this._input().val().trim();\r\n        return this._replaceCommaWithPoint(value)\r\n    },\r\n    _parseValue: function(value) {\r\n        var number = parseFloat(value);\r\n        if (isNaN(number)) {\r\n            return null\r\n        }\r\n        return fitIntoRange(number, this.option(\"min\"), this.option(\"max\"))\r\n    },\r\n    _clearValue: function() {\r\n        if (this._inputIsInvalid()) {\r\n            this._input().val(\"\");\r\n            this._validateValue()\r\n        }\r\n        this.callBase()\r\n    },\r\n    reset: function() {\r\n        if (null === this.option(\"value\")) {\r\n            this.option(\"text\", \"\");\r\n            this._renderValue()\r\n        } else {\r\n            this.option(\"value\", null)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"value\":\r\n                this._validateValue(args.value);\r\n                this._setSubmitValue(args.value);\r\n                this.callBase(args);\r\n                this._resumeValueChangeAction();\r\n                break;\r\n            case \"step\":\r\n                this._renderProps();\r\n                break;\r\n            case \"min\":\r\n            case \"max\":\r\n                this._renderProps();\r\n                this.option(\"value\", this._parseValue(this.option(\"value\")));\r\n                break;\r\n            case \"showSpinButtons\":\r\n            case \"useLargeSpinButtons\":\r\n                this._updateButtons([\"spins\"]);\r\n                break;\r\n            case \"invalidValueMessage\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport default NumberBoxBase;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/axes/tick.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { isDefined } from \"../../core/utils/type\";\nimport { extend } from \"../../core/utils/extend\";\nimport { Deferred } from \"../../core/utils/deferred\";\n\nfunction getPathStyle(options) {\n  return {\n    stroke: options.color,\n    \"stroke-width\": options.width,\n    \"stroke-opacity\": options.opacity,\n    opacity: 1\n  };\n}\n\nfunction createTick(axis, renderer, tickOptions, gridOptions, skippedCategory, skipLabels, offset) {\n  var tickOffset = offset || axis._tickOffset;\n  var lineGroup = axis._axisLineGroup;\n  var elementsGroup = axis._axisElementsGroup;\n  var tickStyle = getPathStyle(tickOptions);\n  var gridStyle = getPathStyle(gridOptions);\n  var emptyStrRegExp = /^\\s+$/;\n  var axisOptions = axis.getOptions();\n  var labelOptions = axisOptions.label;\n  var labelStyle = axis._textOptions;\n\n  function getLabelFontStyle(tick) {\n    var fontStyle = axis._textFontStyles;\n    var customizeColor = labelOptions.customizeColor;\n\n    if (customizeColor && customizeColor.call) {\n      fontStyle = extend({}, axis._textFontStyles, {\n        fill: customizeColor.call(tick, tick)\n      });\n    }\n\n    return fontStyle;\n  }\n\n  function createLabelHint(tick, range) {\n    var labelHint = axis.formatHint(tick.value, labelOptions, range);\n\n    if (isDefined(labelHint) && \"\" !== labelHint) {\n      tick.getContentContainer().setTitle(labelHint);\n    }\n  }\n\n  return function (value) {\n    var tick = {\n      value: value,\n\n      updateValue(newValue) {\n        this.value = value = newValue;\n      },\n\n      initCoords: function () {\n        this.coords = axis._getTranslatedValue(value, tickOffset);\n        this.labelCoords = axis._getTranslatedValue(value);\n      },\n\n      saveCoords() {\n        this._lastStoredCoordinates = {\n          coords: this._storedCoords,\n          labelCoords: this._storedLabelsCoords\n        };\n        this._storedCoords = this.coords;\n        this._storedLabelsCoords = this.templateContainer ? this._getTemplateCoords() : this.labelCoords;\n      },\n\n      resetCoordinates() {\n        if (this._lastStoredCoordinates) {\n          this._storedCoords = this._lastStoredCoordinates.coords;\n          this._storedLabelsCoords = this._lastStoredCoordinates.labelCoords;\n        }\n      },\n\n      drawMark(options) {\n        if (!tickOptions.visible || skippedCategory === value) {\n          return;\n        }\n\n        if (axis.areCoordsOutsideAxis(this.coords)) {\n          return;\n        }\n\n        if (this.mark) {\n          this.mark.append(lineGroup);\n          axis.sharp(this.mark, axis.getSharpDirectionByCoords(this.coords));\n          this.updateTickPosition(options);\n        } else {\n          this.mark = axis._createPathElement([], tickStyle, axis.getSharpDirectionByCoords(this.coords)).append(lineGroup);\n          this.updateTickPosition(options);\n        }\n      },\n\n      setSkippedCategory(category) {\n        skippedCategory = category;\n      },\n\n      _updateLine(lineElement, settings, storedSettings, animate, isGridLine) {\n        if (!lineElement) {\n          return;\n        }\n\n        if (null === settings.points || null === settings.r) {\n          lineElement.remove();\n          return;\n        }\n\n        if (animate && storedSettings && null !== storedSettings.points) {\n          settings.opacity = 1;\n          lineElement.attr(storedSettings);\n          lineElement.animate(settings);\n        } else {\n          settings.opacity = animate ? 0 : 1;\n          lineElement.attr(settings);\n          animate && lineElement.animate({\n            opacity: 1\n          }, {\n            delay: .5,\n            partitionDuration: .5\n          });\n        }\n\n        this.coords.angle && axis._rotateTick(lineElement, this.coords, isGridLine);\n      },\n\n      updateTickPosition: function (options, animate) {\n        this._updateLine(this.mark, {\n          points: axis._getTickMarkPoints(tick.coords, tickOptions.length, options)\n        }, this._storedCoords && {\n          points: axis._getTickMarkPoints(tick._storedCoords, tickOptions.length, options)\n        }, animate, false);\n      },\n      drawLabel: function (range, template) {\n        if (this.templateContainer && axis.isRendered()) {\n          this.updateLabelPosition();\n          return;\n        }\n\n        var labelIsVisible = labelOptions.visible && !skipLabels && !axis.getTranslator().getBusinessRange().isEmpty() && !axis.areCoordsOutsideAxis(this.labelCoords);\n\n        if (!labelIsVisible) {\n          if (this.label) {\n            this.removeLabel();\n          }\n\n          return;\n        }\n\n        var templateOption = labelOptions.template;\n        var text = axis.formatLabel(value, labelOptions, range);\n\n        if (this.label) {\n          this.label.attr({\n            text: text,\n            rotate: 0\n          }).append(elementsGroup);\n          createLabelHint(this, range);\n          this.updateLabelPosition();\n          return;\n        }\n\n        if (templateOption) {\n          this.templateContainer = renderer.g().append(elementsGroup);\n          this._templateDef && this._templateDef.reject();\n          this._templateDef = new Deferred();\n          template.render({\n            model: {\n              valueText: text,\n              value: this.value,\n              labelFontStyle: getLabelFontStyle(this),\n              labelStyle: labelStyle\n            },\n            container: this.templateContainer.element,\n            onRendered: () => {\n              this.updateLabelPosition();\n              this._templateDef && this._templateDef.resolve();\n            }\n          });\n        } else if (isDefined(text) && \"\" !== text && !emptyStrRegExp.test(text)) {\n          this.label = renderer.text(text).css(getLabelFontStyle(this)).attr(labelStyle).append(elementsGroup);\n          this.updateLabelPosition();\n          createLabelHint(this, range);\n        }\n\n        var containerForData = this.getContentContainer();\n        containerForData && containerForData.data(\"chart-data-argument\", this.value);\n        this.templateContainer && createLabelHint(this, range);\n      },\n\n      getTemplateDeferred() {\n        return this._templateDef;\n      },\n\n      getContentContainer() {\n        return this.templateContainer || this.label;\n      },\n\n      fadeOutElements() {\n        var startSettings = {\n          opacity: 1\n        };\n        var endSettings = {\n          opacity: 0\n        };\n        var animationSettings = {\n          partitionDuration: .5\n        };\n\n        if (this.getContentContainer()) {\n          this._fadeOutLabel();\n        }\n\n        if (this.grid) {\n          this.grid.append(axis._axisGridGroup).attr(startSettings).animate(endSettings, animationSettings);\n        }\n\n        if (this.mark) {\n          this.mark.append(axis._axisLineGroup).attr(startSettings).animate(endSettings, animationSettings);\n        }\n      },\n\n      _fadeInLabel() {\n        var group = axis._renderer.g().attr({\n          opacity: 0\n        }).append(axis._axisElementsGroup).animate({\n          opacity: 1\n        }, {\n          delay: .5,\n          partitionDuration: .5\n        });\n\n        this.getContentContainer().append(group);\n      },\n\n      _fadeOutLabel() {\n        var group = axis._renderer.g().attr({\n          opacity: 1\n        }).animate({\n          opacity: 0\n        }, {\n          partitionDuration: .5\n        }).append(axis._axisElementsGroup).toBackground();\n\n        this.getContentContainer().append(group);\n      },\n\n      _getTemplateCoords() {\n        return axis._getLabelAdjustedCoord(this, (axis._constantLabelOffset || 0) + (tick.labelOffset || 0));\n      },\n\n      updateLabelPosition: function (animate) {\n        var templateContainer = this.templateContainer;\n\n        if (!this.getContentContainer()) {\n          return;\n        }\n\n        if (animate && this._storedLabelsCoords) {\n          if (templateContainer) {\n            templateContainer.attr(this._storedLabelsCoords);\n\n            var lCoords = this._getTemplateCoords();\n\n            templateContainer.animate(lCoords);\n          } else {\n            this.label.attr({\n              x: this._storedLabelsCoords.x,\n              y: this._storedLabelsCoords.y\n            });\n            this.label.animate({\n              x: this.labelCoords.x,\n              y: this.labelCoords.y\n            });\n          }\n        } else {\n          if (templateContainer) {\n            var _lCoords = this._getTemplateCoords();\n\n            templateContainer.attr(_lCoords);\n          } else {\n            this.label.attr({\n              x: this.labelCoords.x,\n              y: this.labelCoords.y\n            });\n          }\n\n          if (animate) {\n            this._fadeInLabel();\n          }\n        }\n      },\n\n      updateMultilineTextAlignment() {\n        if (labelOptions.template || !this.label) {\n          return;\n        }\n\n        this.label.attr({\n          textsAlignment: this.labelAlignment || axis.getOptions().label.alignment\n        });\n      },\n\n      drawGrid: function (drawLine) {\n        if (gridOptions.visible && skippedCategory !== this.value) {\n          if (this.grid) {\n            this.grid.append(axis._axisGridGroup);\n            axis.sharp(this.grid, axis.getSharpDirectionByCoords(this.coords));\n            this.updateGridPosition();\n          } else {\n            this.grid = drawLine(this, gridStyle);\n            this.grid && this.grid.append(axis._axisGridGroup);\n          }\n        }\n      },\n      updateGridPosition: function (animate) {\n        this._updateLine(this.grid, axis._getGridPoints(tick.coords), this._storedCoords && axis._getGridPoints(this._storedCoords), animate, true);\n      },\n\n      removeLabel() {\n        var contentContainer = this.getContentContainer();\n        contentContainer && contentContainer.remove();\n        this._templateDef && this._templateDef.reject();\n        this._templateDef = this.templateContainer = this.label = null;\n      }\n\n    };\n    return tick;\n  };\n}\n\nexport { createTick as tick };","map":{"version":3,"names":["isDefined","extend","Deferred","getPathStyle","options","stroke","color","width","opacity","createTick","axis","renderer","tickOptions","gridOptions","skippedCategory","skipLabels","offset","tickOffset","_tickOffset","lineGroup","_axisLineGroup","elementsGroup","_axisElementsGroup","tickStyle","gridStyle","emptyStrRegExp","axisOptions","getOptions","labelOptions","label","labelStyle","_textOptions","getLabelFontStyle","tick","fontStyle","_textFontStyles","customizeColor","call","fill","createLabelHint","range","labelHint","formatHint","value","getContentContainer","setTitle","updateValue","newValue","initCoords","coords","_getTranslatedValue","labelCoords","saveCoords","_lastStoredCoordinates","_storedCoords","_storedLabelsCoords","templateContainer","_getTemplateCoords","resetCoordinates","drawMark","visible","areCoordsOutsideAxis","mark","append","sharp","getSharpDirectionByCoords","updateTickPosition","_createPathElement","setSkippedCategory","category","_updateLine","lineElement","settings","storedSettings","animate","isGridLine","points","r","remove","attr","delay","partitionDuration","angle","_rotateTick","_getTickMarkPoints","length","drawLabel","template","isRendered","updateLabelPosition","labelIsVisible","getTranslator","getBusinessRange","isEmpty","removeLabel","templateOption","text","formatLabel","rotate","g","_templateDef","reject","render","model","valueText","labelFontStyle","container","element","onRendered","resolve","test","css","containerForData","data","getTemplateDeferred","fadeOutElements","startSettings","endSettings","animationSettings","_fadeOutLabel","grid","_axisGridGroup","_fadeInLabel","group","_renderer","toBackground","_getLabelAdjustedCoord","_constantLabelOffset","labelOffset","lCoords","x","y","_lCoords","updateMultilineTextAlignment","textsAlignment","labelAlignment","alignment","drawGrid","drawLine","updateGridPosition","_getGridPoints","contentContainer"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/axes/tick.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/axes/tick.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\n\r\nfunction getPathStyle(options) {\r\n    return {\r\n        stroke: options.color,\r\n        \"stroke-width\": options.width,\r\n        \"stroke-opacity\": options.opacity,\r\n        opacity: 1\r\n    }\r\n}\r\n\r\nfunction createTick(axis, renderer, tickOptions, gridOptions, skippedCategory, skipLabels, offset) {\r\n    var tickOffset = offset || axis._tickOffset;\r\n    var lineGroup = axis._axisLineGroup;\r\n    var elementsGroup = axis._axisElementsGroup;\r\n    var tickStyle = getPathStyle(tickOptions);\r\n    var gridStyle = getPathStyle(gridOptions);\r\n    var emptyStrRegExp = /^\\s+$/;\r\n    var axisOptions = axis.getOptions();\r\n    var labelOptions = axisOptions.label;\r\n    var labelStyle = axis._textOptions;\r\n\r\n    function getLabelFontStyle(tick) {\r\n        var fontStyle = axis._textFontStyles;\r\n        var customizeColor = labelOptions.customizeColor;\r\n        if (customizeColor && customizeColor.call) {\r\n            fontStyle = extend({}, axis._textFontStyles, {\r\n                fill: customizeColor.call(tick, tick)\r\n            })\r\n        }\r\n        return fontStyle\r\n    }\r\n\r\n    function createLabelHint(tick, range) {\r\n        var labelHint = axis.formatHint(tick.value, labelOptions, range);\r\n        if (isDefined(labelHint) && \"\" !== labelHint) {\r\n            tick.getContentContainer().setTitle(labelHint)\r\n        }\r\n    }\r\n    return function(value) {\r\n        var tick = {\r\n            value: value,\r\n            updateValue(newValue) {\r\n                this.value = value = newValue\r\n            },\r\n            initCoords: function() {\r\n                this.coords = axis._getTranslatedValue(value, tickOffset);\r\n                this.labelCoords = axis._getTranslatedValue(value)\r\n            },\r\n            saveCoords() {\r\n                this._lastStoredCoordinates = {\r\n                    coords: this._storedCoords,\r\n                    labelCoords: this._storedLabelsCoords\r\n                };\r\n                this._storedCoords = this.coords;\r\n                this._storedLabelsCoords = this.templateContainer ? this._getTemplateCoords() : this.labelCoords\r\n            },\r\n            resetCoordinates() {\r\n                if (this._lastStoredCoordinates) {\r\n                    this._storedCoords = this._lastStoredCoordinates.coords;\r\n                    this._storedLabelsCoords = this._lastStoredCoordinates.labelCoords\r\n                }\r\n            },\r\n            drawMark(options) {\r\n                if (!tickOptions.visible || skippedCategory === value) {\r\n                    return\r\n                }\r\n                if (axis.areCoordsOutsideAxis(this.coords)) {\r\n                    return\r\n                }\r\n                if (this.mark) {\r\n                    this.mark.append(lineGroup);\r\n                    axis.sharp(this.mark, axis.getSharpDirectionByCoords(this.coords));\r\n                    this.updateTickPosition(options)\r\n                } else {\r\n                    this.mark = axis._createPathElement([], tickStyle, axis.getSharpDirectionByCoords(this.coords)).append(lineGroup);\r\n                    this.updateTickPosition(options)\r\n                }\r\n            },\r\n            setSkippedCategory(category) {\r\n                skippedCategory = category\r\n            },\r\n            _updateLine(lineElement, settings, storedSettings, animate, isGridLine) {\r\n                if (!lineElement) {\r\n                    return\r\n                }\r\n                if (null === settings.points || null === settings.r) {\r\n                    lineElement.remove();\r\n                    return\r\n                }\r\n                if (animate && storedSettings && null !== storedSettings.points) {\r\n                    settings.opacity = 1;\r\n                    lineElement.attr(storedSettings);\r\n                    lineElement.animate(settings)\r\n                } else {\r\n                    settings.opacity = animate ? 0 : 1;\r\n                    lineElement.attr(settings);\r\n                    animate && lineElement.animate({\r\n                        opacity: 1\r\n                    }, {\r\n                        delay: .5,\r\n                        partitionDuration: .5\r\n                    })\r\n                }\r\n                this.coords.angle && axis._rotateTick(lineElement, this.coords, isGridLine)\r\n            },\r\n            updateTickPosition: function(options, animate) {\r\n                this._updateLine(this.mark, {\r\n                    points: axis._getTickMarkPoints(tick.coords, tickOptions.length, options)\r\n                }, this._storedCoords && {\r\n                    points: axis._getTickMarkPoints(tick._storedCoords, tickOptions.length, options)\r\n                }, animate, false)\r\n            },\r\n            drawLabel: function(range, template) {\r\n                if (this.templateContainer && axis.isRendered()) {\r\n                    this.updateLabelPosition();\r\n                    return\r\n                }\r\n                var labelIsVisible = labelOptions.visible && !skipLabels && !axis.getTranslator().getBusinessRange().isEmpty() && !axis.areCoordsOutsideAxis(this.labelCoords);\r\n                if (!labelIsVisible) {\r\n                    if (this.label) {\r\n                        this.removeLabel()\r\n                    }\r\n                    return\r\n                }\r\n                var templateOption = labelOptions.template;\r\n                var text = axis.formatLabel(value, labelOptions, range);\r\n                if (this.label) {\r\n                    this.label.attr({\r\n                        text: text,\r\n                        rotate: 0\r\n                    }).append(elementsGroup);\r\n                    createLabelHint(this, range);\r\n                    this.updateLabelPosition();\r\n                    return\r\n                }\r\n                if (templateOption) {\r\n                    this.templateContainer = renderer.g().append(elementsGroup);\r\n                    this._templateDef && this._templateDef.reject();\r\n                    this._templateDef = new Deferred;\r\n                    template.render({\r\n                        model: {\r\n                            valueText: text,\r\n                            value: this.value,\r\n                            labelFontStyle: getLabelFontStyle(this),\r\n                            labelStyle: labelStyle\r\n                        },\r\n                        container: this.templateContainer.element,\r\n                        onRendered: () => {\r\n                            this.updateLabelPosition();\r\n                            this._templateDef && this._templateDef.resolve()\r\n                        }\r\n                    })\r\n                } else if (isDefined(text) && \"\" !== text && !emptyStrRegExp.test(text)) {\r\n                    this.label = renderer.text(text).css(getLabelFontStyle(this)).attr(labelStyle).append(elementsGroup);\r\n                    this.updateLabelPosition();\r\n                    createLabelHint(this, range)\r\n                }\r\n                var containerForData = this.getContentContainer();\r\n                containerForData && containerForData.data(\"chart-data-argument\", this.value);\r\n                this.templateContainer && createLabelHint(this, range)\r\n            },\r\n            getTemplateDeferred() {\r\n                return this._templateDef\r\n            },\r\n            getContentContainer() {\r\n                return this.templateContainer || this.label\r\n            },\r\n            fadeOutElements() {\r\n                var startSettings = {\r\n                    opacity: 1\r\n                };\r\n                var endSettings = {\r\n                    opacity: 0\r\n                };\r\n                var animationSettings = {\r\n                    partitionDuration: .5\r\n                };\r\n                if (this.getContentContainer()) {\r\n                    this._fadeOutLabel()\r\n                }\r\n                if (this.grid) {\r\n                    this.grid.append(axis._axisGridGroup).attr(startSettings).animate(endSettings, animationSettings)\r\n                }\r\n                if (this.mark) {\r\n                    this.mark.append(axis._axisLineGroup).attr(startSettings).animate(endSettings, animationSettings)\r\n                }\r\n            },\r\n            _fadeInLabel() {\r\n                var group = axis._renderer.g().attr({\r\n                    opacity: 0\r\n                }).append(axis._axisElementsGroup).animate({\r\n                    opacity: 1\r\n                }, {\r\n                    delay: .5,\r\n                    partitionDuration: .5\r\n                });\r\n                this.getContentContainer().append(group)\r\n            },\r\n            _fadeOutLabel() {\r\n                var group = axis._renderer.g().attr({\r\n                    opacity: 1\r\n                }).animate({\r\n                    opacity: 0\r\n                }, {\r\n                    partitionDuration: .5\r\n                }).append(axis._axisElementsGroup).toBackground();\r\n                this.getContentContainer().append(group)\r\n            },\r\n            _getTemplateCoords() {\r\n                return axis._getLabelAdjustedCoord(this, (axis._constantLabelOffset || 0) + (tick.labelOffset || 0))\r\n            },\r\n            updateLabelPosition: function(animate) {\r\n                var templateContainer = this.templateContainer;\r\n                if (!this.getContentContainer()) {\r\n                    return\r\n                }\r\n                if (animate && this._storedLabelsCoords) {\r\n                    if (templateContainer) {\r\n                        templateContainer.attr(this._storedLabelsCoords);\r\n                        var lCoords = this._getTemplateCoords();\r\n                        templateContainer.animate(lCoords)\r\n                    } else {\r\n                        this.label.attr({\r\n                            x: this._storedLabelsCoords.x,\r\n                            y: this._storedLabelsCoords.y\r\n                        });\r\n                        this.label.animate({\r\n                            x: this.labelCoords.x,\r\n                            y: this.labelCoords.y\r\n                        })\r\n                    }\r\n                } else {\r\n                    if (templateContainer) {\r\n                        var _lCoords = this._getTemplateCoords();\r\n                        templateContainer.attr(_lCoords)\r\n                    } else {\r\n                        this.label.attr({\r\n                            x: this.labelCoords.x,\r\n                            y: this.labelCoords.y\r\n                        })\r\n                    }\r\n                    if (animate) {\r\n                        this._fadeInLabel()\r\n                    }\r\n                }\r\n            },\r\n            updateMultilineTextAlignment() {\r\n                if (labelOptions.template || !this.label) {\r\n                    return\r\n                }\r\n                this.label.attr({\r\n                    textsAlignment: this.labelAlignment || axis.getOptions().label.alignment\r\n                })\r\n            },\r\n            drawGrid: function(drawLine) {\r\n                if (gridOptions.visible && skippedCategory !== this.value) {\r\n                    if (this.grid) {\r\n                        this.grid.append(axis._axisGridGroup);\r\n                        axis.sharp(this.grid, axis.getSharpDirectionByCoords(this.coords));\r\n                        this.updateGridPosition()\r\n                    } else {\r\n                        this.grid = drawLine(this, gridStyle);\r\n                        this.grid && this.grid.append(axis._axisGridGroup)\r\n                    }\r\n                }\r\n            },\r\n            updateGridPosition: function(animate) {\r\n                this._updateLine(this.grid, axis._getGridPoints(tick.coords), this._storedCoords && axis._getGridPoints(this._storedCoords), animate, true)\r\n            },\r\n            removeLabel() {\r\n                var contentContainer = this.getContentContainer();\r\n                contentContainer && contentContainer.remove();\r\n                this._templateDef && this._templateDef.reject();\r\n                this._templateDef = this.templateContainer = this.label = null\r\n            }\r\n        };\r\n        return tick\r\n    }\r\n}\r\nexport {\r\n    createTick as tick\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
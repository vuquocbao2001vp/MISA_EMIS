{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/tile_view.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth, getHeight, setWidth, setHeight, getOuterWidth, getOuterHeight } from \"../core/utils/size\";\nimport $ from \"../core/renderer\";\nimport devices from \"../core/devices\";\nimport registerComponent from \"../core/component_registrator\";\nimport { map, each } from \"../core/utils/iterator\";\nimport { isDefined } from \"../core/utils/type\";\nimport { extend } from \"../core/utils/extend\";\nimport { hasWindow } from \"../core/utils/window\";\nimport { getPublicElement } from \"../core/element\";\nimport { deferRender } from \"../core/utils/common\";\nimport { nativeScrolling } from \"../core/utils/support\";\nimport ScrollView from \"./scroll_view\";\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\nvar TILEVIEW_CLASS = \"dx-tileview\";\nvar TILEVIEW_CONTAINER_CLASS = \"dx-tileview-wrapper\";\nvar TILEVIEW_ITEM_CLASS = \"dx-tile\";\nvar TILEVIEW_ITEM_SELECTOR = \".\" + TILEVIEW_ITEM_CLASS;\nvar TILEVIEW_ITEM_DATA_KEY = \"dxTileData\";\nvar CONFIGS = {\n  horizontal: {\n    itemMainRatio: \"widthRatio\",\n    itemCrossRatio: \"heightRatio\",\n    baseItemMainDimension: \"baseItemWidth\",\n    baseItemCrossDimension: \"baseItemHeight\",\n    mainDimension: \"width\",\n    crossDimension: \"height\",\n    mainPosition: \"left\",\n    crossPosition: \"top\"\n  },\n  vertical: {\n    itemMainRatio: \"heightRatio\",\n    itemCrossRatio: \"widthRatio\",\n    baseItemMainDimension: \"baseItemHeight\",\n    baseItemCrossDimension: \"baseItemWidth\",\n    mainDimension: \"height\",\n    crossDimension: \"width\",\n    mainPosition: \"top\",\n    crossPosition: \"left\"\n  }\n};\nvar TileView = CollectionWidget.inherit({\n  _activeStateUnit: TILEVIEW_ITEM_SELECTOR,\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      items: null,\n      direction: \"horizontal\",\n      hoverStateEnabled: true,\n      showScrollbar: \"never\",\n      height: 500,\n      baseItemWidth: 100,\n      baseItemHeight: 100,\n      itemMargin: 20,\n      activeStateEnabled: true,\n      indicateLoading: true\n    });\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function () {\n        return nativeScrolling;\n      },\n      options: {\n        showScrollbar: \"onScroll\"\n      }\n    }]);\n  },\n  _itemClass: function () {\n    return TILEVIEW_ITEM_CLASS;\n  },\n  _itemDataKey: function () {\n    return TILEVIEW_ITEM_DATA_KEY;\n  },\n  _itemContainer: function () {\n    return this._$container;\n  },\n  _init: function () {\n    this.callBase();\n    this.$element().addClass(TILEVIEW_CLASS);\n\n    this._initScrollView();\n  },\n  _dataSourceLoadingChangedHandler: function (isLoading) {\n    var scrollView = this._scrollView;\n\n    if (!scrollView || !scrollView.startLoading) {\n      return;\n    }\n\n    if (isLoading && this.option(\"indicateLoading\")) {\n      scrollView.startLoading();\n    } else {\n      scrollView.finishLoading();\n    }\n  },\n  _hideLoadingIfLoadIndicationOff: function () {\n    if (!this.option(\"indicateLoading\")) {\n      this._dataSourceLoadingChangedHandler(false);\n    }\n  },\n  _initScrollView: function () {\n    var {\n      width: width,\n      height: height,\n      direction: direction,\n      showScrollbar: showScrollbar\n    } = this.option();\n    this._scrollView = this._createComponent(this.$element(), ScrollView, {\n      direction: direction,\n      width: width,\n      height: height,\n      scrollByContent: true,\n      useKeyboard: false,\n      showScrollbar: showScrollbar\n    });\n    this._$container = $(this._scrollView.content());\n\n    this._$container.addClass(TILEVIEW_CONTAINER_CLASS);\n\n    this._scrollView.option(\"onUpdated\", this._renderGeometry.bind(this));\n  },\n  _initMarkup: function () {\n    this.callBase();\n    deferRender(function () {\n      this._cellsPerDimension = 1;\n\n      this._renderGeometry();\n\n      this._updateScrollView();\n\n      this._fireContentReadyAction();\n    }.bind(this));\n  },\n  _updateScrollView: function () {\n    this._scrollView.option(\"direction\", this.option(\"direction\"));\n\n    this._scrollView.update();\n\n    this._indicateLoadingIfAlreadyStarted();\n  },\n  _indicateLoadingIfAlreadyStarted: function () {\n    if (this._isDataSourceLoading()) {\n      this._dataSourceLoadingChangedHandler(true);\n    }\n  },\n  _renderGeometry: function () {\n    this._config = CONFIGS[this.option(\"direction\")];\n    var items = this.option(\"items\") || [];\n    var config = this._config;\n    var itemMargin = this.option(\"itemMargin\");\n    var maxItemCrossRatio = Math.max.apply(Math, map(items || [], function (item) {\n      return Math.round(item[config.itemCrossRatio] || 1);\n    }));\n    var crossDimensionValue;\n\n    if (hasWindow) {\n      crossDimensionValue = (\"width\" === config.crossDimension ? getWidth : getHeight)(this.$element());\n    } else {\n      crossDimensionValue = parseInt(this.$element().get(0).style[config.crossDimension]);\n    }\n\n    this._cellsPerDimension = Math.floor(crossDimensionValue / (this.option(config.baseItemCrossDimension) + itemMargin));\n    this._cellsPerDimension = Math.max(this._cellsPerDimension, maxItemCrossRatio);\n    this._cells = [];\n\n    this._cells.push(new Array(this._cellsPerDimension));\n\n    this._arrangeItems(items);\n\n    this._renderContentSize(config, itemMargin);\n  },\n  _renderContentSize: function (_ref, itemMargin) {\n    var {\n      mainDimension: mainDimension,\n      baseItemMainDimension: baseItemMainDimension\n    } = _ref;\n\n    if (hasWindow()) {\n      var actualContentSize = this._cells.length * this.option(baseItemMainDimension) + (this._cells.length + 1) * itemMargin;\n      var elementSize = (\"width\" === mainDimension ? getWidth : getHeight)(this.$element());\n      (\"width\" === mainDimension ? setWidth : setHeight)(this._$container, Math.max(actualContentSize, elementSize));\n    }\n  },\n  _arrangeItems: function (items) {\n    var config = this._config;\n    var itemMainRatio = config.itemMainRatio;\n    var itemCrossRatio = config.itemCrossRatio;\n    var mainPosition = config.mainPosition;\n    this._itemsPositions = [];\n    each(items, function (index, item) {\n      var currentItem = {};\n      currentItem[itemMainRatio] = item[itemMainRatio] || 1;\n      currentItem[itemCrossRatio] = item[itemCrossRatio] || 1;\n      currentItem.index = index;\n      currentItem[itemMainRatio] = currentItem[itemMainRatio] <= 0 ? 0 : Math.round(currentItem[config.itemMainRatio]);\n      currentItem[itemCrossRatio] = currentItem[itemCrossRatio] <= 0 ? 0 : Math.round(currentItem[config.itemCrossRatio]);\n\n      var itemPosition = this._getItemPosition(currentItem);\n\n      if (-1 === itemPosition[mainPosition]) {\n        itemPosition[mainPosition] = this._cells.push(new Array(this._cellsPerDimension)) - 1;\n      }\n\n      this._occupyCells(currentItem, itemPosition);\n\n      this._arrangeItem(currentItem, itemPosition);\n\n      this._itemsPositions.push(itemPosition);\n    }.bind(this));\n  },\n  _getItemPosition: function (item) {\n    var config = this._config;\n    var mainPosition = config.mainPosition;\n    var crossPosition = config.crossPosition;\n    var position = {};\n    position[mainPosition] = -1;\n    position[crossPosition] = 0;\n\n    for (var main = 0; main < this._cells.length; main++) {\n      for (var cross = 0; cross < this._cellsPerDimension; cross++) {\n        if (this._itemFit(main, cross, item)) {\n          position[mainPosition] = main;\n          position[crossPosition] = cross;\n          break;\n        }\n      }\n\n      if (position[mainPosition] > -1) {\n        break;\n      }\n    }\n\n    return position;\n  },\n  _itemFit: function (mainPosition, crossPosition, item) {\n    var result = true;\n    var config = this._config;\n    var itemRatioMain = item[config.itemMainRatio];\n    var itemRatioCross = item[config.itemCrossRatio];\n\n    if (crossPosition + itemRatioCross > this._cellsPerDimension) {\n      return false;\n    }\n\n    for (var main = mainPosition; main < mainPosition + itemRatioMain; main++) {\n      for (var cross = crossPosition; cross < crossPosition + itemRatioCross; cross++) {\n        if (this._cells.length - 1 < main) {\n          this._cells.push(new Array(this._cellsPerDimension));\n        } else if (void 0 !== this._cells[main][cross]) {\n          result = false;\n          break;\n        }\n      }\n    }\n\n    return result;\n  },\n  _occupyCells: function (item, itemPosition) {\n    var config = this._config;\n    var itemPositionMain = itemPosition[config.mainPosition];\n    var itemPositionCross = itemPosition[config.crossPosition];\n    var itemRatioMain = item[config.itemMainRatio];\n    var itemRatioCross = item[config.itemCrossRatio];\n\n    for (var main = itemPositionMain; main < itemPositionMain + itemRatioMain; main++) {\n      for (var cross = itemPositionCross; cross < itemPositionCross + itemRatioCross; cross++) {\n        this._cells[main][cross] = item.index;\n      }\n    }\n  },\n  _arrangeItem: function (item, itemPosition) {\n    var config = this._config;\n    var itemPositionMain = itemPosition[config.mainPosition];\n    var itemPositionCross = itemPosition[config.crossPosition];\n    var itemRatioMain = item[config.itemMainRatio];\n    var itemRatioCross = item[config.itemCrossRatio];\n    var baseItemCross = this.option(config.baseItemCrossDimension);\n    var baseItemMain = this.option(config.baseItemMainDimension);\n    var itemMargin = this.option(\"itemMargin\");\n    var cssProps = {\n      display: itemRatioMain <= 0 || itemRatioCross <= 0 ? \"none\" : \"\"\n    };\n    var mainDimension = itemRatioMain * baseItemMain + (itemRatioMain - 1) * itemMargin;\n    var crossDimension = itemRatioCross * baseItemCross + (itemRatioCross - 1) * itemMargin;\n    cssProps[config.mainDimension] = mainDimension < 0 ? 0 : mainDimension;\n    cssProps[config.crossDimension] = crossDimension < 0 ? 0 : crossDimension;\n    cssProps[config.mainPosition] = itemPositionMain * baseItemMain + (itemPositionMain + 1) * itemMargin;\n    cssProps[config.crossPosition] = itemPositionCross * baseItemCross + (itemPositionCross + 1) * itemMargin;\n\n    if (this.option(\"rtlEnabled\")) {\n      var offsetCorrection = getWidth(this._$container);\n      var baseItemWidth = this.option(\"baseItemWidth\");\n      var itemPositionX = itemPosition.left;\n      var offsetPosition = itemPositionX * baseItemWidth;\n      var itemBaseOffset = baseItemWidth + itemMargin;\n      var itemWidth = itemBaseOffset * item.widthRatio;\n      var subItemMargins = itemPositionX * itemMargin;\n      cssProps.left = offsetCorrection - (offsetPosition + itemWidth + subItemMargins);\n    }\n\n    this._itemElements().eq(item.index).css(cssProps);\n  },\n  _moveFocus: function (location) {\n    var FOCUS_UP = \"up\";\n    var FOCUS_DOWN = \"down\";\n    var FOCUS_LEFT = this.option(\"rtlEnabled\") ? \"right\" : \"left\";\n    var FOCUS_RIGHT = this.option(\"rtlEnabled\") ? \"left\" : \"right\";\n    var FOCUS_PAGE_UP = \"pageup\";\n    var FOCUS_PAGE_DOWN = \"pagedown\";\n    var horizontalDirection = \"horizontal\" === this.option(\"direction\");\n    var cells = this._cells;\n    var index = $(this.option(\"focusedElement\")).index();\n    var targetCol = this._itemsPositions[index].left;\n    var targetRow = this._itemsPositions[index].top;\n    var colCount = (horizontalDirection ? cells : cells[0]).length;\n    var rowCount = (horizontalDirection ? cells[0] : cells).length;\n\n    var getCell = function (col, row) {\n      if (horizontalDirection) {\n        return cells[col][row];\n      }\n\n      return cells[row][col];\n    };\n\n    switch (location) {\n      case FOCUS_PAGE_UP:\n      case FOCUS_UP:\n        while (targetRow > 0 && index === getCell(targetCol, targetRow)) {\n          targetRow--;\n        }\n\n        if (targetRow < 0) {\n          targetRow = 0;\n        }\n\n        break;\n\n      case FOCUS_PAGE_DOWN:\n      case FOCUS_DOWN:\n        while (targetRow < rowCount && index === getCell(targetCol, targetRow)) {\n          targetRow++;\n        }\n\n        if (targetRow === rowCount) {\n          targetRow = rowCount - 1;\n        }\n\n        break;\n\n      case FOCUS_RIGHT:\n        while (targetCol < colCount && index === getCell(targetCol, targetRow)) {\n          targetCol++;\n        }\n\n        if (targetCol === colCount) {\n          targetCol = colCount - 1;\n        }\n\n        break;\n\n      case FOCUS_LEFT:\n        while (targetCol >= 0 && index === getCell(targetCol, targetRow)) {\n          targetCol--;\n        }\n\n        if (targetCol < 0) {\n          targetCol = 0;\n        }\n\n        break;\n\n      default:\n        this.callBase.apply(this, arguments);\n        return;\n    }\n\n    var newTargetIndex = getCell(targetCol, targetRow);\n\n    if (!isDefined(newTargetIndex)) {\n      return;\n    }\n\n    var $newTarget = this._itemElements().eq(newTargetIndex);\n\n    this.option(\"focusedElement\", getPublicElement($newTarget));\n\n    this._scrollToItem($newTarget);\n  },\n  _scrollToItem: function ($itemElement) {\n    if (!$itemElement.length) {\n      return;\n    }\n\n    var config = this._config;\n    var outerMainGetter = \"width\" === config.mainDimension ? getOuterWidth : getOuterHeight;\n    var itemMargin = this.option(\"itemMargin\");\n    var itemPosition = $itemElement.position()[config.mainPosition];\n    var itemDimension = outerMainGetter($itemElement);\n    var itemTail = itemPosition + itemDimension;\n    var scrollPosition = this.scrollPosition();\n    var clientWidth = outerMainGetter(this.$element());\n\n    if (scrollPosition <= itemPosition && itemTail <= scrollPosition + clientWidth) {\n      return;\n    }\n\n    if (scrollPosition > itemPosition) {\n      this._scrollView.scrollTo(itemPosition - itemMargin);\n    } else {\n      this._scrollView.scrollTo(itemPosition + itemDimension - clientWidth + itemMargin);\n    }\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"items\":\n        this.callBase(args);\n\n        this._renderGeometry();\n\n        this._updateScrollView();\n\n        break;\n\n      case \"showScrollbar\":\n        this._initScrollView();\n\n        break;\n\n      case \"disabled\":\n        this._scrollView.option(\"disabled\", args.value);\n\n        this.callBase(args);\n        break;\n\n      case \"baseItemWidth\":\n      case \"baseItemHeight\":\n      case \"itemMargin\":\n        this._renderGeometry();\n\n        break;\n\n      case \"width\":\n      case \"height\":\n        this.callBase(args);\n\n        this._renderGeometry();\n\n        this._scrollView.option(args.name, args.value);\n\n        this._updateScrollView();\n\n        break;\n\n      case \"direction\":\n        this._renderGeometry();\n\n        this._updateScrollView();\n\n        break;\n\n      case \"indicateLoading\":\n        this._hideLoadingIfLoadIndicationOff();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  scrollPosition: function () {\n    return this._scrollView.scrollOffset()[this._config.mainPosition];\n  }\n});\nregisterComponent(\"dxTileView\", TileView);\nexport default TileView;","map":{"version":3,"names":["getWidth","getHeight","setWidth","setHeight","getOuterWidth","getOuterHeight","$","devices","registerComponent","map","each","isDefined","extend","hasWindow","getPublicElement","deferRender","nativeScrolling","ScrollView","CollectionWidget","TILEVIEW_CLASS","TILEVIEW_CONTAINER_CLASS","TILEVIEW_ITEM_CLASS","TILEVIEW_ITEM_SELECTOR","TILEVIEW_ITEM_DATA_KEY","CONFIGS","horizontal","itemMainRatio","itemCrossRatio","baseItemMainDimension","baseItemCrossDimension","mainDimension","crossDimension","mainPosition","crossPosition","vertical","TileView","inherit","_activeStateUnit","_getDefaultOptions","callBase","items","direction","hoverStateEnabled","showScrollbar","height","baseItemWidth","baseItemHeight","itemMargin","activeStateEnabled","indicateLoading","_defaultOptionsRules","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","_itemClass","_itemDataKey","_itemContainer","_$container","_init","$element","addClass","_initScrollView","_dataSourceLoadingChangedHandler","isLoading","scrollView","_scrollView","startLoading","option","finishLoading","_hideLoadingIfLoadIndicationOff","width","_createComponent","scrollByContent","useKeyboard","content","_renderGeometry","bind","_initMarkup","_cellsPerDimension","_updateScrollView","_fireContentReadyAction","update","_indicateLoadingIfAlreadyStarted","_isDataSourceLoading","_config","config","maxItemCrossRatio","Math","max","apply","item","round","crossDimensionValue","parseInt","get","style","floor","_cells","push","Array","_arrangeItems","_renderContentSize","_ref","actualContentSize","length","elementSize","_itemsPositions","index","currentItem","itemPosition","_getItemPosition","_occupyCells","_arrangeItem","position","main","cross","_itemFit","result","itemRatioMain","itemRatioCross","itemPositionMain","itemPositionCross","baseItemCross","baseItemMain","cssProps","display","offsetCorrection","itemPositionX","left","offsetPosition","itemBaseOffset","itemWidth","widthRatio","subItemMargins","_itemElements","eq","css","_moveFocus","location","FOCUS_UP","FOCUS_DOWN","FOCUS_LEFT","FOCUS_RIGHT","FOCUS_PAGE_UP","FOCUS_PAGE_DOWN","horizontalDirection","cells","targetCol","targetRow","top","colCount","rowCount","getCell","col","row","arguments","newTargetIndex","$newTarget","_scrollToItem","$itemElement","outerMainGetter","itemDimension","itemTail","scrollPosition","clientWidth","scrollTo","_optionChanged","args","name","value","scrollOffset"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/tile_view.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/tile_view.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getHeight,\r\n    setWidth,\r\n    setHeight,\r\n    getOuterWidth,\r\n    getOuterHeight\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    map,\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    deferRender\r\n} from \"../core/utils/common\";\r\nimport {\r\n    nativeScrolling\r\n} from \"../core/utils/support\";\r\nimport ScrollView from \"./scroll_view\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nvar TILEVIEW_CLASS = \"dx-tileview\";\r\nvar TILEVIEW_CONTAINER_CLASS = \"dx-tileview-wrapper\";\r\nvar TILEVIEW_ITEM_CLASS = \"dx-tile\";\r\nvar TILEVIEW_ITEM_SELECTOR = \".\" + TILEVIEW_ITEM_CLASS;\r\nvar TILEVIEW_ITEM_DATA_KEY = \"dxTileData\";\r\nvar CONFIGS = {\r\n    horizontal: {\r\n        itemMainRatio: \"widthRatio\",\r\n        itemCrossRatio: \"heightRatio\",\r\n        baseItemMainDimension: \"baseItemWidth\",\r\n        baseItemCrossDimension: \"baseItemHeight\",\r\n        mainDimension: \"width\",\r\n        crossDimension: \"height\",\r\n        mainPosition: \"left\",\r\n        crossPosition: \"top\"\r\n    },\r\n    vertical: {\r\n        itemMainRatio: \"heightRatio\",\r\n        itemCrossRatio: \"widthRatio\",\r\n        baseItemMainDimension: \"baseItemHeight\",\r\n        baseItemCrossDimension: \"baseItemWidth\",\r\n        mainDimension: \"height\",\r\n        crossDimension: \"width\",\r\n        mainPosition: \"top\",\r\n        crossPosition: \"left\"\r\n    }\r\n};\r\nvar TileView = CollectionWidget.inherit({\r\n    _activeStateUnit: TILEVIEW_ITEM_SELECTOR,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            items: null,\r\n            direction: \"horizontal\",\r\n            hoverStateEnabled: true,\r\n            showScrollbar: \"never\",\r\n            height: 500,\r\n            baseItemWidth: 100,\r\n            baseItemHeight: 100,\r\n            itemMargin: 20,\r\n            activeStateEnabled: true,\r\n            indicateLoading: true\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return nativeScrolling\r\n            },\r\n            options: {\r\n                showScrollbar: \"onScroll\"\r\n            }\r\n        }])\r\n    },\r\n    _itemClass: function() {\r\n        return TILEVIEW_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return TILEVIEW_ITEM_DATA_KEY\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$container\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(TILEVIEW_CLASS);\r\n        this._initScrollView()\r\n    },\r\n    _dataSourceLoadingChangedHandler: function(isLoading) {\r\n        var scrollView = this._scrollView;\r\n        if (!scrollView || !scrollView.startLoading) {\r\n            return\r\n        }\r\n        if (isLoading && this.option(\"indicateLoading\")) {\r\n            scrollView.startLoading()\r\n        } else {\r\n            scrollView.finishLoading()\r\n        }\r\n    },\r\n    _hideLoadingIfLoadIndicationOff: function() {\r\n        if (!this.option(\"indicateLoading\")) {\r\n            this._dataSourceLoadingChangedHandler(false)\r\n        }\r\n    },\r\n    _initScrollView: function() {\r\n        var {\r\n            width: width,\r\n            height: height,\r\n            direction: direction,\r\n            showScrollbar: showScrollbar\r\n        } = this.option();\r\n        this._scrollView = this._createComponent(this.$element(), ScrollView, {\r\n            direction: direction,\r\n            width: width,\r\n            height: height,\r\n            scrollByContent: true,\r\n            useKeyboard: false,\r\n            showScrollbar: showScrollbar\r\n        });\r\n        this._$container = $(this._scrollView.content());\r\n        this._$container.addClass(TILEVIEW_CONTAINER_CLASS);\r\n        this._scrollView.option(\"onUpdated\", this._renderGeometry.bind(this))\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        deferRender(function() {\r\n            this._cellsPerDimension = 1;\r\n            this._renderGeometry();\r\n            this._updateScrollView();\r\n            this._fireContentReadyAction()\r\n        }.bind(this))\r\n    },\r\n    _updateScrollView: function() {\r\n        this._scrollView.option(\"direction\", this.option(\"direction\"));\r\n        this._scrollView.update();\r\n        this._indicateLoadingIfAlreadyStarted()\r\n    },\r\n    _indicateLoadingIfAlreadyStarted: function() {\r\n        if (this._isDataSourceLoading()) {\r\n            this._dataSourceLoadingChangedHandler(true)\r\n        }\r\n    },\r\n    _renderGeometry: function() {\r\n        this._config = CONFIGS[this.option(\"direction\")];\r\n        var items = this.option(\"items\") || [];\r\n        var config = this._config;\r\n        var itemMargin = this.option(\"itemMargin\");\r\n        var maxItemCrossRatio = Math.max.apply(Math, map(items || [], (function(item) {\r\n            return Math.round(item[config.itemCrossRatio] || 1)\r\n        })));\r\n        var crossDimensionValue;\r\n        if (hasWindow) {\r\n            crossDimensionValue = (\"width\" === config.crossDimension ? getWidth : getHeight)(this.$element())\r\n        } else {\r\n            crossDimensionValue = parseInt(this.$element().get(0).style[config.crossDimension])\r\n        }\r\n        this._cellsPerDimension = Math.floor(crossDimensionValue / (this.option(config.baseItemCrossDimension) + itemMargin));\r\n        this._cellsPerDimension = Math.max(this._cellsPerDimension, maxItemCrossRatio);\r\n        this._cells = [];\r\n        this._cells.push(new Array(this._cellsPerDimension));\r\n        this._arrangeItems(items);\r\n        this._renderContentSize(config, itemMargin)\r\n    },\r\n    _renderContentSize: function(_ref, itemMargin) {\r\n        var {\r\n            mainDimension: mainDimension,\r\n            baseItemMainDimension: baseItemMainDimension\r\n        } = _ref;\r\n        if (hasWindow()) {\r\n            var actualContentSize = this._cells.length * this.option(baseItemMainDimension) + (this._cells.length + 1) * itemMargin;\r\n            var elementSize = (\"width\" === mainDimension ? getWidth : getHeight)(this.$element());\r\n            (\"width\" === mainDimension ? setWidth : setHeight)(this._$container, Math.max(actualContentSize, elementSize))\r\n        }\r\n    },\r\n    _arrangeItems: function(items) {\r\n        var config = this._config;\r\n        var itemMainRatio = config.itemMainRatio;\r\n        var itemCrossRatio = config.itemCrossRatio;\r\n        var mainPosition = config.mainPosition;\r\n        this._itemsPositions = [];\r\n        each(items, function(index, item) {\r\n            var currentItem = {};\r\n            currentItem[itemMainRatio] = item[itemMainRatio] || 1;\r\n            currentItem[itemCrossRatio] = item[itemCrossRatio] || 1;\r\n            currentItem.index = index;\r\n            currentItem[itemMainRatio] = currentItem[itemMainRatio] <= 0 ? 0 : Math.round(currentItem[config.itemMainRatio]);\r\n            currentItem[itemCrossRatio] = currentItem[itemCrossRatio] <= 0 ? 0 : Math.round(currentItem[config.itemCrossRatio]);\r\n            var itemPosition = this._getItemPosition(currentItem);\r\n            if (-1 === itemPosition[mainPosition]) {\r\n                itemPosition[mainPosition] = this._cells.push(new Array(this._cellsPerDimension)) - 1\r\n            }\r\n            this._occupyCells(currentItem, itemPosition);\r\n            this._arrangeItem(currentItem, itemPosition);\r\n            this._itemsPositions.push(itemPosition)\r\n        }.bind(this))\r\n    },\r\n    _getItemPosition: function(item) {\r\n        var config = this._config;\r\n        var mainPosition = config.mainPosition;\r\n        var crossPosition = config.crossPosition;\r\n        var position = {};\r\n        position[mainPosition] = -1;\r\n        position[crossPosition] = 0;\r\n        for (var main = 0; main < this._cells.length; main++) {\r\n            for (var cross = 0; cross < this._cellsPerDimension; cross++) {\r\n                if (this._itemFit(main, cross, item)) {\r\n                    position[mainPosition] = main;\r\n                    position[crossPosition] = cross;\r\n                    break\r\n                }\r\n            }\r\n            if (position[mainPosition] > -1) {\r\n                break\r\n            }\r\n        }\r\n        return position\r\n    },\r\n    _itemFit: function(mainPosition, crossPosition, item) {\r\n        var result = true;\r\n        var config = this._config;\r\n        var itemRatioMain = item[config.itemMainRatio];\r\n        var itemRatioCross = item[config.itemCrossRatio];\r\n        if (crossPosition + itemRatioCross > this._cellsPerDimension) {\r\n            return false\r\n        }\r\n        for (var main = mainPosition; main < mainPosition + itemRatioMain; main++) {\r\n            for (var cross = crossPosition; cross < crossPosition + itemRatioCross; cross++) {\r\n                if (this._cells.length - 1 < main) {\r\n                    this._cells.push(new Array(this._cellsPerDimension))\r\n                } else if (void 0 !== this._cells[main][cross]) {\r\n                    result = false;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _occupyCells: function(item, itemPosition) {\r\n        var config = this._config;\r\n        var itemPositionMain = itemPosition[config.mainPosition];\r\n        var itemPositionCross = itemPosition[config.crossPosition];\r\n        var itemRatioMain = item[config.itemMainRatio];\r\n        var itemRatioCross = item[config.itemCrossRatio];\r\n        for (var main = itemPositionMain; main < itemPositionMain + itemRatioMain; main++) {\r\n            for (var cross = itemPositionCross; cross < itemPositionCross + itemRatioCross; cross++) {\r\n                this._cells[main][cross] = item.index\r\n            }\r\n        }\r\n    },\r\n    _arrangeItem: function(item, itemPosition) {\r\n        var config = this._config;\r\n        var itemPositionMain = itemPosition[config.mainPosition];\r\n        var itemPositionCross = itemPosition[config.crossPosition];\r\n        var itemRatioMain = item[config.itemMainRatio];\r\n        var itemRatioCross = item[config.itemCrossRatio];\r\n        var baseItemCross = this.option(config.baseItemCrossDimension);\r\n        var baseItemMain = this.option(config.baseItemMainDimension);\r\n        var itemMargin = this.option(\"itemMargin\");\r\n        var cssProps = {\r\n            display: itemRatioMain <= 0 || itemRatioCross <= 0 ? \"none\" : \"\"\r\n        };\r\n        var mainDimension = itemRatioMain * baseItemMain + (itemRatioMain - 1) * itemMargin;\r\n        var crossDimension = itemRatioCross * baseItemCross + (itemRatioCross - 1) * itemMargin;\r\n        cssProps[config.mainDimension] = mainDimension < 0 ? 0 : mainDimension;\r\n        cssProps[config.crossDimension] = crossDimension < 0 ? 0 : crossDimension;\r\n        cssProps[config.mainPosition] = itemPositionMain * baseItemMain + (itemPositionMain + 1) * itemMargin;\r\n        cssProps[config.crossPosition] = itemPositionCross * baseItemCross + (itemPositionCross + 1) * itemMargin;\r\n        if (this.option(\"rtlEnabled\")) {\r\n            var offsetCorrection = getWidth(this._$container);\r\n            var baseItemWidth = this.option(\"baseItemWidth\");\r\n            var itemPositionX = itemPosition.left;\r\n            var offsetPosition = itemPositionX * baseItemWidth;\r\n            var itemBaseOffset = baseItemWidth + itemMargin;\r\n            var itemWidth = itemBaseOffset * item.widthRatio;\r\n            var subItemMargins = itemPositionX * itemMargin;\r\n            cssProps.left = offsetCorrection - (offsetPosition + itemWidth + subItemMargins)\r\n        }\r\n        this._itemElements().eq(item.index).css(cssProps)\r\n    },\r\n    _moveFocus: function(location) {\r\n        var FOCUS_UP = \"up\";\r\n        var FOCUS_DOWN = \"down\";\r\n        var FOCUS_LEFT = this.option(\"rtlEnabled\") ? \"right\" : \"left\";\r\n        var FOCUS_RIGHT = this.option(\"rtlEnabled\") ? \"left\" : \"right\";\r\n        var FOCUS_PAGE_UP = \"pageup\";\r\n        var FOCUS_PAGE_DOWN = \"pagedown\";\r\n        var horizontalDirection = \"horizontal\" === this.option(\"direction\");\r\n        var cells = this._cells;\r\n        var index = $(this.option(\"focusedElement\")).index();\r\n        var targetCol = this._itemsPositions[index].left;\r\n        var targetRow = this._itemsPositions[index].top;\r\n        var colCount = (horizontalDirection ? cells : cells[0]).length;\r\n        var rowCount = (horizontalDirection ? cells[0] : cells).length;\r\n        var getCell = function(col, row) {\r\n            if (horizontalDirection) {\r\n                return cells[col][row]\r\n            }\r\n            return cells[row][col]\r\n        };\r\n        switch (location) {\r\n            case FOCUS_PAGE_UP:\r\n            case FOCUS_UP:\r\n                while (targetRow > 0 && index === getCell(targetCol, targetRow)) {\r\n                    targetRow--\r\n                }\r\n                if (targetRow < 0) {\r\n                    targetRow = 0\r\n                }\r\n                break;\r\n            case FOCUS_PAGE_DOWN:\r\n            case FOCUS_DOWN:\r\n                while (targetRow < rowCount && index === getCell(targetCol, targetRow)) {\r\n                    targetRow++\r\n                }\r\n                if (targetRow === rowCount) {\r\n                    targetRow = rowCount - 1\r\n                }\r\n                break;\r\n            case FOCUS_RIGHT:\r\n                while (targetCol < colCount && index === getCell(targetCol, targetRow)) {\r\n                    targetCol++\r\n                }\r\n                if (targetCol === colCount) {\r\n                    targetCol = colCount - 1\r\n                }\r\n                break;\r\n            case FOCUS_LEFT:\r\n                while (targetCol >= 0 && index === getCell(targetCol, targetRow)) {\r\n                    targetCol--\r\n                }\r\n                if (targetCol < 0) {\r\n                    targetCol = 0\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments);\r\n                return\r\n        }\r\n        var newTargetIndex = getCell(targetCol, targetRow);\r\n        if (!isDefined(newTargetIndex)) {\r\n            return\r\n        }\r\n        var $newTarget = this._itemElements().eq(newTargetIndex);\r\n        this.option(\"focusedElement\", getPublicElement($newTarget));\r\n        this._scrollToItem($newTarget)\r\n    },\r\n    _scrollToItem: function($itemElement) {\r\n        if (!$itemElement.length) {\r\n            return\r\n        }\r\n        var config = this._config;\r\n        var outerMainGetter = \"width\" === config.mainDimension ? getOuterWidth : getOuterHeight;\r\n        var itemMargin = this.option(\"itemMargin\");\r\n        var itemPosition = $itemElement.position()[config.mainPosition];\r\n        var itemDimension = outerMainGetter($itemElement);\r\n        var itemTail = itemPosition + itemDimension;\r\n        var scrollPosition = this.scrollPosition();\r\n        var clientWidth = outerMainGetter(this.$element());\r\n        if (scrollPosition <= itemPosition && itemTail <= scrollPosition + clientWidth) {\r\n            return\r\n        }\r\n        if (scrollPosition > itemPosition) {\r\n            this._scrollView.scrollTo(itemPosition - itemMargin)\r\n        } else {\r\n            this._scrollView.scrollTo(itemPosition + itemDimension - clientWidth + itemMargin)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"items\":\r\n                this.callBase(args);\r\n                this._renderGeometry();\r\n                this._updateScrollView();\r\n                break;\r\n            case \"showScrollbar\":\r\n                this._initScrollView();\r\n                break;\r\n            case \"disabled\":\r\n                this._scrollView.option(\"disabled\", args.value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"baseItemWidth\":\r\n            case \"baseItemHeight\":\r\n            case \"itemMargin\":\r\n                this._renderGeometry();\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                this._renderGeometry();\r\n                this._scrollView.option(args.name, args.value);\r\n                this._updateScrollView();\r\n                break;\r\n            case \"direction\":\r\n                this._renderGeometry();\r\n                this._updateScrollView();\r\n                break;\r\n            case \"indicateLoading\":\r\n                this._hideLoadingIfLoadIndicationOff();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    scrollPosition: function() {\r\n        return this._scrollView.scrollOffset()[this._config.mainPosition]\r\n    }\r\n});\r\nregisterComponent(\"dxTileView\", TileView);\r\nexport default TileView;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
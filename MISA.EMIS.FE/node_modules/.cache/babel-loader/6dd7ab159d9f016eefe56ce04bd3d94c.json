{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.dialogs.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport Popup from \"../popup\";\nimport Form from \"../form\";\nimport \"../tag_box\";\nimport \"../radio_group\";\nimport dateLocalization from \"../../localization/date\";\nimport messageLocalization from \"../../localization/message\";\nimport \"../list_light\";\nimport \"../list/modules/deleting\";\nexport class GanttDialog {\n  constructor(owner, $element) {\n    this._popupInstance = owner._createComponent($element, Popup);\n    this.infoMap = {\n      TaskEdit: TaskEditDialogInfo,\n      Resources: ResourcesEditDialogInfo,\n      Confirmation: ConfirmDialogInfo,\n      ConstraintViolation: ConstraintViolationDialogInfo\n    };\n  }\n\n  _apply() {\n    if (this._dialogInfo.isValidated()) {\n      var result = this._dialogInfo.getResult();\n\n      this._callback(result);\n\n      this.hide();\n    }\n  }\n\n  show(name, parameters, callback, afterClosing, editingOptions) {\n    this._callback = callback;\n    this._afterClosing = afterClosing;\n\n    if (!this.infoMap[name]) {\n      return;\n    }\n\n    var isRefresh = this._popupInstance._isVisible() && this._dialogInfo && this._dialogInfo instanceof this.infoMap[name];\n    this._dialogInfo = new this.infoMap[name](parameters, this._apply.bind(this), this.hide.bind(this), editingOptions);\n\n    this._popupInstance.option({\n      showTitle: !!this._dialogInfo.getTitle(),\n      title: this._dialogInfo.getTitle(),\n      toolbarItems: this._dialogInfo.getToolbarItems(),\n      maxWidth: this._dialogInfo.getMaxWidth(),\n      height: this._dialogInfo.getHeight(),\n      contentTemplate: this._dialogInfo.getContentTemplate()\n    });\n\n    if (!isRefresh) {\n      this._popupInstance.show();\n    }\n  }\n\n  hide() {\n    this._popupInstance.hide();\n\n    if (this._afterClosing) {\n      this._afterClosing();\n    }\n  }\n\n}\n\nclass DialogInfoBase {\n  constructor(parameters, applyAction, hideAction, editingOptions) {\n    this._parameters = parameters;\n    this._applyAction = applyAction;\n    this._hideAction = hideAction;\n    this._editingOptions = editingOptions;\n  }\n\n  _getFormItems() {\n    return {};\n  }\n\n  _getFormCssClass() {\n    return \"\";\n  }\n\n  _getFormData() {\n    return this._parameters;\n  }\n\n  _updateParameters() {}\n\n  _getOkToolbarItem() {\n    return this._getToolbarItem(\"OK\", this._applyAction);\n  }\n\n  _getCancelToolbarItem() {\n    return this._getToolbarItem(\"Cancel\", this._hideAction);\n  }\n\n  _getYesToolbarItem() {\n    return this._getToolbarItem(\"Yes\", this._applyAction);\n  }\n\n  _getNoToolbarItem() {\n    return this._getToolbarItem(\"No\", this._hideAction);\n  }\n\n  _getToolbarItem(localizationText, action) {\n    return {\n      widget: \"dxButton\",\n      toolbar: \"bottom\",\n      options: {\n        text: messageLocalization.format(localizationText),\n        onClick: action\n      }\n    };\n  }\n\n  getTitle() {\n    return \"\";\n  }\n\n  getToolbarItems() {\n    return this._editingOptions.enabled ? [this._getOkToolbarItem(), this._getCancelToolbarItem()] : [this._getCancelToolbarItem()];\n  }\n\n  getMaxWidth() {\n    return 400;\n  }\n\n  getHeight() {\n    return \"auto\";\n  }\n\n  getContentTemplate() {\n    return content => {\n      this._form = new Form(content, {\n        formData: this._getFormData(),\n        items: this._getFormItems(),\n        elementAttr: {\n          class: this._getFormCssClass()\n        }\n      });\n      return content;\n    };\n  }\n\n  getResult() {\n    var formData = this.getFormData();\n\n    this._updateParameters(formData);\n\n    return this._parameters;\n  }\n\n  getFormData() {\n    var formData = this._form && this._form.option(\"formData\");\n\n    return formData;\n  }\n\n  isValidated() {\n    return true;\n  }\n\n}\n\nclass TaskEditDialogInfo extends DialogInfoBase {\n  getTitle() {\n    return messageLocalization.format(\"dxGantt-dialogTaskDetailsTitle\");\n  }\n\n  _getFormItems() {\n    var readOnly = !this._editingOptions.enabled || !this._editingOptions.allowTaskUpdating;\n    var readOnlyRange = readOnly || !this._parameters.enableRangeEdit;\n    return [{\n      dataField: \"title\",\n      editorType: \"dxTextBox\",\n      label: {\n        text: messageLocalization.format(\"dxGantt-dialogTitle\")\n      },\n      editorOptions: {\n        readOnly: readOnly || this._isReadOnlyField(\"title\")\n      },\n      visible: !this._isHiddenField(\"title\")\n    }, {\n      dataField: \"start\",\n      editorType: \"dxDateBox\",\n      label: {\n        text: messageLocalization.format(\"dxGantt-dialogStartTitle\")\n      },\n      editorOptions: {\n        type: \"datetime\",\n        width: \"100%\",\n        readOnly: readOnlyRange || this._isReadOnlyField(\"start\")\n      },\n      visible: !this._isHiddenField(\"start\"),\n      validationRules: [{\n        type: \"required\",\n        message: messageLocalization.format(\"validation-required-formatted\", messageLocalization.format(\"dxGantt-dialogStartTitle\"))\n      }, {\n        type: \"custom\",\n        validationCallback: e => {\n          if (this._parameters.isValidationRequired) {\n            var correctDateRange = this._parameters.getCorrectDateRange(this._parameters.id, e.value, this._parameters.end);\n\n            if (correctDateRange.start.getTime() !== e.value.getTime()) {\n              e.rule.message = this._getValidationMessage(true, correctDateRange.start);\n              return false;\n            }\n          }\n\n          return true;\n        }\n      }]\n    }, {\n      dataField: \"end\",\n      editorType: \"dxDateBox\",\n      label: {\n        text: messageLocalization.format(\"dxGantt-dialogEndTitle\")\n      },\n      editorOptions: {\n        type: \"datetime\",\n        width: \"100%\",\n        readOnly: readOnlyRange || this._isReadOnlyField(\"end\")\n      },\n      visible: !this._isHiddenField(\"end\"),\n      validationRules: [{\n        type: \"required\",\n        message: messageLocalization.format(\"validation-required-formatted\", messageLocalization.format(\"dxGantt-dialogEndTitle\"))\n      }, {\n        type: \"custom\",\n        validationCallback: e => {\n          if (this._parameters.isValidationRequired) {\n            var correctDateRange = this._parameters.getCorrectDateRange(this._parameters.id, this._parameters.start, e.value);\n\n            if (correctDateRange.end.getTime() !== e.value.getTime()) {\n              e.rule.message = this._getValidationMessage(false, correctDateRange.end);\n              return false;\n            }\n          }\n\n          return true;\n        }\n      }]\n    }, {\n      dataField: \"progress\",\n      editorType: \"dxNumberBox\",\n      label: {\n        text: messageLocalization.format(\"dxGantt-dialogProgressTitle\")\n      },\n      editorOptions: {\n        showSpinButtons: true,\n        min: 0,\n        max: 1,\n        format: \"#0%\",\n        step: .01,\n        readOnly: readOnlyRange || this._isReadOnlyField(\"progress\")\n      },\n      visible: !this._isHiddenField(\"progress\")\n    }, {\n      dataField: \"assigned.items\",\n      editorType: \"dxTagBox\",\n      label: {\n        text: messageLocalization.format(\"dxGantt-dialogResourcesTitle\")\n      },\n      editorOptions: {\n        readOnly: readOnly || !this._editingOptions.allowTaskResourceUpdating,\n        dataSource: this._parameters.resources.items,\n        displayExpr: \"text\",\n        buttons: [{\n          name: \"editResources\",\n          location: \"after\",\n          options: {\n            disabled: !this._editingOptions.allowResourceAdding && !this._editingOptions.allowResourceDeleting,\n            text: \"...\",\n            hint: messageLocalization.format(\"dxGantt-dialogEditResourceListHint\"),\n            onClick: () => {\n              this._parameters.showResourcesDialogCommand.execute(() => {\n                this._parameters.showTaskEditDialogCommand.execute();\n              });\n            }\n          }\n        }]\n      }\n    }];\n  }\n\n  _getValidationMessage(isStartDependencies, correctDate) {\n    if (isStartDependencies) {\n      return messageLocalization.format(\"dxGantt-dialogStartDateValidation\", this._getFormattedDateText(correctDate));\n    }\n\n    return messageLocalization.format(\"dxGantt-dialogEndDateValidation\", this._getFormattedDateText(correctDate));\n  }\n\n  _getFormattedDateText(date) {\n    var result = \"\";\n\n    if (date) {\n      var datePart = dateLocalization.format(date, \"shortDate\");\n      var timePart = dateLocalization.format(date, \"hh:mm\");\n      result = datePart + \" \" + timePart;\n    }\n\n    return result;\n  }\n\n  _isReadOnlyField(field) {\n    return this._parameters.readOnlyFields.indexOf(field) > -1;\n  }\n\n  _isHiddenField(field) {\n    return this._parameters.hiddenFields.indexOf(field) > -1;\n  }\n\n  _getFormData() {\n    var data = {};\n\n    for (var field in this._parameters) {\n      data[field] = \"progress\" === field ? this._parameters[field] / 100 : this._parameters[field];\n    }\n\n    return data;\n  }\n\n  _updateParameters(formData) {\n    this._parameters.title = formData.title;\n    this._parameters.start = formData.start;\n    this._parameters.end = formData.end;\n    this._parameters.progress = 100 * formData.progress;\n    this._parameters.assigned = formData.assigned;\n  }\n\n  isValidated() {\n    var _this$_form;\n\n    var validationResult = null === (_this$_form = this._form) || void 0 === _this$_form ? void 0 : _this$_form.validate();\n    return null === validationResult || void 0 === validationResult ? void 0 : validationResult.isValid;\n  }\n\n}\n\nclass ResourcesEditDialogInfo extends DialogInfoBase {\n  getTitle() {\n    return messageLocalization.format(\"dxGantt-dialogResourceManagerTitle\");\n  }\n\n  _getFormItems() {\n    return [{\n      label: {\n        visible: false\n      },\n      dataField: \"resources.items\",\n      editorType: \"dxList\",\n      editorOptions: {\n        allowItemDeleting: this._editingOptions.enabled && this._editingOptions.allowResourceDeleting,\n        itemDeleteMode: \"static\",\n        selectionMode: \"none\",\n        items: this._parameters.resources.items,\n        height: 250,\n        noDataText: messageLocalization.format(\"dxGantt-dialogEditNoResources\"),\n        onInitialized: e => {\n          this.list = e.component;\n        },\n        onItemDeleted: e => {\n          this._parameters.resources.remove(e.itemData);\n        }\n      }\n    }, {\n      label: {\n        visible: false\n      },\n      editorType: \"dxTextBox\",\n      editorOptions: {\n        readOnly: !this._editingOptions.enabled || !this._editingOptions.allowResourceAdding,\n        onInitialized: e => {\n          this.textBox = e.component;\n        },\n        onInput: e => {\n          var addButton = e.component.getButton(\"addResource\");\n          var resourceName = e.component.option(\"text\");\n          addButton.option(\"disabled\", 0 === resourceName.length);\n        },\n        buttons: [{\n          name: \"addResource\",\n          location: \"after\",\n          options: {\n            text: messageLocalization.format(\"dxGantt-dialogButtonAdd\"),\n            disabled: true,\n            onClick: e => {\n              var newItem = this._parameters.resources.createItem();\n\n              newItem.text = this.textBox.option(\"text\");\n\n              this._parameters.resources.add(newItem);\n\n              this.list.option(\"items\", this._parameters.resources.items);\n              this.list.scrollToItem(newItem);\n              this.textBox.reset();\n              e.component.option(\"disabled\", true);\n            }\n          }\n        }]\n      }\n    }];\n  }\n\n}\n\nclass ConfirmDialogInfo extends DialogInfoBase {\n  getContentTemplate() {\n    return content => this._getConfirmMessage();\n  }\n\n  _getConfirmMessage() {\n    switch (this._parameters.type) {\n      case 0:\n        return messageLocalization.format(\"dxGantt-dialogTaskDeleteConfirmation\");\n\n      case 1:\n        return messageLocalization.format(\"dxGantt-dialogDependencyDeleteConfirmation\");\n\n      case 2:\n        return messageLocalization.format(\"dxGantt-dialogResourcesDeleteConfirmation\", this._parameters.message);\n\n      default:\n        return \"\";\n    }\n  }\n\n  getToolbarItems() {\n    return [this._getYesToolbarItem(), this._getNoToolbarItem()];\n  }\n\n}\n\nclass ConstraintViolationDialogInfo extends DialogInfoBase {\n  _getFormItems() {\n    var hasCriticalErrors = this._parameters.hasCriticalErrors;\n    var severalErrors = this._parameters.errorsCount > 1;\n    var items = [];\n    var deleteMessage = severalErrors ? \"dxGantt-dialogDeleteDependenciesMessage\" : \"dxGantt-dialogDeleteDependencyMessage\";\n    var moveMessage = severalErrors ? \"dxGantt-dialogMoveTaskAndKeepDependenciesMessage\" : \"dxGantt-dialogMoveTaskAndKeepDependencyMessage\";\n    var titleMessage;\n\n    if (hasCriticalErrors) {\n      titleMessage = severalErrors ? \"dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage\" : \"dxGantt-dialogConstraintCriticalViolationMessage\";\n    } else {\n      titleMessage = severalErrors ? \"dxGantt-dialogConstraintViolationSeveralTasksMessage\" : \"dxGantt-dialogConstraintViolationMessage\";\n    }\n\n    items.push({\n      text: messageLocalization.format(\"dxGantt-dialogCancelOperationMessage\"),\n      value: 0\n    });\n    items.push({\n      text: messageLocalization.format(deleteMessage),\n      value: 1\n    });\n\n    if (!hasCriticalErrors) {\n      items.push({\n        text: messageLocalization.format(moveMessage),\n        value: 2\n      });\n    }\n\n    return [{\n      template: messageLocalization.format(titleMessage)\n    }, {\n      cssClass: \"dx-cv-dialog-row\",\n      dataField: \"option\",\n      label: {\n        visible: false\n      },\n      editorType: \"dxRadioGroup\",\n      editorOptions: {\n        items: items,\n        valueExpr: \"value\",\n        value: 0\n      }\n    }];\n  }\n\n  _getFormCssClass() {\n    return \"dx-cv-dialog\";\n  }\n\n  _updateParameters(formData) {\n    this._parameters.option = formData.option;\n  }\n\n}","map":{"version":3,"names":["Popup","Form","dateLocalization","messageLocalization","GanttDialog","constructor","owner","$element","_popupInstance","_createComponent","infoMap","TaskEdit","TaskEditDialogInfo","Resources","ResourcesEditDialogInfo","Confirmation","ConfirmDialogInfo","ConstraintViolation","ConstraintViolationDialogInfo","_apply","_dialogInfo","isValidated","result","getResult","_callback","hide","show","name","parameters","callback","afterClosing","editingOptions","_afterClosing","isRefresh","_isVisible","bind","option","showTitle","getTitle","title","toolbarItems","getToolbarItems","maxWidth","getMaxWidth","height","getHeight","contentTemplate","getContentTemplate","DialogInfoBase","applyAction","hideAction","_parameters","_applyAction","_hideAction","_editingOptions","_getFormItems","_getFormCssClass","_getFormData","_updateParameters","_getOkToolbarItem","_getToolbarItem","_getCancelToolbarItem","_getYesToolbarItem","_getNoToolbarItem","localizationText","action","widget","toolbar","options","text","format","onClick","enabled","content","_form","formData","items","elementAttr","class","getFormData","readOnly","allowTaskUpdating","readOnlyRange","enableRangeEdit","dataField","editorType","label","editorOptions","_isReadOnlyField","visible","_isHiddenField","type","width","validationRules","message","validationCallback","e","isValidationRequired","correctDateRange","getCorrectDateRange","id","value","end","start","getTime","rule","_getValidationMessage","showSpinButtons","min","max","step","allowTaskResourceUpdating","dataSource","resources","displayExpr","buttons","location","disabled","allowResourceAdding","allowResourceDeleting","hint","showResourcesDialogCommand","execute","showTaskEditDialogCommand","isStartDependencies","correctDate","_getFormattedDateText","date","datePart","timePart","field","readOnlyFields","indexOf","hiddenFields","data","progress","assigned","_this$_form","validationResult","validate","isValid","allowItemDeleting","itemDeleteMode","selectionMode","noDataText","onInitialized","list","component","onItemDeleted","remove","itemData","textBox","onInput","addButton","getButton","resourceName","length","newItem","createItem","add","scrollToItem","reset","_getConfirmMessage","hasCriticalErrors","severalErrors","errorsCount","deleteMessage","moveMessage","titleMessage","push","template","cssClass","valueExpr"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/gantt/ui.gantt.dialogs.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.dialogs.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Popup from \"../popup\";\r\nimport Form from \"../form\";\r\nimport \"../tag_box\";\r\nimport \"../radio_group\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport \"../list_light\";\r\nimport \"../list/modules/deleting\";\r\nexport class GanttDialog {\r\n    constructor(owner, $element) {\r\n        this._popupInstance = owner._createComponent($element, Popup);\r\n        this.infoMap = {\r\n            TaskEdit: TaskEditDialogInfo,\r\n            Resources: ResourcesEditDialogInfo,\r\n            Confirmation: ConfirmDialogInfo,\r\n            ConstraintViolation: ConstraintViolationDialogInfo\r\n        }\r\n    }\r\n    _apply() {\r\n        if (this._dialogInfo.isValidated()) {\r\n            var result = this._dialogInfo.getResult();\r\n            this._callback(result);\r\n            this.hide()\r\n        }\r\n    }\r\n    show(name, parameters, callback, afterClosing, editingOptions) {\r\n        this._callback = callback;\r\n        this._afterClosing = afterClosing;\r\n        if (!this.infoMap[name]) {\r\n            return\r\n        }\r\n        var isRefresh = this._popupInstance._isVisible() && this._dialogInfo && this._dialogInfo instanceof this.infoMap[name];\r\n        this._dialogInfo = new this.infoMap[name](parameters, this._apply.bind(this), this.hide.bind(this), editingOptions);\r\n        this._popupInstance.option({\r\n            showTitle: !!this._dialogInfo.getTitle(),\r\n            title: this._dialogInfo.getTitle(),\r\n            toolbarItems: this._dialogInfo.getToolbarItems(),\r\n            maxWidth: this._dialogInfo.getMaxWidth(),\r\n            height: this._dialogInfo.getHeight(),\r\n            contentTemplate: this._dialogInfo.getContentTemplate()\r\n        });\r\n        if (!isRefresh) {\r\n            this._popupInstance.show()\r\n        }\r\n    }\r\n    hide() {\r\n        this._popupInstance.hide();\r\n        if (this._afterClosing) {\r\n            this._afterClosing()\r\n        }\r\n    }\r\n}\r\nclass DialogInfoBase {\r\n    constructor(parameters, applyAction, hideAction, editingOptions) {\r\n        this._parameters = parameters;\r\n        this._applyAction = applyAction;\r\n        this._hideAction = hideAction;\r\n        this._editingOptions = editingOptions\r\n    }\r\n    _getFormItems() {\r\n        return {}\r\n    }\r\n    _getFormCssClass() {\r\n        return \"\"\r\n    }\r\n    _getFormData() {\r\n        return this._parameters\r\n    }\r\n    _updateParameters() {}\r\n    _getOkToolbarItem() {\r\n        return this._getToolbarItem(\"OK\", this._applyAction)\r\n    }\r\n    _getCancelToolbarItem() {\r\n        return this._getToolbarItem(\"Cancel\", this._hideAction)\r\n    }\r\n    _getYesToolbarItem() {\r\n        return this._getToolbarItem(\"Yes\", this._applyAction)\r\n    }\r\n    _getNoToolbarItem() {\r\n        return this._getToolbarItem(\"No\", this._hideAction)\r\n    }\r\n    _getToolbarItem(localizationText, action) {\r\n        return {\r\n            widget: \"dxButton\",\r\n            toolbar: \"bottom\",\r\n            options: {\r\n                text: messageLocalization.format(localizationText),\r\n                onClick: action\r\n            }\r\n        }\r\n    }\r\n    getTitle() {\r\n        return \"\"\r\n    }\r\n    getToolbarItems() {\r\n        return this._editingOptions.enabled ? [this._getOkToolbarItem(), this._getCancelToolbarItem()] : [this._getCancelToolbarItem()]\r\n    }\r\n    getMaxWidth() {\r\n        return 400\r\n    }\r\n    getHeight() {\r\n        return \"auto\"\r\n    }\r\n    getContentTemplate() {\r\n        return content => {\r\n            this._form = new Form(content, {\r\n                formData: this._getFormData(),\r\n                items: this._getFormItems(),\r\n                elementAttr: {\r\n                    class: this._getFormCssClass()\r\n                }\r\n            });\r\n            return content\r\n        }\r\n    }\r\n    getResult() {\r\n        var formData = this.getFormData();\r\n        this._updateParameters(formData);\r\n        return this._parameters\r\n    }\r\n    getFormData() {\r\n        var formData = this._form && this._form.option(\"formData\");\r\n        return formData\r\n    }\r\n    isValidated() {\r\n        return true\r\n    }\r\n}\r\nclass TaskEditDialogInfo extends DialogInfoBase {\r\n    getTitle() {\r\n        return messageLocalization.format(\"dxGantt-dialogTaskDetailsTitle\")\r\n    }\r\n    _getFormItems() {\r\n        var readOnly = !this._editingOptions.enabled || !this._editingOptions.allowTaskUpdating;\r\n        var readOnlyRange = readOnly || !this._parameters.enableRangeEdit;\r\n        return [{\r\n            dataField: \"title\",\r\n            editorType: \"dxTextBox\",\r\n            label: {\r\n                text: messageLocalization.format(\"dxGantt-dialogTitle\")\r\n            },\r\n            editorOptions: {\r\n                readOnly: readOnly || this._isReadOnlyField(\"title\")\r\n            },\r\n            visible: !this._isHiddenField(\"title\")\r\n        }, {\r\n            dataField: \"start\",\r\n            editorType: \"dxDateBox\",\r\n            label: {\r\n                text: messageLocalization.format(\"dxGantt-dialogStartTitle\")\r\n            },\r\n            editorOptions: {\r\n                type: \"datetime\",\r\n                width: \"100%\",\r\n                readOnly: readOnlyRange || this._isReadOnlyField(\"start\")\r\n            },\r\n            visible: !this._isHiddenField(\"start\"),\r\n            validationRules: [{\r\n                type: \"required\",\r\n                message: messageLocalization.format(\"validation-required-formatted\", messageLocalization.format(\"dxGantt-dialogStartTitle\"))\r\n            }, {\r\n                type: \"custom\",\r\n                validationCallback: e => {\r\n                    if (this._parameters.isValidationRequired) {\r\n                        var correctDateRange = this._parameters.getCorrectDateRange(this._parameters.id, e.value, this._parameters.end);\r\n                        if (correctDateRange.start.getTime() !== e.value.getTime()) {\r\n                            e.rule.message = this._getValidationMessage(true, correctDateRange.start);\r\n                            return false\r\n                        }\r\n                    }\r\n                    return true\r\n                }\r\n            }]\r\n        }, {\r\n            dataField: \"end\",\r\n            editorType: \"dxDateBox\",\r\n            label: {\r\n                text: messageLocalization.format(\"dxGantt-dialogEndTitle\")\r\n            },\r\n            editorOptions: {\r\n                type: \"datetime\",\r\n                width: \"100%\",\r\n                readOnly: readOnlyRange || this._isReadOnlyField(\"end\")\r\n            },\r\n            visible: !this._isHiddenField(\"end\"),\r\n            validationRules: [{\r\n                type: \"required\",\r\n                message: messageLocalization.format(\"validation-required-formatted\", messageLocalization.format(\"dxGantt-dialogEndTitle\"))\r\n            }, {\r\n                type: \"custom\",\r\n                validationCallback: e => {\r\n                    if (this._parameters.isValidationRequired) {\r\n                        var correctDateRange = this._parameters.getCorrectDateRange(this._parameters.id, this._parameters.start, e.value);\r\n                        if (correctDateRange.end.getTime() !== e.value.getTime()) {\r\n                            e.rule.message = this._getValidationMessage(false, correctDateRange.end);\r\n                            return false\r\n                        }\r\n                    }\r\n                    return true\r\n                }\r\n            }]\r\n        }, {\r\n            dataField: \"progress\",\r\n            editorType: \"dxNumberBox\",\r\n            label: {\r\n                text: messageLocalization.format(\"dxGantt-dialogProgressTitle\")\r\n            },\r\n            editorOptions: {\r\n                showSpinButtons: true,\r\n                min: 0,\r\n                max: 1,\r\n                format: \"#0%\",\r\n                step: .01,\r\n                readOnly: readOnlyRange || this._isReadOnlyField(\"progress\")\r\n            },\r\n            visible: !this._isHiddenField(\"progress\")\r\n        }, {\r\n            dataField: \"assigned.items\",\r\n            editorType: \"dxTagBox\",\r\n            label: {\r\n                text: messageLocalization.format(\"dxGantt-dialogResourcesTitle\")\r\n            },\r\n            editorOptions: {\r\n                readOnly: readOnly || !this._editingOptions.allowTaskResourceUpdating,\r\n                dataSource: this._parameters.resources.items,\r\n                displayExpr: \"text\",\r\n                buttons: [{\r\n                    name: \"editResources\",\r\n                    location: \"after\",\r\n                    options: {\r\n                        disabled: !this._editingOptions.allowResourceAdding && !this._editingOptions.allowResourceDeleting,\r\n                        text: \"...\",\r\n                        hint: messageLocalization.format(\"dxGantt-dialogEditResourceListHint\"),\r\n                        onClick: () => {\r\n                            this._parameters.showResourcesDialogCommand.execute(() => {\r\n                                this._parameters.showTaskEditDialogCommand.execute()\r\n                            })\r\n                        }\r\n                    }\r\n                }]\r\n            }\r\n        }]\r\n    }\r\n    _getValidationMessage(isStartDependencies, correctDate) {\r\n        if (isStartDependencies) {\r\n            return messageLocalization.format(\"dxGantt-dialogStartDateValidation\", this._getFormattedDateText(correctDate))\r\n        }\r\n        return messageLocalization.format(\"dxGantt-dialogEndDateValidation\", this._getFormattedDateText(correctDate))\r\n    }\r\n    _getFormattedDateText(date) {\r\n        var result = \"\";\r\n        if (date) {\r\n            var datePart = dateLocalization.format(date, \"shortDate\");\r\n            var timePart = dateLocalization.format(date, \"hh:mm\");\r\n            result = datePart + \" \" + timePart\r\n        }\r\n        return result\r\n    }\r\n    _isReadOnlyField(field) {\r\n        return this._parameters.readOnlyFields.indexOf(field) > -1\r\n    }\r\n    _isHiddenField(field) {\r\n        return this._parameters.hiddenFields.indexOf(field) > -1\r\n    }\r\n    _getFormData() {\r\n        var data = {};\r\n        for (var field in this._parameters) {\r\n            data[field] = \"progress\" === field ? this._parameters[field] / 100 : this._parameters[field]\r\n        }\r\n        return data\r\n    }\r\n    _updateParameters(formData) {\r\n        this._parameters.title = formData.title;\r\n        this._parameters.start = formData.start;\r\n        this._parameters.end = formData.end;\r\n        this._parameters.progress = 100 * formData.progress;\r\n        this._parameters.assigned = formData.assigned\r\n    }\r\n    isValidated() {\r\n        var _this$_form;\r\n        var validationResult = null === (_this$_form = this._form) || void 0 === _this$_form ? void 0 : _this$_form.validate();\r\n        return null === validationResult || void 0 === validationResult ? void 0 : validationResult.isValid\r\n    }\r\n}\r\nclass ResourcesEditDialogInfo extends DialogInfoBase {\r\n    getTitle() {\r\n        return messageLocalization.format(\"dxGantt-dialogResourceManagerTitle\")\r\n    }\r\n    _getFormItems() {\r\n        return [{\r\n            label: {\r\n                visible: false\r\n            },\r\n            dataField: \"resources.items\",\r\n            editorType: \"dxList\",\r\n            editorOptions: {\r\n                allowItemDeleting: this._editingOptions.enabled && this._editingOptions.allowResourceDeleting,\r\n                itemDeleteMode: \"static\",\r\n                selectionMode: \"none\",\r\n                items: this._parameters.resources.items,\r\n                height: 250,\r\n                noDataText: messageLocalization.format(\"dxGantt-dialogEditNoResources\"),\r\n                onInitialized: e => {\r\n                    this.list = e.component\r\n                },\r\n                onItemDeleted: e => {\r\n                    this._parameters.resources.remove(e.itemData)\r\n                }\r\n            }\r\n        }, {\r\n            label: {\r\n                visible: false\r\n            },\r\n            editorType: \"dxTextBox\",\r\n            editorOptions: {\r\n                readOnly: !this._editingOptions.enabled || !this._editingOptions.allowResourceAdding,\r\n                onInitialized: e => {\r\n                    this.textBox = e.component\r\n                },\r\n                onInput: e => {\r\n                    var addButton = e.component.getButton(\"addResource\");\r\n                    var resourceName = e.component.option(\"text\");\r\n                    addButton.option(\"disabled\", 0 === resourceName.length)\r\n                },\r\n                buttons: [{\r\n                    name: \"addResource\",\r\n                    location: \"after\",\r\n                    options: {\r\n                        text: messageLocalization.format(\"dxGantt-dialogButtonAdd\"),\r\n                        disabled: true,\r\n                        onClick: e => {\r\n                            var newItem = this._parameters.resources.createItem();\r\n                            newItem.text = this.textBox.option(\"text\");\r\n                            this._parameters.resources.add(newItem);\r\n                            this.list.option(\"items\", this._parameters.resources.items);\r\n                            this.list.scrollToItem(newItem);\r\n                            this.textBox.reset();\r\n                            e.component.option(\"disabled\", true)\r\n                        }\r\n                    }\r\n                }]\r\n            }\r\n        }]\r\n    }\r\n}\r\nclass ConfirmDialogInfo extends DialogInfoBase {\r\n    getContentTemplate() {\r\n        return content => this._getConfirmMessage()\r\n    }\r\n    _getConfirmMessage() {\r\n        switch (this._parameters.type) {\r\n            case 0:\r\n                return messageLocalization.format(\"dxGantt-dialogTaskDeleteConfirmation\");\r\n            case 1:\r\n                return messageLocalization.format(\"dxGantt-dialogDependencyDeleteConfirmation\");\r\n            case 2:\r\n                return messageLocalization.format(\"dxGantt-dialogResourcesDeleteConfirmation\", this._parameters.message);\r\n            default:\r\n                return \"\"\r\n        }\r\n    }\r\n    getToolbarItems() {\r\n        return [this._getYesToolbarItem(), this._getNoToolbarItem()]\r\n    }\r\n}\r\nclass ConstraintViolationDialogInfo extends DialogInfoBase {\r\n    _getFormItems() {\r\n        var hasCriticalErrors = this._parameters.hasCriticalErrors;\r\n        var severalErrors = this._parameters.errorsCount > 1;\r\n        var items = [];\r\n        var deleteMessage = severalErrors ? \"dxGantt-dialogDeleteDependenciesMessage\" : \"dxGantt-dialogDeleteDependencyMessage\";\r\n        var moveMessage = severalErrors ? \"dxGantt-dialogMoveTaskAndKeepDependenciesMessage\" : \"dxGantt-dialogMoveTaskAndKeepDependencyMessage\";\r\n        var titleMessage;\r\n        if (hasCriticalErrors) {\r\n            titleMessage = severalErrors ? \"dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage\" : \"dxGantt-dialogConstraintCriticalViolationMessage\"\r\n        } else {\r\n            titleMessage = severalErrors ? \"dxGantt-dialogConstraintViolationSeveralTasksMessage\" : \"dxGantt-dialogConstraintViolationMessage\"\r\n        }\r\n        items.push({\r\n            text: messageLocalization.format(\"dxGantt-dialogCancelOperationMessage\"),\r\n            value: 0\r\n        });\r\n        items.push({\r\n            text: messageLocalization.format(deleteMessage),\r\n            value: 1\r\n        });\r\n        if (!hasCriticalErrors) {\r\n            items.push({\r\n                text: messageLocalization.format(moveMessage),\r\n                value: 2\r\n            })\r\n        }\r\n        return [{\r\n            template: messageLocalization.format(titleMessage)\r\n        }, {\r\n            cssClass: \"dx-cv-dialog-row\",\r\n            dataField: \"option\",\r\n            label: {\r\n                visible: false\r\n            },\r\n            editorType: \"dxRadioGroup\",\r\n            editorOptions: {\r\n                items: items,\r\n                valueExpr: \"value\",\r\n                value: 0\r\n            }\r\n        }]\r\n    }\r\n    _getFormCssClass() {\r\n        return \"dx-cv-dialog\"\r\n    }\r\n    _updateParameters(formData) {\r\n        this._parameters.option = formData.option\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/chart_components/tracker.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport domAdapter from \"../../core/dom_adapter\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { name as clickEventName } from \"../../events/click\";\nimport { extend } from \"../../core/utils/extend\";\nimport { each as _each } from \"../../core/utils/iterator\";\nimport consts from \"../components/consts\";\nimport { getDistance, pointInCanvas as inCanvas, normalizeEnum as _normalizeEnum } from \"../core/utils\";\nimport pointerEvents from \"../../events/pointer\";\nimport { addNamespace } from \"../../events/utils/index\";\nimport { isDefined } from \"../../core/utils/type\";\nimport { noop as _noop } from \"../../core/utils/common\";\nimport errors from \"../../core/errors\";\nvar _floor = Math.floor;\nvar eventsConsts = consts.events;\nvar statesConsts = consts.states;\nvar HOVER_STATE = statesConsts.hoverMark;\nvar NORMAL_STATE = statesConsts.normalMark;\nvar EVENT_NS = \"dxChartTracker\";\nvar DOT_EVENT_NS = \".\" + EVENT_NS;\nvar POINTER_ACTION = addNamespace([pointerEvents.down, pointerEvents.move], EVENT_NS);\nvar LEGEND_CLICK = \"legendClick\";\nvar SERIES_CLICK = \"seriesClick\";\nvar POINT_CLICK = \"pointClick\";\nvar POINT_DATA = \"chart-data-point\";\nvar SERIES_DATA = \"chart-data-series\";\nvar ARG_DATA = \"chart-data-argument\";\nvar DELAY = 100;\nvar HOLD_TIMEOUT = 300;\nvar NONE_MODE = \"none\";\nvar ALL_ARGUMENT_POINTS_MODE = \"allargumentpoints\";\nvar INCLUDE_POINTS_MODE = \"includepoints\";\nvar EXLUDE_POINTS_MODE = \"excludepoints\";\nvar LEGEND_HOVER_MODES = [INCLUDE_POINTS_MODE, EXLUDE_POINTS_MODE, NONE_MODE];\n\nfunction getData(event, dataKey, tryCheckParent) {\n  var target = event.target;\n\n  if (\"tspan\" === target.tagName) {\n    return target.parentNode[dataKey];\n  }\n\n  var data = target[dataKey];\n\n  if (tryCheckParent && !isDefined(data)) {\n    return function getParentData(node) {\n      if (node.parentNode) {\n        if (isDefined(node.parentNode[dataKey])) {\n          return node.parentNode[dataKey];\n        } else {\n          return getParentData(node.parentNode);\n        }\n      }\n\n      return;\n    }(target);\n  }\n\n  return data;\n}\n\nfunction eventCanceled(_ref, target, clickTarget) {\n  var {\n    event: event,\n    cancel: cancel\n  } = _ref;\n  var deprecatedCancel = event.cancel;\n  var eventCanceled = cancel || deprecatedCancel;\n\n  if (deprecatedCancel) {\n    errors.log(\"W0003\", \"\".concat(clickTarget, \"Ckick handler argument\"), \"event.cancel\", \"22.1\", \"Use the 'cancel' field instead\");\n  }\n\n  return eventCanceled || !target.getOptions();\n}\n\nfunction correctLegendHoverMode(mode) {\n  if (LEGEND_HOVER_MODES.indexOf(mode) > -1) {\n    return mode;\n  } else {\n    return INCLUDE_POINTS_MODE;\n  }\n}\n\nfunction correctHoverMode(target) {\n  var mode = target.getOptions().hoverMode;\n  return mode === NONE_MODE ? mode : ALL_ARGUMENT_POINTS_MODE;\n}\n\nvar baseTrackerPrototype = {\n  ctor: function (options) {\n    var that = this;\n    var data = {\n      tracker: that\n    };\n    that._renderer = options.renderer;\n    that._legend = options.legend;\n    that._tooltip = options.tooltip;\n    that._eventTrigger = options.eventTrigger;\n    that._seriesGroup = options.seriesGroup;\n    options.seriesGroup.off(DOT_EVENT_NS).on(addNamespace(eventsConsts.showPointTooltip, EVENT_NS), data, that._showPointTooltip).on(addNamespace(eventsConsts.hidePointTooltip, EVENT_NS), data, that._hidePointTooltip);\n\n    that._renderer.root.off(DOT_EVENT_NS).on(POINTER_ACTION, data, that._pointerHandler).on(addNamespace(pointerEvents.up, EVENT_NS), () => clearTimeout(that._holdTimer)).on(addNamespace(clickEventName, EVENT_NS), data, that._clickHandler);\n  },\n  update: function (options) {\n    this._chart = options.chart;\n  },\n\n  updateSeries(series, resetDecorations) {\n    var that = this;\n    var noHoveredSeries = !(null !== series && void 0 !== series && series.some(s => s === that.hoveredSeries) || that._hoveredPoint && that._hoveredPoint.series);\n\n    if (that._storedSeries !== series) {\n      that._storedSeries = series || [];\n    }\n\n    if (noHoveredSeries) {\n      that._clean();\n\n      that._renderer.initHatching();\n    }\n\n    if (resetDecorations) {\n      that.clearSelection();\n\n      if (!noHoveredSeries) {\n        that._hideTooltip(that.pointAtShownTooltip);\n\n        that.clearHover();\n      }\n    }\n  },\n\n  setCanvases: function (mainCanvas, paneCanvases) {\n    this._mainCanvas = mainCanvas;\n    this._canvases = paneCanvases;\n  },\n  repairTooltip: function () {\n    var point = this.pointAtShownTooltip;\n\n    if (!point || !point.series || !point.isVisible()) {\n      this._hideTooltip(point, true);\n    } else {\n      this._showTooltip(point);\n    }\n  },\n  _setHoveredPoint: function (point) {\n    if (point === this._hoveredPoint) {\n      return;\n    }\n\n    this._releaseHoveredPoint();\n\n    point.hover();\n    this._hoveredPoint = point;\n  },\n  _releaseHoveredPoint: function (isPointerOut) {\n    if (this._hoveredPoint && this._hoveredPoint.getOptions()) {\n      this._hoveredPoint.clearHover();\n\n      this._hoveredPoint = null;\n\n      if (this._tooltip.isEnabled()) {\n        this._hideTooltip(this._hoveredPoint, false, isPointerOut);\n      }\n    }\n  },\n  _setHoveredSeries: function (series, mode) {\n    this._releaseHoveredSeries();\n\n    this._releaseHoveredPoint();\n\n    series.hover(mode);\n    this.hoveredSeries = series;\n  },\n\n  _releaseHoveredSeries() {\n    if (this.hoveredSeries) {\n      this.hoveredSeries.clearHover();\n      this.hoveredSeries = null;\n    }\n  },\n\n  clearSelection() {\n    this._storedSeries.forEach(series => {\n      if (series) {\n        series.clearSelection();\n        series.getPoints().forEach(point => point.clearSelection());\n      }\n    });\n  },\n\n  _clean: function () {\n    this.hoveredPoint = this.hoveredSeries = this._hoveredArgumentPoints = null;\n\n    this._hideTooltip(this.pointAtShownTooltip);\n  },\n  clearHover: function (isPointerOut) {\n    this._resetHoveredArgument();\n\n    this._releaseHoveredSeries();\n\n    this._releaseHoveredPoint(isPointerOut);\n  },\n  _hideTooltip: function (point, silent, isPointerOut) {\n    if (!this._tooltip || point && this.pointAtShownTooltip !== point) {\n      return;\n    }\n\n    if (!silent && this.pointAtShownTooltip) {\n      this.pointAtShownTooltip = null;\n    }\n\n    this._tooltip.hide(!!isPointerOut);\n  },\n  _showTooltip: function (point) {\n    var that = this;\n    var tooltipFormatObject;\n    var eventData = {\n      target: point\n    };\n\n    if (null !== point && void 0 !== point && point.getOptions()) {\n      tooltipFormatObject = point.getTooltipFormatObject(that._tooltip, that._tooltip.isShared() && that._chart.getStackedPoints(point));\n\n      if (!isDefined(tooltipFormatObject.valueText) && !tooltipFormatObject.points || !point.isVisible()) {\n        return;\n      }\n\n      var coords = point.getTooltipParams(that._tooltip.getLocation());\n\n      var rootOffset = that._renderer.getRootOffset();\n\n      coords.x += rootOffset.left;\n      coords.y += rootOffset.top;\n\n      var callback = result => {\n        result && (that.pointAtShownTooltip = point);\n      };\n\n      callback(that._tooltip.show(tooltipFormatObject, coords, eventData, void 0, callback));\n    }\n  },\n  _showPointTooltip: function (event, point) {\n    var that = event.data.tracker;\n    var pointWithTooltip = that.pointAtShownTooltip;\n\n    if (pointWithTooltip && pointWithTooltip !== point) {\n      that._hideTooltip(pointWithTooltip);\n    }\n\n    that._showTooltip(point);\n  },\n  _hidePointTooltip: function (event, point) {\n    event.data.tracker._hideTooltip(point, false, true);\n  },\n  _enableOutHandler: function () {\n    if (this._outHandler) {\n      return;\n    }\n\n    var that = this;\n\n    var handler = function (e) {\n      var rootOffset = that._renderer.getRootOffset();\n\n      var x = _floor(e.pageX - rootOffset.left);\n\n      var y = _floor(e.pageY - rootOffset.top);\n\n      if (!inCanvas(that._mainCanvas, x, y) && !that._isCursorOnTooltip(e)) {\n        that._pointerOut();\n\n        that._disableOutHandler();\n      }\n    };\n\n    eventsEngine.on(domAdapter.getDocument(), POINTER_ACTION, handler);\n    this._outHandler = handler;\n  },\n  _isCursorOnTooltip: function (e) {\n    return this._tooltip.isEnabled() && this._tooltip.isCursorOnTooltip(e.pageX, e.pageY);\n  },\n  _disableOutHandler: function () {\n    this._outHandler && eventsEngine.off(domAdapter.getDocument(), POINTER_ACTION, this._outHandler);\n    this._outHandler = null;\n  },\n  stopCurrentHandling: function () {\n    this._pointerOut(true);\n  },\n  _pointerOut: function (force) {\n    this.clearHover(true);\n    (force || this._tooltip.isEnabled()) && this._hideTooltip(this.pointAtShownTooltip, false, true);\n  },\n  _triggerLegendClick: function (eventArgs, elementClick) {\n    var eventTrigger = this._eventTrigger;\n    eventTrigger(LEGEND_CLICK, eventArgs, function () {\n      !eventCanceled(eventArgs, eventArgs.target, \"Legend\") && eventTrigger(elementClick, eventArgs);\n    });\n  },\n  _hoverLegendItem: function (x, y) {\n    var item = this._legend.getItemByCoord(x, y);\n\n    var series;\n    var legendHoverMode = correctLegendHoverMode(this._legend.getOptions().hoverMode);\n\n    if (item) {\n      series = this._storedSeries[item.id];\n\n      if (!series.isHovered() || series.lastHoverMode !== legendHoverMode) {\n        this._setHoveredSeries(series, legendHoverMode);\n      }\n\n      this._tooltip.isEnabled() && this._hideTooltip(this.pointAtShownTooltip);\n    } else {\n      this.clearHover();\n    }\n  },\n  _hoverArgument: function (argument, argumentIndex) {\n    var hoverMode = this._getArgumentHoverMode();\n\n    if (isDefined(argument)) {\n      this._releaseHoveredPoint();\n\n      this._hoveredArgument = argument;\n      this._argumentIndex = argumentIndex;\n\n      this._notifySeries({\n        action: \"pointHover\",\n        notifyLegend: this._notifyLegendOnHoverArgument,\n        target: {\n          argument: argument,\n          fullState: HOVER_STATE,\n          argumentIndex: argumentIndex,\n          getOptions: function () {\n            return {\n              hoverMode: hoverMode\n            };\n          }\n        }\n      });\n    }\n  },\n  _resetHoveredArgument: function () {\n    var hoverMode;\n\n    if (isDefined(this._hoveredArgument)) {\n      hoverMode = this._getArgumentHoverMode();\n\n      this._notifySeries({\n        action: \"clearPointHover\",\n        notifyLegend: this._notifyLegendOnHoverArgument,\n        target: {\n          fullState: NORMAL_STATE,\n          argumentIndex: this._argumentIndex,\n          argument: this._hoveredArgument,\n          getOptions: function () {\n            return {\n              hoverMode: hoverMode\n            };\n          }\n        }\n      });\n\n      this._hoveredArgument = null;\n    }\n  },\n  _notifySeries: function (data) {\n    this._storedSeries.forEach(function (series) {\n      series.notify(data);\n    });\n  },\n  _pointerHandler: function (e) {\n    var _series;\n\n    var that = e.data.tracker;\n\n    var rootOffset = that._renderer.getRootOffset();\n\n    var x = _floor(e.pageX - rootOffset.left);\n\n    var y = _floor(e.pageY - rootOffset.top);\n\n    var canvas = that._getCanvas(x, y);\n\n    var series = getData(e, SERIES_DATA);\n    var point = getData(e, POINT_DATA) || (null === (_series = series) || void 0 === _series ? void 0 : _series.getPointByCoord(x, y));\n    that._isHolding = false;\n    clearTimeout(that._holdTimer);\n\n    if (e.type === pointerEvents.down) {\n      that._holdTimer = setTimeout(() => that._isHolding = true, HOLD_TIMEOUT);\n    }\n\n    if (point && !point.getMarkerVisibility()) {\n      point = void 0;\n    }\n\n    that._enableOutHandler();\n\n    if (that._legend.coordsIn(x, y)) {\n      that._hoverLegendItem(x, y);\n\n      return;\n    }\n\n    if (that.hoveredSeries && that.hoveredSeries !== that._stuckSeries) {\n      that._releaseHoveredSeries();\n    }\n\n    if (that._hoverArgumentAxis(x, y, e)) {\n      return;\n    }\n\n    if (that._isPointerOut(canvas, point)) {\n      that._pointerOut();\n    }\n\n    if (!canvas && !point) {\n      return;\n    }\n\n    if (series && !point) {\n      point = series.getNeighborPoint(x, y);\n\n      if (!that._stickyHovering && point && !point.coordsIn(x, y)) {\n        point = null;\n      }\n\n      if (series !== that.hoveredSeries) {\n        that._setTimeout(function () {\n          that._setHoveredSeries(series);\n\n          that._setStuckSeries(e, series, x, y);\n\n          that._pointerComplete(point, x, y);\n        }, series);\n\n        return;\n      }\n    } else if (point) {\n      if (e.type !== pointerEvents.move && \"touch\" !== e.pointerType) {\n        return;\n      }\n\n      if (that.hoveredSeries) {\n        that._setTimeout(() => that._pointerOnPoint(point, x, y, e), point);\n      } else {\n        that._pointerOnPoint(point, x, y, e);\n      }\n\n      return;\n    } else if (that._setStuckSeries(e, void 0, x, y) && that._stickyHovering) {\n      var _point;\n\n      series = that._stuckSeries;\n      point = series.getNeighborPoint(x, y);\n\n      that._releaseHoveredSeries();\n\n      (null === (_point = point) || void 0 === _point ? void 0 : _point.getMarkerVisibility()) && that._setHoveredPoint(point);\n    } else if (!that._stickyHovering) {\n      that._pointerOut();\n    }\n\n    that._pointerComplete(point, x, y);\n  },\n  _pointerOnPoint: function (point, x, y) {\n    this._resetHoveredArgument();\n\n    this._setHoveredPoint(point);\n\n    this._pointerComplete(point, x, y);\n  },\n  _pointerComplete: function (point) {\n    this.pointAtShownTooltip !== point && this._tooltip.isEnabled() && this._showTooltip(point);\n  },\n  _clickHandler: function (e) {\n    var _point2;\n\n    var that = e.data.tracker;\n\n    if (that._isHolding) {\n      return;\n    }\n\n    var rootOffset = that._renderer.getRootOffset();\n\n    var x = _floor(e.pageX - rootOffset.left);\n\n    var y = _floor(e.pageY - rootOffset.top);\n\n    var point = getData(e, POINT_DATA);\n    var series = that._stuckSeries || getData(e, SERIES_DATA) || (null === (_point2 = point) || void 0 === _point2 ? void 0 : _point2.series);\n    var axis = that._argumentAxis;\n\n    if (that._legend.coordsIn(x, y)) {\n      var item = that._legend.getItemByCoord(x, y);\n\n      if (item) {\n        that._legendClick(item, e);\n      }\n    } else if (null !== axis && void 0 !== axis && axis.coordsIn(x, y)) {\n      var argument = getData(e, ARG_DATA, true);\n\n      if (isDefined(argument)) {\n        that._eventTrigger(\"argumentAxisClick\", {\n          argument: argument,\n          event: e\n        });\n      }\n    } else if (series) {\n      var _point3;\n\n      point = point || series.getPointByCoord(x, y);\n\n      if (null !== (_point3 = point) && void 0 !== _point3 && _point3.getMarkerVisibility()) {\n        that._pointClick(point, e);\n      } else {\n        getData(e, SERIES_DATA) && that._eventTrigger(SERIES_CLICK, {\n          target: series,\n          event: e\n        });\n      }\n    }\n  },\n  dispose: function () {\n    this._disableOutHandler();\n\n    this._renderer.root.off(DOT_EVENT_NS);\n\n    this._seriesGroup.off(DOT_EVENT_NS);\n  }\n};\nexport var ChartTracker = function (options) {\n  this.ctor(options);\n};\nextend(ChartTracker.prototype, baseTrackerPrototype, {\n  _pointClick: function (point, event) {\n    var eventTrigger = this._eventTrigger;\n    var series = point.series;\n    var eventArgs = {\n      target: point,\n      event: event\n    };\n    eventTrigger(POINT_CLICK, eventArgs, function () {\n      !eventCanceled(eventArgs, series, \"Point\") && eventTrigger(SERIES_CLICK, {\n        target: series,\n        event: event\n      });\n    });\n  },\n  update: function (options) {\n    baseTrackerPrototype.update.call(this, options);\n    this._argumentAxis = options.argumentAxis || {};\n    this._axisHoverEnabled = this._argumentAxis && _normalizeEnum(this._argumentAxis.getOptions().hoverMode) === ALL_ARGUMENT_POINTS_MODE;\n    this._rotated = options.rotated;\n    this._crosshair = options.crosshair;\n    this._stickyHovering = options.stickyHovering;\n  },\n  _getCanvas: function (x, y) {\n    var canvases = this._canvases || [];\n\n    for (var i = 0; i < canvases.length; i++) {\n      var c = canvases[i];\n\n      if (inCanvas(c, x, y)) {\n        return c;\n      }\n    }\n\n    return null;\n  },\n  _isPointerOut: function (canvas) {\n    return !canvas && this._stuckSeries;\n  },\n  _hideCrosshair: function () {\n    var _this$_crosshair;\n\n    null === (_this$_crosshair = this._crosshair) || void 0 === _this$_crosshair ? void 0 : _this$_crosshair.hide();\n  },\n  _moveCrosshair: function (point, x, y) {\n    if (this._crosshair && null !== point && void 0 !== point && point.isVisible()) {\n      this._crosshair.show({\n        point: point,\n        x: x,\n        y: y\n      });\n    }\n  },\n  _clean: function () {\n    baseTrackerPrototype._clean.call(this);\n\n    this._resetTimer();\n\n    this._stuckSeries = null;\n  },\n  _getSeriesForShared: function (x, y) {\n    var _point4;\n\n    var points = [];\n    var point = null;\n    var distance = 1 / 0;\n\n    if (this._tooltip.isShared() && !this.hoveredSeries) {\n      _each(this._storedSeries, function (_, series) {\n        var point = series.getNeighborPoint(x, y);\n        point && points.push(point);\n      });\n\n      _each(points, function (_, p) {\n        var coords = p.getCrosshairData(x, y);\n        var d = getDistance(x, y, coords.x, coords.y);\n\n        if (d < distance) {\n          point = p;\n          distance = d;\n        }\n      });\n    }\n\n    return null === (_point4 = point) || void 0 === _point4 ? void 0 : _point4.series;\n  },\n  _setTimeout: function (callback, keeper) {\n    var that = this;\n\n    if (that._timeoutKeeper !== keeper) {\n      that._resetTimer();\n\n      that._hoverTimeout = setTimeout(function () {\n        callback();\n        that._timeoutKeeper = null;\n      }, DELAY);\n      that._timeoutKeeper = keeper;\n    }\n  },\n  _resetTimer: function () {\n    clearTimeout(this._hoverTimeout);\n    this._timeoutKeeper = this._hoverTimeout = null;\n  },\n  _stopEvent: function (e) {\n    if (!isDefined(e.cancelable) || e.cancelable) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  },\n  _setStuckSeries: function (e, series, x, y) {\n    if (\"mouse\" !== e.pointerType) {\n      this._stuckSeries = null;\n    } else {\n      this._stuckSeries = series || this._stuckSeries || this._getSeriesForShared(x, y);\n    }\n\n    return !!this._stuckSeries;\n  },\n  _pointerOut: function () {\n    var that = this;\n    that._stuckSeries = null;\n\n    that._hideCrosshair();\n\n    that._resetTimer();\n\n    baseTrackerPrototype._pointerOut.apply(that, arguments);\n  },\n  _hoverArgumentAxis: function (x, y, e) {\n    this._resetHoveredArgument();\n\n    if (this._axisHoverEnabled && this._argumentAxis.coordsIn(x, y)) {\n      this._hoverArgument(getData(e, ARG_DATA, true));\n\n      return true;\n    }\n  },\n  _pointerComplete: function (point, x, y) {\n    this.hoveredSeries && this.hoveredSeries.updateHover(x, y);\n\n    this._resetTimer();\n\n    this._moveCrosshair(point, x, y);\n\n    baseTrackerPrototype._pointerComplete.call(this, point);\n  },\n  _legendClick: function (item, e) {\n    var series = this._storedSeries[item.id];\n\n    this._triggerLegendClick({\n      target: series,\n      event: e\n    }, SERIES_CLICK);\n  },\n  _hoverLegendItem: function (x, y) {\n    this._stuckSeries = null;\n\n    this._hideCrosshair();\n\n    baseTrackerPrototype._hoverLegendItem.call(this, x, y);\n  },\n  _pointerOnPoint: function (point, x, y, e) {\n    this._setStuckSeries(e, point.series, x, y);\n\n    this._releaseHoveredSeries();\n\n    baseTrackerPrototype._pointerOnPoint.call(this, point, x, y, e);\n  },\n  _notifyLegendOnHoverArgument: false,\n  _getArgumentHoverMode: function () {\n    return correctHoverMode(this._argumentAxis);\n  },\n  dispose: function () {\n    this._resetTimer();\n\n    baseTrackerPrototype.dispose.call(this);\n  }\n});\nexport var PieTracker = function (options) {\n  this.ctor(options);\n};\nextend(PieTracker.prototype, baseTrackerPrototype, {\n  _isPointerOut: function (_, point) {\n    return !point;\n  },\n  _legendClick: function (item, e) {\n    var points = [];\n\n    this._storedSeries.forEach(s => points.push.apply(points, s.getPointsByKeys(item.argument, item.argumentIndex)));\n\n    this._eventTrigger(LEGEND_CLICK, {\n      target: item.argument,\n      points: points,\n      event: e\n    });\n  },\n  _pointClick: function (point, e) {\n    this._eventTrigger(POINT_CLICK, {\n      target: point,\n      event: e\n    });\n  },\n  _hoverLegendItem: function (x, y) {\n    var item = this._legend.getItemByCoord(x, y);\n\n    if (item && this._hoveredArgument !== item.argument) {\n      this._resetHoveredArgument();\n\n      this._hoverArgument(item.argument, item.argumentIndex);\n    } else if (!item) {\n      this.clearHover();\n    }\n  },\n  _getArgumentHoverMode: function () {\n    return correctHoverMode(this._legend);\n  },\n  _hoverArgumentAxis: _noop,\n  _setStuckSeries: _noop,\n  _getCanvas: _noop,\n  _notifyLegendOnHoverArgument: true\n});","map":{"version":3,"names":["domAdapter","eventsEngine","name","clickEventName","extend","each","_each","consts","getDistance","pointInCanvas","inCanvas","normalizeEnum","_normalizeEnum","pointerEvents","addNamespace","isDefined","noop","_noop","errors","_floor","Math","floor","eventsConsts","events","statesConsts","states","HOVER_STATE","hoverMark","NORMAL_STATE","normalMark","EVENT_NS","DOT_EVENT_NS","POINTER_ACTION","down","move","LEGEND_CLICK","SERIES_CLICK","POINT_CLICK","POINT_DATA","SERIES_DATA","ARG_DATA","DELAY","HOLD_TIMEOUT","NONE_MODE","ALL_ARGUMENT_POINTS_MODE","INCLUDE_POINTS_MODE","EXLUDE_POINTS_MODE","LEGEND_HOVER_MODES","getData","event","dataKey","tryCheckParent","target","tagName","parentNode","data","getParentData","node","eventCanceled","_ref","clickTarget","cancel","deprecatedCancel","log","concat","getOptions","correctLegendHoverMode","mode","indexOf","correctHoverMode","hoverMode","baseTrackerPrototype","ctor","options","that","tracker","_renderer","renderer","_legend","legend","_tooltip","tooltip","_eventTrigger","eventTrigger","_seriesGroup","seriesGroup","off","on","showPointTooltip","_showPointTooltip","hidePointTooltip","_hidePointTooltip","root","_pointerHandler","up","clearTimeout","_holdTimer","_clickHandler","update","_chart","chart","updateSeries","series","resetDecorations","noHoveredSeries","some","s","hoveredSeries","_hoveredPoint","_storedSeries","_clean","initHatching","clearSelection","_hideTooltip","pointAtShownTooltip","clearHover","setCanvases","mainCanvas","paneCanvases","_mainCanvas","_canvases","repairTooltip","point","isVisible","_showTooltip","_setHoveredPoint","_releaseHoveredPoint","hover","isPointerOut","isEnabled","_setHoveredSeries","_releaseHoveredSeries","forEach","getPoints","hoveredPoint","_hoveredArgumentPoints","_resetHoveredArgument","silent","hide","tooltipFormatObject","eventData","getTooltipFormatObject","isShared","getStackedPoints","valueText","points","coords","getTooltipParams","getLocation","rootOffset","getRootOffset","x","left","y","top","callback","result","show","pointWithTooltip","_enableOutHandler","_outHandler","handler","e","pageX","pageY","_isCursorOnTooltip","_pointerOut","_disableOutHandler","getDocument","isCursorOnTooltip","stopCurrentHandling","force","_triggerLegendClick","eventArgs","elementClick","_hoverLegendItem","item","getItemByCoord","legendHoverMode","id","isHovered","lastHoverMode","_hoverArgument","argument","argumentIndex","_getArgumentHoverMode","_hoveredArgument","_argumentIndex","_notifySeries","action","notifyLegend","_notifyLegendOnHoverArgument","fullState","notify","_series","canvas","_getCanvas","getPointByCoord","_isHolding","type","setTimeout","getMarkerVisibility","coordsIn","_stuckSeries","_hoverArgumentAxis","_isPointerOut","getNeighborPoint","_stickyHovering","_setTimeout","_setStuckSeries","_pointerComplete","pointerType","_pointerOnPoint","_point","_point2","axis","_argumentAxis","_legendClick","_point3","_pointClick","dispose","ChartTracker","prototype","call","argumentAxis","_axisHoverEnabled","_rotated","rotated","_crosshair","crosshair","stickyHovering","canvases","i","length","c","_hideCrosshair","_this$_crosshair","_moveCrosshair","_resetTimer","_getSeriesForShared","_point4","distance","_","push","p","getCrosshairData","d","keeper","_timeoutKeeper","_hoverTimeout","_stopEvent","cancelable","preventDefault","stopPropagation","apply","arguments","updateHover","PieTracker","getPointsByKeys"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/chart_components/tracker.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/chart_components/tracker.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each as _each\r\n} from \"../../core/utils/iterator\";\r\nimport consts from \"../components/consts\";\r\nimport {\r\n    getDistance,\r\n    pointInCanvas as inCanvas,\r\n    normalizeEnum as _normalizeEnum\r\n} from \"../core/utils\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    noop as _noop\r\n} from \"../../core/utils/common\";\r\nimport errors from \"../../core/errors\";\r\nvar _floor = Math.floor;\r\nvar eventsConsts = consts.events;\r\nvar statesConsts = consts.states;\r\nvar HOVER_STATE = statesConsts.hoverMark;\r\nvar NORMAL_STATE = statesConsts.normalMark;\r\nvar EVENT_NS = \"dxChartTracker\";\r\nvar DOT_EVENT_NS = \".\" + EVENT_NS;\r\nvar POINTER_ACTION = addNamespace([pointerEvents.down, pointerEvents.move], EVENT_NS);\r\nvar LEGEND_CLICK = \"legendClick\";\r\nvar SERIES_CLICK = \"seriesClick\";\r\nvar POINT_CLICK = \"pointClick\";\r\nvar POINT_DATA = \"chart-data-point\";\r\nvar SERIES_DATA = \"chart-data-series\";\r\nvar ARG_DATA = \"chart-data-argument\";\r\nvar DELAY = 100;\r\nvar HOLD_TIMEOUT = 300;\r\nvar NONE_MODE = \"none\";\r\nvar ALL_ARGUMENT_POINTS_MODE = \"allargumentpoints\";\r\nvar INCLUDE_POINTS_MODE = \"includepoints\";\r\nvar EXLUDE_POINTS_MODE = \"excludepoints\";\r\nvar LEGEND_HOVER_MODES = [INCLUDE_POINTS_MODE, EXLUDE_POINTS_MODE, NONE_MODE];\r\n\r\nfunction getData(event, dataKey, tryCheckParent) {\r\n    var target = event.target;\r\n    if (\"tspan\" === target.tagName) {\r\n        return target.parentNode[dataKey]\r\n    }\r\n    var data = target[dataKey];\r\n    if (tryCheckParent && !isDefined(data)) {\r\n        return function getParentData(node) {\r\n            if (node.parentNode) {\r\n                if (isDefined(node.parentNode[dataKey])) {\r\n                    return node.parentNode[dataKey]\r\n                } else {\r\n                    return getParentData(node.parentNode)\r\n                }\r\n            }\r\n            return\r\n        }(target)\r\n    }\r\n    return data\r\n}\r\n\r\nfunction eventCanceled(_ref, target, clickTarget) {\r\n    var {\r\n        event: event,\r\n        cancel: cancel\r\n    } = _ref;\r\n    var deprecatedCancel = event.cancel;\r\n    var eventCanceled = cancel || deprecatedCancel;\r\n    if (deprecatedCancel) {\r\n        errors.log(\"W0003\", \"\".concat(clickTarget, \"Ckick handler argument\"), \"event.cancel\", \"22.1\", \"Use the 'cancel' field instead\")\r\n    }\r\n    return eventCanceled || !target.getOptions()\r\n}\r\n\r\nfunction correctLegendHoverMode(mode) {\r\n    if (LEGEND_HOVER_MODES.indexOf(mode) > -1) {\r\n        return mode\r\n    } else {\r\n        return INCLUDE_POINTS_MODE\r\n    }\r\n}\r\n\r\nfunction correctHoverMode(target) {\r\n    var mode = target.getOptions().hoverMode;\r\n    return mode === NONE_MODE ? mode : ALL_ARGUMENT_POINTS_MODE\r\n}\r\nvar baseTrackerPrototype = {\r\n    ctor: function(options) {\r\n        var that = this;\r\n        var data = {\r\n            tracker: that\r\n        };\r\n        that._renderer = options.renderer;\r\n        that._legend = options.legend;\r\n        that._tooltip = options.tooltip;\r\n        that._eventTrigger = options.eventTrigger;\r\n        that._seriesGroup = options.seriesGroup;\r\n        options.seriesGroup.off(DOT_EVENT_NS).on(addNamespace(eventsConsts.showPointTooltip, EVENT_NS), data, that._showPointTooltip).on(addNamespace(eventsConsts.hidePointTooltip, EVENT_NS), data, that._hidePointTooltip);\r\n        that._renderer.root.off(DOT_EVENT_NS).on(POINTER_ACTION, data, that._pointerHandler).on(addNamespace(pointerEvents.up, EVENT_NS), () => clearTimeout(that._holdTimer)).on(addNamespace(clickEventName, EVENT_NS), data, that._clickHandler)\r\n    },\r\n    update: function(options) {\r\n        this._chart = options.chart\r\n    },\r\n    updateSeries(series, resetDecorations) {\r\n        var that = this;\r\n        var noHoveredSeries = !(null !== series && void 0 !== series && series.some(s => s === that.hoveredSeries) || that._hoveredPoint && that._hoveredPoint.series);\r\n        if (that._storedSeries !== series) {\r\n            that._storedSeries = series || []\r\n        }\r\n        if (noHoveredSeries) {\r\n            that._clean();\r\n            that._renderer.initHatching()\r\n        }\r\n        if (resetDecorations) {\r\n            that.clearSelection();\r\n            if (!noHoveredSeries) {\r\n                that._hideTooltip(that.pointAtShownTooltip);\r\n                that.clearHover()\r\n            }\r\n        }\r\n    },\r\n    setCanvases: function(mainCanvas, paneCanvases) {\r\n        this._mainCanvas = mainCanvas;\r\n        this._canvases = paneCanvases\r\n    },\r\n    repairTooltip: function() {\r\n        var point = this.pointAtShownTooltip;\r\n        if (!point || !point.series || !point.isVisible()) {\r\n            this._hideTooltip(point, true)\r\n        } else {\r\n            this._showTooltip(point)\r\n        }\r\n    },\r\n    _setHoveredPoint: function(point) {\r\n        if (point === this._hoveredPoint) {\r\n            return\r\n        }\r\n        this._releaseHoveredPoint();\r\n        point.hover();\r\n        this._hoveredPoint = point\r\n    },\r\n    _releaseHoveredPoint: function(isPointerOut) {\r\n        if (this._hoveredPoint && this._hoveredPoint.getOptions()) {\r\n            this._hoveredPoint.clearHover();\r\n            this._hoveredPoint = null;\r\n            if (this._tooltip.isEnabled()) {\r\n                this._hideTooltip(this._hoveredPoint, false, isPointerOut)\r\n            }\r\n        }\r\n    },\r\n    _setHoveredSeries: function(series, mode) {\r\n        this._releaseHoveredSeries();\r\n        this._releaseHoveredPoint();\r\n        series.hover(mode);\r\n        this.hoveredSeries = series\r\n    },\r\n    _releaseHoveredSeries() {\r\n        if (this.hoveredSeries) {\r\n            this.hoveredSeries.clearHover();\r\n            this.hoveredSeries = null\r\n        }\r\n    },\r\n    clearSelection() {\r\n        this._storedSeries.forEach(series => {\r\n            if (series) {\r\n                series.clearSelection();\r\n                series.getPoints().forEach(point => point.clearSelection())\r\n            }\r\n        })\r\n    },\r\n    _clean: function() {\r\n        this.hoveredPoint = this.hoveredSeries = this._hoveredArgumentPoints = null;\r\n        this._hideTooltip(this.pointAtShownTooltip)\r\n    },\r\n    clearHover: function(isPointerOut) {\r\n        this._resetHoveredArgument();\r\n        this._releaseHoveredSeries();\r\n        this._releaseHoveredPoint(isPointerOut)\r\n    },\r\n    _hideTooltip: function(point, silent, isPointerOut) {\r\n        if (!this._tooltip || point && this.pointAtShownTooltip !== point) {\r\n            return\r\n        }\r\n        if (!silent && this.pointAtShownTooltip) {\r\n            this.pointAtShownTooltip = null\r\n        }\r\n        this._tooltip.hide(!!isPointerOut)\r\n    },\r\n    _showTooltip: function(point) {\r\n        var that = this;\r\n        var tooltipFormatObject;\r\n        var eventData = {\r\n            target: point\r\n        };\r\n        if (null !== point && void 0 !== point && point.getOptions()) {\r\n            tooltipFormatObject = point.getTooltipFormatObject(that._tooltip, that._tooltip.isShared() && that._chart.getStackedPoints(point));\r\n            if (!isDefined(tooltipFormatObject.valueText) && !tooltipFormatObject.points || !point.isVisible()) {\r\n                return\r\n            }\r\n            var coords = point.getTooltipParams(that._tooltip.getLocation());\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            coords.x += rootOffset.left;\r\n            coords.y += rootOffset.top;\r\n            var callback = result => {\r\n                result && (that.pointAtShownTooltip = point)\r\n            };\r\n            callback(that._tooltip.show(tooltipFormatObject, coords, eventData, void 0, callback))\r\n        }\r\n    },\r\n    _showPointTooltip: function(event, point) {\r\n        var that = event.data.tracker;\r\n        var pointWithTooltip = that.pointAtShownTooltip;\r\n        if (pointWithTooltip && pointWithTooltip !== point) {\r\n            that._hideTooltip(pointWithTooltip)\r\n        }\r\n        that._showTooltip(point)\r\n    },\r\n    _hidePointTooltip: function(event, point) {\r\n        event.data.tracker._hideTooltip(point, false, true)\r\n    },\r\n    _enableOutHandler: function() {\r\n        if (this._outHandler) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var handler = function(e) {\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            var x = _floor(e.pageX - rootOffset.left);\r\n            var y = _floor(e.pageY - rootOffset.top);\r\n            if (!inCanvas(that._mainCanvas, x, y) && !that._isCursorOnTooltip(e)) {\r\n                that._pointerOut();\r\n                that._disableOutHandler()\r\n            }\r\n        };\r\n        eventsEngine.on(domAdapter.getDocument(), POINTER_ACTION, handler);\r\n        this._outHandler = handler\r\n    },\r\n    _isCursorOnTooltip: function(e) {\r\n        return this._tooltip.isEnabled() && this._tooltip.isCursorOnTooltip(e.pageX, e.pageY)\r\n    },\r\n    _disableOutHandler: function() {\r\n        this._outHandler && eventsEngine.off(domAdapter.getDocument(), POINTER_ACTION, this._outHandler);\r\n        this._outHandler = null\r\n    },\r\n    stopCurrentHandling: function() {\r\n        this._pointerOut(true)\r\n    },\r\n    _pointerOut: function(force) {\r\n        this.clearHover(true);\r\n        (force || this._tooltip.isEnabled()) && this._hideTooltip(this.pointAtShownTooltip, false, true)\r\n    },\r\n    _triggerLegendClick: function(eventArgs, elementClick) {\r\n        var eventTrigger = this._eventTrigger;\r\n        eventTrigger(LEGEND_CLICK, eventArgs, (function() {\r\n            !eventCanceled(eventArgs, eventArgs.target, \"Legend\") && eventTrigger(elementClick, eventArgs)\r\n        }))\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        var item = this._legend.getItemByCoord(x, y);\r\n        var series;\r\n        var legendHoverMode = correctLegendHoverMode(this._legend.getOptions().hoverMode);\r\n        if (item) {\r\n            series = this._storedSeries[item.id];\r\n            if (!series.isHovered() || series.lastHoverMode !== legendHoverMode) {\r\n                this._setHoveredSeries(series, legendHoverMode)\r\n            }\r\n            this._tooltip.isEnabled() && this._hideTooltip(this.pointAtShownTooltip)\r\n        } else {\r\n            this.clearHover()\r\n        }\r\n    },\r\n    _hoverArgument: function(argument, argumentIndex) {\r\n        var hoverMode = this._getArgumentHoverMode();\r\n        if (isDefined(argument)) {\r\n            this._releaseHoveredPoint();\r\n            this._hoveredArgument = argument;\r\n            this._argumentIndex = argumentIndex;\r\n            this._notifySeries({\r\n                action: \"pointHover\",\r\n                notifyLegend: this._notifyLegendOnHoverArgument,\r\n                target: {\r\n                    argument: argument,\r\n                    fullState: HOVER_STATE,\r\n                    argumentIndex: argumentIndex,\r\n                    getOptions: function() {\r\n                        return {\r\n                            hoverMode: hoverMode\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _resetHoveredArgument: function() {\r\n        var hoverMode;\r\n        if (isDefined(this._hoveredArgument)) {\r\n            hoverMode = this._getArgumentHoverMode();\r\n            this._notifySeries({\r\n                action: \"clearPointHover\",\r\n                notifyLegend: this._notifyLegendOnHoverArgument,\r\n                target: {\r\n                    fullState: NORMAL_STATE,\r\n                    argumentIndex: this._argumentIndex,\r\n                    argument: this._hoveredArgument,\r\n                    getOptions: function() {\r\n                        return {\r\n                            hoverMode: hoverMode\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this._hoveredArgument = null\r\n        }\r\n    },\r\n    _notifySeries: function(data) {\r\n        this._storedSeries.forEach((function(series) {\r\n            series.notify(data)\r\n        }))\r\n    },\r\n    _pointerHandler: function(e) {\r\n        var _series;\r\n        var that = e.data.tracker;\r\n        var rootOffset = that._renderer.getRootOffset();\r\n        var x = _floor(e.pageX - rootOffset.left);\r\n        var y = _floor(e.pageY - rootOffset.top);\r\n        var canvas = that._getCanvas(x, y);\r\n        var series = getData(e, SERIES_DATA);\r\n        var point = getData(e, POINT_DATA) || (null === (_series = series) || void 0 === _series ? void 0 : _series.getPointByCoord(x, y));\r\n        that._isHolding = false;\r\n        clearTimeout(that._holdTimer);\r\n        if (e.type === pointerEvents.down) {\r\n            that._holdTimer = setTimeout(() => that._isHolding = true, HOLD_TIMEOUT)\r\n        }\r\n        if (point && !point.getMarkerVisibility()) {\r\n            point = void 0\r\n        }\r\n        that._enableOutHandler();\r\n        if (that._legend.coordsIn(x, y)) {\r\n            that._hoverLegendItem(x, y);\r\n            return\r\n        }\r\n        if (that.hoveredSeries && that.hoveredSeries !== that._stuckSeries) {\r\n            that._releaseHoveredSeries()\r\n        }\r\n        if (that._hoverArgumentAxis(x, y, e)) {\r\n            return\r\n        }\r\n        if (that._isPointerOut(canvas, point)) {\r\n            that._pointerOut()\r\n        }\r\n        if (!canvas && !point) {\r\n            return\r\n        }\r\n        if (series && !point) {\r\n            point = series.getNeighborPoint(x, y);\r\n            if (!that._stickyHovering && point && !point.coordsIn(x, y)) {\r\n                point = null\r\n            }\r\n            if (series !== that.hoveredSeries) {\r\n                that._setTimeout((function() {\r\n                    that._setHoveredSeries(series);\r\n                    that._setStuckSeries(e, series, x, y);\r\n                    that._pointerComplete(point, x, y)\r\n                }), series);\r\n                return\r\n            }\r\n        } else if (point) {\r\n            if (e.type !== pointerEvents.move && \"touch\" !== e.pointerType) {\r\n                return\r\n            }\r\n            if (that.hoveredSeries) {\r\n                that._setTimeout(() => that._pointerOnPoint(point, x, y, e), point)\r\n            } else {\r\n                that._pointerOnPoint(point, x, y, e)\r\n            }\r\n            return\r\n        } else if (that._setStuckSeries(e, void 0, x, y) && that._stickyHovering) {\r\n            var _point;\r\n            series = that._stuckSeries;\r\n            point = series.getNeighborPoint(x, y);\r\n            that._releaseHoveredSeries();\r\n            (null === (_point = point) || void 0 === _point ? void 0 : _point.getMarkerVisibility()) && that._setHoveredPoint(point)\r\n        } else if (!that._stickyHovering) {\r\n            that._pointerOut()\r\n        }\r\n        that._pointerComplete(point, x, y)\r\n    },\r\n    _pointerOnPoint: function(point, x, y) {\r\n        this._resetHoveredArgument();\r\n        this._setHoveredPoint(point);\r\n        this._pointerComplete(point, x, y)\r\n    },\r\n    _pointerComplete: function(point) {\r\n        this.pointAtShownTooltip !== point && this._tooltip.isEnabled() && this._showTooltip(point)\r\n    },\r\n    _clickHandler: function(e) {\r\n        var _point2;\r\n        var that = e.data.tracker;\r\n        if (that._isHolding) {\r\n            return\r\n        }\r\n        var rootOffset = that._renderer.getRootOffset();\r\n        var x = _floor(e.pageX - rootOffset.left);\r\n        var y = _floor(e.pageY - rootOffset.top);\r\n        var point = getData(e, POINT_DATA);\r\n        var series = that._stuckSeries || getData(e, SERIES_DATA) || (null === (_point2 = point) || void 0 === _point2 ? void 0 : _point2.series);\r\n        var axis = that._argumentAxis;\r\n        if (that._legend.coordsIn(x, y)) {\r\n            var item = that._legend.getItemByCoord(x, y);\r\n            if (item) {\r\n                that._legendClick(item, e)\r\n            }\r\n        } else if (null !== axis && void 0 !== axis && axis.coordsIn(x, y)) {\r\n            var argument = getData(e, ARG_DATA, true);\r\n            if (isDefined(argument)) {\r\n                that._eventTrigger(\"argumentAxisClick\", {\r\n                    argument: argument,\r\n                    event: e\r\n                })\r\n            }\r\n        } else if (series) {\r\n            var _point3;\r\n            point = point || series.getPointByCoord(x, y);\r\n            if (null !== (_point3 = point) && void 0 !== _point3 && _point3.getMarkerVisibility()) {\r\n                that._pointClick(point, e)\r\n            } else {\r\n                getData(e, SERIES_DATA) && that._eventTrigger(SERIES_CLICK, {\r\n                    target: series,\r\n                    event: e\r\n                })\r\n            }\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._disableOutHandler();\r\n        this._renderer.root.off(DOT_EVENT_NS);\r\n        this._seriesGroup.off(DOT_EVENT_NS)\r\n    }\r\n};\r\nexport var ChartTracker = function(options) {\r\n    this.ctor(options)\r\n};\r\nextend(ChartTracker.prototype, baseTrackerPrototype, {\r\n    _pointClick: function(point, event) {\r\n        var eventTrigger = this._eventTrigger;\r\n        var series = point.series;\r\n        var eventArgs = {\r\n            target: point,\r\n            event: event\r\n        };\r\n        eventTrigger(POINT_CLICK, eventArgs, (function() {\r\n            !eventCanceled(eventArgs, series, \"Point\") && eventTrigger(SERIES_CLICK, {\r\n                target: series,\r\n                event: event\r\n            })\r\n        }))\r\n    },\r\n    update: function(options) {\r\n        baseTrackerPrototype.update.call(this, options);\r\n        this._argumentAxis = options.argumentAxis || {};\r\n        this._axisHoverEnabled = this._argumentAxis && _normalizeEnum(this._argumentAxis.getOptions().hoverMode) === ALL_ARGUMENT_POINTS_MODE;\r\n        this._rotated = options.rotated;\r\n        this._crosshair = options.crosshair;\r\n        this._stickyHovering = options.stickyHovering\r\n    },\r\n    _getCanvas: function(x, y) {\r\n        var canvases = this._canvases || [];\r\n        for (var i = 0; i < canvases.length; i++) {\r\n            var c = canvases[i];\r\n            if (inCanvas(c, x, y)) {\r\n                return c\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    _isPointerOut: function(canvas) {\r\n        return !canvas && this._stuckSeries\r\n    },\r\n    _hideCrosshair: function() {\r\n        var _this$_crosshair;\r\n        null === (_this$_crosshair = this._crosshair) || void 0 === _this$_crosshair ? void 0 : _this$_crosshair.hide()\r\n    },\r\n    _moveCrosshair: function(point, x, y) {\r\n        if (this._crosshair && null !== point && void 0 !== point && point.isVisible()) {\r\n            this._crosshair.show({\r\n                point: point,\r\n                x: x,\r\n                y: y\r\n            })\r\n        }\r\n    },\r\n    _clean: function() {\r\n        baseTrackerPrototype._clean.call(this);\r\n        this._resetTimer();\r\n        this._stuckSeries = null\r\n    },\r\n    _getSeriesForShared: function(x, y) {\r\n        var _point4;\r\n        var points = [];\r\n        var point = null;\r\n        var distance = 1 / 0;\r\n        if (this._tooltip.isShared() && !this.hoveredSeries) {\r\n            _each(this._storedSeries, (function(_, series) {\r\n                var point = series.getNeighborPoint(x, y);\r\n                point && points.push(point)\r\n            }));\r\n            _each(points, (function(_, p) {\r\n                var coords = p.getCrosshairData(x, y);\r\n                var d = getDistance(x, y, coords.x, coords.y);\r\n                if (d < distance) {\r\n                    point = p;\r\n                    distance = d\r\n                }\r\n            }))\r\n        }\r\n        return null === (_point4 = point) || void 0 === _point4 ? void 0 : _point4.series\r\n    },\r\n    _setTimeout: function(callback, keeper) {\r\n        var that = this;\r\n        if (that._timeoutKeeper !== keeper) {\r\n            that._resetTimer();\r\n            that._hoverTimeout = setTimeout((function() {\r\n                callback();\r\n                that._timeoutKeeper = null\r\n            }), DELAY);\r\n            that._timeoutKeeper = keeper\r\n        }\r\n    },\r\n    _resetTimer: function() {\r\n        clearTimeout(this._hoverTimeout);\r\n        this._timeoutKeeper = this._hoverTimeout = null\r\n    },\r\n    _stopEvent: function(e) {\r\n        if (!isDefined(e.cancelable) || e.cancelable) {\r\n            e.preventDefault();\r\n            e.stopPropagation()\r\n        }\r\n    },\r\n    _setStuckSeries: function(e, series, x, y) {\r\n        if (\"mouse\" !== e.pointerType) {\r\n            this._stuckSeries = null\r\n        } else {\r\n            this._stuckSeries = series || this._stuckSeries || this._getSeriesForShared(x, y)\r\n        }\r\n        return !!this._stuckSeries\r\n    },\r\n    _pointerOut: function() {\r\n        var that = this;\r\n        that._stuckSeries = null;\r\n        that._hideCrosshair();\r\n        that._resetTimer();\r\n        baseTrackerPrototype._pointerOut.apply(that, arguments)\r\n    },\r\n    _hoverArgumentAxis: function(x, y, e) {\r\n        this._resetHoveredArgument();\r\n        if (this._axisHoverEnabled && this._argumentAxis.coordsIn(x, y)) {\r\n            this._hoverArgument(getData(e, ARG_DATA, true));\r\n            return true\r\n        }\r\n    },\r\n    _pointerComplete: function(point, x, y) {\r\n        this.hoveredSeries && this.hoveredSeries.updateHover(x, y);\r\n        this._resetTimer();\r\n        this._moveCrosshair(point, x, y);\r\n        baseTrackerPrototype._pointerComplete.call(this, point)\r\n    },\r\n    _legendClick: function(item, e) {\r\n        var series = this._storedSeries[item.id];\r\n        this._triggerLegendClick({\r\n            target: series,\r\n            event: e\r\n        }, SERIES_CLICK)\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        this._stuckSeries = null;\r\n        this._hideCrosshair();\r\n        baseTrackerPrototype._hoverLegendItem.call(this, x, y)\r\n    },\r\n    _pointerOnPoint: function(point, x, y, e) {\r\n        this._setStuckSeries(e, point.series, x, y);\r\n        this._releaseHoveredSeries();\r\n        baseTrackerPrototype._pointerOnPoint.call(this, point, x, y, e)\r\n    },\r\n    _notifyLegendOnHoverArgument: false,\r\n    _getArgumentHoverMode: function() {\r\n        return correctHoverMode(this._argumentAxis)\r\n    },\r\n    dispose: function() {\r\n        this._resetTimer();\r\n        baseTrackerPrototype.dispose.call(this)\r\n    }\r\n});\r\nexport var PieTracker = function(options) {\r\n    this.ctor(options)\r\n};\r\nextend(PieTracker.prototype, baseTrackerPrototype, {\r\n    _isPointerOut: function(_, point) {\r\n        return !point\r\n    },\r\n    _legendClick: function(item, e) {\r\n        var points = [];\r\n        this._storedSeries.forEach(s => points.push.apply(points, s.getPointsByKeys(item.argument, item.argumentIndex)));\r\n        this._eventTrigger(LEGEND_CLICK, {\r\n            target: item.argument,\r\n            points: points,\r\n            event: e\r\n        })\r\n    },\r\n    _pointClick: function(point, e) {\r\n        this._eventTrigger(POINT_CLICK, {\r\n            target: point,\r\n            event: e\r\n        })\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        var item = this._legend.getItemByCoord(x, y);\r\n        if (item && this._hoveredArgument !== item.argument) {\r\n            this._resetHoveredArgument();\r\n            this._hoverArgument(item.argument, item.argumentIndex)\r\n        } else if (!item) {\r\n            this.clearHover()\r\n        }\r\n    },\r\n    _getArgumentHoverMode: function() {\r\n        return correctHoverMode(this._legend)\r\n    },\r\n    _hoverArgumentAxis: _noop,\r\n    _setStuckSeries: _noop,\r\n    _getCanvas: _noop,\r\n    _notifyLegendOnHoverArgument: true\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/file_management/remote_provider.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../core/renderer\";\nimport ajax from \"../core/utils/ajax\";\nimport { ensureDefined, noop } from \"../core/utils/common\";\nimport Guid from \"../core/guid\";\nimport { getWindow } from \"../core/utils/window\";\nimport { each } from \"../core/utils/iterator\";\nimport { Deferred } from \"../core/utils/deferred\";\nimport eventsEngine from \"../events/core/events_engine\";\nimport FileSystemProviderBase from \"./provider_base\";\nimport { compileGetter } from \"../core/utils/data\";\nimport { isDefined, isEmptyObject, isFunction } from \"../core/utils/type\";\nvar window = getWindow();\nvar FILE_CHUNK_BLOB_NAME = \"chunk\";\nvar FILE_SYSTEM_COMMNAD = {\n  GET_DIR_CONTENTS: \"GetDirContents\",\n  CREATE_DIR: \"CreateDir\",\n  RENAME: \"Rename\",\n  MOVE: \"Move\",\n  COPY: \"Copy\",\n  REMOVE: \"Remove\",\n  UPLOAD_CHUNK: \"UploadChunk\",\n  ABORT_UPLOAD: \"AbortUpload\",\n  DOWLOAD: \"Download\"\n};\nvar REQUEST_METHOD = {\n  GET: \"GET\",\n  POST: \"POST\"\n};\n\nclass RemoteFileSystemProvider extends FileSystemProviderBase {\n  constructor(options) {\n    options = ensureDefined(options, {});\n    super(options);\n    this._endpointUrl = options.endpointUrl;\n    this._beforeAjaxSend = options.beforeAjaxSend;\n    this._beforeSubmit = options.beforeSubmit;\n    this._requestHeaders = options.requestHeaders;\n    this._hasSubDirsGetter = compileGetter(options.hasSubDirectoriesExpr || \"hasSubDirectories\");\n  }\n\n  getItems(parentDir) {\n    var pathInfo = parentDir.getFullPathInfo();\n    return this._executeRequest(FILE_SYSTEM_COMMNAD.GET_DIR_CONTENTS, {\n      pathInfo: pathInfo\n    }).then(result => this._convertDataObjectsToFileItems(result.result, pathInfo));\n  }\n\n  renameItem(item, name) {\n    return this._executeRequest(FILE_SYSTEM_COMMNAD.RENAME, {\n      pathInfo: item.getFullPathInfo(),\n      isDirectory: item.isDirectory,\n      name: name\n    });\n  }\n\n  createDirectory(parentDir, name) {\n    return this._executeRequest(FILE_SYSTEM_COMMNAD.CREATE_DIR, {\n      pathInfo: parentDir.getFullPathInfo(),\n      name: name\n    });\n  }\n\n  deleteItems(items) {\n    return items.map(item => this._executeRequest(FILE_SYSTEM_COMMNAD.REMOVE, {\n      pathInfo: item.getFullPathInfo(),\n      isDirectory: item.isDirectory\n    }));\n  }\n\n  moveItems(items, destinationDirectory) {\n    return items.map(item => this._executeRequest(FILE_SYSTEM_COMMNAD.MOVE, {\n      sourcePathInfo: item.getFullPathInfo(),\n      sourceIsDirectory: item.isDirectory,\n      destinationPathInfo: destinationDirectory.getFullPathInfo()\n    }));\n  }\n\n  copyItems(items, destinationFolder) {\n    return items.map(item => this._executeRequest(FILE_SYSTEM_COMMNAD.COPY, {\n      sourcePathInfo: item.getFullPathInfo(),\n      sourceIsDirectory: item.isDirectory,\n      destinationPathInfo: destinationFolder.getFullPathInfo()\n    }));\n  }\n\n  uploadFileChunk(fileData, chunksInfo, destinationDirectory) {\n    if (0 === chunksInfo.chunkIndex) {\n      chunksInfo.customData.uploadId = new Guid();\n    }\n\n    var args = {\n      destinationPathInfo: destinationDirectory.getFullPathInfo(),\n      chunkMetadata: JSON.stringify({\n        UploadId: chunksInfo.customData.uploadId,\n        FileName: fileData.name,\n        Index: chunksInfo.chunkIndex,\n        TotalCount: chunksInfo.chunkCount,\n        FileSize: fileData.size\n      })\n    };\n    var ajaxSettings = {\n      url: this._endpointUrl,\n      headers: this._requestHeaders || {},\n      method: REQUEST_METHOD.POST,\n      dataType: \"json\",\n      data: {\n        [FILE_CHUNK_BLOB_NAME]: chunksInfo.chunkBlob,\n        arguments: JSON.stringify(args),\n        command: FILE_SYSTEM_COMMNAD.UPLOAD_CHUNK\n      },\n      upload: {\n        onprogress: noop,\n        onloadstart: noop,\n        onabort: noop\n      },\n      xhrFields: {},\n      cache: false\n    };\n    var deferred = new Deferred();\n\n    this._beforeSendInternal(ajaxSettings);\n\n    ajax.sendRequest(ajaxSettings).done(result => {\n      !result.success && deferred.reject(result) || deferred.resolve();\n    }).fail(deferred.reject);\n    return deferred.promise();\n  }\n\n  abortFileUpload(fileData, chunksInfo, destinationDirectory) {\n    return this._executeRequest(FILE_SYSTEM_COMMNAD.ABORT_UPLOAD, {\n      uploadId: chunksInfo.customData.uploadId\n    });\n  }\n\n  downloadItems(items) {\n    var args = this._getDownloadArgs(items);\n\n    var $form = $(\"<form>\").css({\n      display: \"none\"\n    }).attr({\n      method: REQUEST_METHOD.POST,\n      action: args.url\n    });\n    var formDataEntries = {\n      command: args.command,\n      arguments: args.arguments\n    };\n\n    this._beforeSubmitInternal(formDataEntries);\n\n    this._appendFormDataInputsToForm(formDataEntries, $form);\n\n    $form.appendTo(\"body\");\n    eventsEngine.trigger($form, \"submit\");\n    setTimeout(() => $form.remove());\n  }\n\n  getItemsContent(items) {\n    var args = this._getDownloadArgs(items);\n\n    var ajaxSettings = {\n      url: args.url,\n      headers: this._requestHeaders || {},\n      method: REQUEST_METHOD.POST,\n      responseType: \"arraybuffer\",\n      data: {\n        command: args.command,\n        arguments: args.arguments\n      },\n      upload: {\n        onprogress: noop,\n        onloadstart: noop,\n        onabort: noop\n      },\n      xhrFields: {},\n      cache: false\n    };\n\n    this._beforeSendInternal(ajaxSettings);\n\n    return ajax.sendRequest(ajaxSettings);\n  }\n\n  _getDownloadArgs(items) {\n    var pathInfoList = items.map(item => item.getFullPathInfo());\n    var args = {\n      pathInfoList: pathInfoList\n    };\n    var argsStr = JSON.stringify(args);\n    return {\n      url: this._endpointUrl,\n      arguments: argsStr,\n      command: FILE_SYSTEM_COMMNAD.DOWLOAD\n    };\n  }\n\n  _getItemsIds(items) {\n    return items.map(it => it.relativeName);\n  }\n\n  _executeRequest(command, args) {\n    var method = command === FILE_SYSTEM_COMMNAD.GET_DIR_CONTENTS ? REQUEST_METHOD.GET : REQUEST_METHOD.POST;\n    var deferred = new Deferred();\n    var ajaxSettings = {\n      url: this._getEndpointUrl(command, args),\n      headers: this._requestHeaders || {},\n      method: method,\n      dataType: \"json\",\n      data: {},\n      xhrFields: {},\n      cache: false\n    };\n\n    this._beforeSendInternal(ajaxSettings);\n\n    ajax.sendRequest(ajaxSettings).then(result => {\n      !result.success && deferred.reject(result) || deferred.resolve(result);\n    }, e => deferred.reject(e));\n    return deferred.promise();\n  }\n\n  _beforeSubmitInternal(formDataEntries) {\n    if (isFunction(this._beforeSubmit)) {\n      this._beforeSubmit({\n        formData: formDataEntries\n      });\n    }\n  }\n\n  _beforeSendInternal(ajaxSettings) {\n    if (isFunction(this._beforeAjaxSend)) {\n      var ajaxArguments = {\n        headers: ajaxSettings.headers,\n        formData: ajaxSettings.data,\n        xhrFields: ajaxSettings.xhrFields\n      };\n\n      this._beforeAjaxSend(ajaxArguments);\n\n      ajaxSettings.headers = ajaxArguments.headers;\n      ajaxSettings.data = ajaxArguments.formData;\n      ajaxSettings.xhrFields = ajaxArguments.xhrFields;\n    }\n\n    if (isEmptyObject(ajaxSettings.data)) {\n      delete ajaxSettings.data;\n    } else if (ajaxSettings.responseType || ajaxSettings.upload) {\n      ajaxSettings.data = this._createFormData(ajaxSettings.data);\n    }\n  }\n\n  _createFormData(formDataEntries) {\n    var formData = new window.FormData();\n\n    for (var entryName in formDataEntries) {\n      if (Object.prototype.hasOwnProperty.call(formDataEntries, entryName) && isDefined(formDataEntries[entryName])) {\n        formData.append(entryName, formDataEntries[entryName]);\n      }\n    }\n\n    return formData;\n  }\n\n  _appendFormDataInputsToForm(formDataEntries, formElement) {\n    for (var entryName in formDataEntries) {\n      if (Object.prototype.hasOwnProperty.call(formDataEntries, entryName) && isDefined(formDataEntries[entryName])) {\n        $(\"<input>\").attr({\n          type: \"hidden\",\n          name: entryName,\n          value: formDataEntries[entryName]\n        }).appendTo(formElement);\n      }\n    }\n  }\n\n  _getEndpointUrl(command, args) {\n    var queryString = this._getQueryString({\n      command: command,\n      arguments: JSON.stringify(args)\n    });\n\n    var separator = this._endpointUrl && this._endpointUrl.indexOf(\"?\") > 0 ? \"&\" : \"?\";\n    return this._endpointUrl + separator + queryString;\n  }\n\n  _getQueryString(params) {\n    var pairs = [];\n    var keys = Object.keys(params);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var value = params[key];\n\n      if (void 0 === value) {\n        continue;\n      }\n\n      if (null === value) {\n        value = \"\";\n      }\n\n      if (Array.isArray(value)) {\n        this._processQueryStringArrayParam(key, value, pairs);\n      } else {\n        var pair = this._getQueryStringPair(key, value);\n\n        pairs.push(pair);\n      }\n    }\n\n    return pairs.join(\"&\");\n  }\n\n  _processQueryStringArrayParam(key, array, pairs) {\n    each(array, (_, item) => {\n      var pair = this._getQueryStringPair(key, item);\n\n      pairs.push(pair);\n    });\n  }\n\n  _getQueryStringPair(key, value) {\n    return encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n  }\n\n  _hasSubDirs(dataObj) {\n    var hasSubDirs = this._hasSubDirsGetter(dataObj);\n\n    return \"boolean\" === typeof hasSubDirs ? hasSubDirs : true;\n  }\n\n  _getKeyExpr(options) {\n    return options.keyExpr || \"key\";\n  }\n\n}\n\nexport default RemoteFileSystemProvider;","map":{"version":3,"names":["$","ajax","ensureDefined","noop","Guid","getWindow","each","Deferred","eventsEngine","FileSystemProviderBase","compileGetter","isDefined","isEmptyObject","isFunction","window","FILE_CHUNK_BLOB_NAME","FILE_SYSTEM_COMMNAD","GET_DIR_CONTENTS","CREATE_DIR","RENAME","MOVE","COPY","REMOVE","UPLOAD_CHUNK","ABORT_UPLOAD","DOWLOAD","REQUEST_METHOD","GET","POST","RemoteFileSystemProvider","constructor","options","_endpointUrl","endpointUrl","_beforeAjaxSend","beforeAjaxSend","_beforeSubmit","beforeSubmit","_requestHeaders","requestHeaders","_hasSubDirsGetter","hasSubDirectoriesExpr","getItems","parentDir","pathInfo","getFullPathInfo","_executeRequest","then","result","_convertDataObjectsToFileItems","renameItem","item","name","isDirectory","createDirectory","deleteItems","items","map","moveItems","destinationDirectory","sourcePathInfo","sourceIsDirectory","destinationPathInfo","copyItems","destinationFolder","uploadFileChunk","fileData","chunksInfo","chunkIndex","customData","uploadId","args","chunkMetadata","JSON","stringify","UploadId","FileName","Index","TotalCount","chunkCount","FileSize","size","ajaxSettings","url","headers","method","dataType","data","chunkBlob","arguments","command","upload","onprogress","onloadstart","onabort","xhrFields","cache","deferred","_beforeSendInternal","sendRequest","done","success","reject","resolve","fail","promise","abortFileUpload","downloadItems","_getDownloadArgs","$form","css","display","attr","action","formDataEntries","_beforeSubmitInternal","_appendFormDataInputsToForm","appendTo","trigger","setTimeout","remove","getItemsContent","responseType","pathInfoList","argsStr","_getItemsIds","it","relativeName","_getEndpointUrl","e","formData","ajaxArguments","_createFormData","FormData","entryName","Object","prototype","hasOwnProperty","call","append","formElement","type","value","queryString","_getQueryString","separator","indexOf","params","pairs","keys","i","length","key","Array","isArray","_processQueryStringArrayParam","pair","_getQueryStringPair","push","join","array","_","encodeURIComponent","_hasSubDirs","dataObj","hasSubDirs","_getKeyExpr","keyExpr"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/file_management/remote_provider.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/file_management/remote_provider.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport ajax from \"../core/utils/ajax\";\r\nimport {\r\n    ensureDefined,\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport Guid from \"../core/guid\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport FileSystemProviderBase from \"./provider_base\";\r\nimport {\r\n    compileGetter\r\n} from \"../core/utils/data\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject,\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nvar window = getWindow();\r\nvar FILE_CHUNK_BLOB_NAME = \"chunk\";\r\nvar FILE_SYSTEM_COMMNAD = {\r\n    GET_DIR_CONTENTS: \"GetDirContents\",\r\n    CREATE_DIR: \"CreateDir\",\r\n    RENAME: \"Rename\",\r\n    MOVE: \"Move\",\r\n    COPY: \"Copy\",\r\n    REMOVE: \"Remove\",\r\n    UPLOAD_CHUNK: \"UploadChunk\",\r\n    ABORT_UPLOAD: \"AbortUpload\",\r\n    DOWLOAD: \"Download\"\r\n};\r\nvar REQUEST_METHOD = {\r\n    GET: \"GET\",\r\n    POST: \"POST\"\r\n};\r\nclass RemoteFileSystemProvider extends FileSystemProviderBase {\r\n    constructor(options) {\r\n        options = ensureDefined(options, {});\r\n        super(options);\r\n        this._endpointUrl = options.endpointUrl;\r\n        this._beforeAjaxSend = options.beforeAjaxSend;\r\n        this._beforeSubmit = options.beforeSubmit;\r\n        this._requestHeaders = options.requestHeaders;\r\n        this._hasSubDirsGetter = compileGetter(options.hasSubDirectoriesExpr || \"hasSubDirectories\")\r\n    }\r\n    getItems(parentDir) {\r\n        var pathInfo = parentDir.getFullPathInfo();\r\n        return this._executeRequest(FILE_SYSTEM_COMMNAD.GET_DIR_CONTENTS, {\r\n            pathInfo: pathInfo\r\n        }).then(result => this._convertDataObjectsToFileItems(result.result, pathInfo))\r\n    }\r\n    renameItem(item, name) {\r\n        return this._executeRequest(FILE_SYSTEM_COMMNAD.RENAME, {\r\n            pathInfo: item.getFullPathInfo(),\r\n            isDirectory: item.isDirectory,\r\n            name: name\r\n        })\r\n    }\r\n    createDirectory(parentDir, name) {\r\n        return this._executeRequest(FILE_SYSTEM_COMMNAD.CREATE_DIR, {\r\n            pathInfo: parentDir.getFullPathInfo(),\r\n            name: name\r\n        })\r\n    }\r\n    deleteItems(items) {\r\n        return items.map(item => this._executeRequest(FILE_SYSTEM_COMMNAD.REMOVE, {\r\n            pathInfo: item.getFullPathInfo(),\r\n            isDirectory: item.isDirectory\r\n        }))\r\n    }\r\n    moveItems(items, destinationDirectory) {\r\n        return items.map(item => this._executeRequest(FILE_SYSTEM_COMMNAD.MOVE, {\r\n            sourcePathInfo: item.getFullPathInfo(),\r\n            sourceIsDirectory: item.isDirectory,\r\n            destinationPathInfo: destinationDirectory.getFullPathInfo()\r\n        }))\r\n    }\r\n    copyItems(items, destinationFolder) {\r\n        return items.map(item => this._executeRequest(FILE_SYSTEM_COMMNAD.COPY, {\r\n            sourcePathInfo: item.getFullPathInfo(),\r\n            sourceIsDirectory: item.isDirectory,\r\n            destinationPathInfo: destinationFolder.getFullPathInfo()\r\n        }))\r\n    }\r\n    uploadFileChunk(fileData, chunksInfo, destinationDirectory) {\r\n        if (0 === chunksInfo.chunkIndex) {\r\n            chunksInfo.customData.uploadId = new Guid\r\n        }\r\n        var args = {\r\n            destinationPathInfo: destinationDirectory.getFullPathInfo(),\r\n            chunkMetadata: JSON.stringify({\r\n                UploadId: chunksInfo.customData.uploadId,\r\n                FileName: fileData.name,\r\n                Index: chunksInfo.chunkIndex,\r\n                TotalCount: chunksInfo.chunkCount,\r\n                FileSize: fileData.size\r\n            })\r\n        };\r\n        var ajaxSettings = {\r\n            url: this._endpointUrl,\r\n            headers: this._requestHeaders || {},\r\n            method: REQUEST_METHOD.POST,\r\n            dataType: \"json\",\r\n            data: {\r\n                [FILE_CHUNK_BLOB_NAME]: chunksInfo.chunkBlob,\r\n                arguments: JSON.stringify(args),\r\n                command: FILE_SYSTEM_COMMNAD.UPLOAD_CHUNK\r\n            },\r\n            upload: {\r\n                onprogress: noop,\r\n                onloadstart: noop,\r\n                onabort: noop\r\n            },\r\n            xhrFields: {},\r\n            cache: false\r\n        };\r\n        var deferred = new Deferred;\r\n        this._beforeSendInternal(ajaxSettings);\r\n        ajax.sendRequest(ajaxSettings).done(result => {\r\n            !result.success && deferred.reject(result) || deferred.resolve()\r\n        }).fail(deferred.reject);\r\n        return deferred.promise()\r\n    }\r\n    abortFileUpload(fileData, chunksInfo, destinationDirectory) {\r\n        return this._executeRequest(FILE_SYSTEM_COMMNAD.ABORT_UPLOAD, {\r\n            uploadId: chunksInfo.customData.uploadId\r\n        })\r\n    }\r\n    downloadItems(items) {\r\n        var args = this._getDownloadArgs(items);\r\n        var $form = $(\"<form>\").css({\r\n            display: \"none\"\r\n        }).attr({\r\n            method: REQUEST_METHOD.POST,\r\n            action: args.url\r\n        });\r\n        var formDataEntries = {\r\n            command: args.command,\r\n            arguments: args.arguments\r\n        };\r\n        this._beforeSubmitInternal(formDataEntries);\r\n        this._appendFormDataInputsToForm(formDataEntries, $form);\r\n        $form.appendTo(\"body\");\r\n        eventsEngine.trigger($form, \"submit\");\r\n        setTimeout(() => $form.remove())\r\n    }\r\n    getItemsContent(items) {\r\n        var args = this._getDownloadArgs(items);\r\n        var ajaxSettings = {\r\n            url: args.url,\r\n            headers: this._requestHeaders || {},\r\n            method: REQUEST_METHOD.POST,\r\n            responseType: \"arraybuffer\",\r\n            data: {\r\n                command: args.command,\r\n                arguments: args.arguments\r\n            },\r\n            upload: {\r\n                onprogress: noop,\r\n                onloadstart: noop,\r\n                onabort: noop\r\n            },\r\n            xhrFields: {},\r\n            cache: false\r\n        };\r\n        this._beforeSendInternal(ajaxSettings);\r\n        return ajax.sendRequest(ajaxSettings)\r\n    }\r\n    _getDownloadArgs(items) {\r\n        var pathInfoList = items.map(item => item.getFullPathInfo());\r\n        var args = {\r\n            pathInfoList: pathInfoList\r\n        };\r\n        var argsStr = JSON.stringify(args);\r\n        return {\r\n            url: this._endpointUrl,\r\n            arguments: argsStr,\r\n            command: FILE_SYSTEM_COMMNAD.DOWLOAD\r\n        }\r\n    }\r\n    _getItemsIds(items) {\r\n        return items.map(it => it.relativeName)\r\n    }\r\n    _executeRequest(command, args) {\r\n        var method = command === FILE_SYSTEM_COMMNAD.GET_DIR_CONTENTS ? REQUEST_METHOD.GET : REQUEST_METHOD.POST;\r\n        var deferred = new Deferred;\r\n        var ajaxSettings = {\r\n            url: this._getEndpointUrl(command, args),\r\n            headers: this._requestHeaders || {},\r\n            method: method,\r\n            dataType: \"json\",\r\n            data: {},\r\n            xhrFields: {},\r\n            cache: false\r\n        };\r\n        this._beforeSendInternal(ajaxSettings);\r\n        ajax.sendRequest(ajaxSettings).then(result => {\r\n            !result.success && deferred.reject(result) || deferred.resolve(result)\r\n        }, e => deferred.reject(e));\r\n        return deferred.promise()\r\n    }\r\n    _beforeSubmitInternal(formDataEntries) {\r\n        if (isFunction(this._beforeSubmit)) {\r\n            this._beforeSubmit({\r\n                formData: formDataEntries\r\n            })\r\n        }\r\n    }\r\n    _beforeSendInternal(ajaxSettings) {\r\n        if (isFunction(this._beforeAjaxSend)) {\r\n            var ajaxArguments = {\r\n                headers: ajaxSettings.headers,\r\n                formData: ajaxSettings.data,\r\n                xhrFields: ajaxSettings.xhrFields\r\n            };\r\n            this._beforeAjaxSend(ajaxArguments);\r\n            ajaxSettings.headers = ajaxArguments.headers;\r\n            ajaxSettings.data = ajaxArguments.formData;\r\n            ajaxSettings.xhrFields = ajaxArguments.xhrFields\r\n        }\r\n        if (isEmptyObject(ajaxSettings.data)) {\r\n            delete ajaxSettings.data\r\n        } else if (ajaxSettings.responseType || ajaxSettings.upload) {\r\n            ajaxSettings.data = this._createFormData(ajaxSettings.data)\r\n        }\r\n    }\r\n    _createFormData(formDataEntries) {\r\n        var formData = new window.FormData;\r\n        for (var entryName in formDataEntries) {\r\n            if (Object.prototype.hasOwnProperty.call(formDataEntries, entryName) && isDefined(formDataEntries[entryName])) {\r\n                formData.append(entryName, formDataEntries[entryName])\r\n            }\r\n        }\r\n        return formData\r\n    }\r\n    _appendFormDataInputsToForm(formDataEntries, formElement) {\r\n        for (var entryName in formDataEntries) {\r\n            if (Object.prototype.hasOwnProperty.call(formDataEntries, entryName) && isDefined(formDataEntries[entryName])) {\r\n                $(\"<input>\").attr({\r\n                    type: \"hidden\",\r\n                    name: entryName,\r\n                    value: formDataEntries[entryName]\r\n                }).appendTo(formElement)\r\n            }\r\n        }\r\n    }\r\n    _getEndpointUrl(command, args) {\r\n        var queryString = this._getQueryString({\r\n            command: command,\r\n            arguments: JSON.stringify(args)\r\n        });\r\n        var separator = this._endpointUrl && this._endpointUrl.indexOf(\"?\") > 0 ? \"&\" : \"?\";\r\n        return this._endpointUrl + separator + queryString\r\n    }\r\n    _getQueryString(params) {\r\n        var pairs = [];\r\n        var keys = Object.keys(params);\r\n        for (var i = 0; i < keys.length; i++) {\r\n            var key = keys[i];\r\n            var value = params[key];\r\n            if (void 0 === value) {\r\n                continue\r\n            }\r\n            if (null === value) {\r\n                value = \"\"\r\n            }\r\n            if (Array.isArray(value)) {\r\n                this._processQueryStringArrayParam(key, value, pairs)\r\n            } else {\r\n                var pair = this._getQueryStringPair(key, value);\r\n                pairs.push(pair)\r\n            }\r\n        }\r\n        return pairs.join(\"&\")\r\n    }\r\n    _processQueryStringArrayParam(key, array, pairs) {\r\n        each(array, (_, item) => {\r\n            var pair = this._getQueryStringPair(key, item);\r\n            pairs.push(pair)\r\n        })\r\n    }\r\n    _getQueryStringPair(key, value) {\r\n        return encodeURIComponent(key) + \"=\" + encodeURIComponent(value)\r\n    }\r\n    _hasSubDirs(dataObj) {\r\n        var hasSubDirs = this._hasSubDirsGetter(dataObj);\r\n        return \"boolean\" === typeof hasSubDirs ? hasSubDirs : true\r\n    }\r\n    _getKeyExpr(options) {\r\n        return options.keyExpr || \"key\"\r\n    }\r\n}\r\nexport default RemoteFileSystemProvider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
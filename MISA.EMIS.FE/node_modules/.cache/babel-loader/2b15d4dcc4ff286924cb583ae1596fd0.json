{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/translators/interval_translator.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { isNumeric as isNumber, isDefined } from \"../../core/utils/type\";\nimport dateUtils from \"../../core/utils/date\";\nvar floor = Math.floor;\nimport { adjust } from \"../../core/utils/math\";\nexport default {\n  _intervalize: function (value, interval) {\n    if (!isDefined(value)) {\n      return;\n    }\n\n    if (\"datetime\" === this._businessRange.dataType) {\n      if (isNumber(value)) {\n        value = new Date(value);\n      } else {\n        value = new Date(value.getTime());\n      }\n\n      value = dateUtils.correctDateWithUnitBeginning(value, interval, null, this._options.firstDayOfWeek);\n    } else {\n      value = adjust(floor(adjust(value / interval)) * interval, interval);\n    }\n\n    return value;\n  },\n  translate: function (bp, direction, interval) {\n    var specialValue = this.translateSpecialCase(bp);\n\n    if (isDefined(specialValue)) {\n      return Math.round(specialValue);\n    }\n\n    interval = interval || this._options.interval;\n\n    if (!this.isValid(bp, interval)) {\n      return null;\n    }\n\n    return this.to(bp, direction, interval);\n  },\n  getInterval: function () {\n    return Math.round(this._canvasOptions.ratioOfCanvasRange * (this._businessRange.interval || Math.abs(this._canvasOptions.rangeMax - this._canvasOptions.rangeMin)));\n  },\n  zoom: function () {},\n  getMinScale: function () {},\n  getScale: function () {},\n  _parse: function (value) {\n    return \"datetime\" === this._businessRange.dataType ? new Date(value) : Number(value);\n  },\n  fromValue: function (value) {\n    return this._parse(value);\n  },\n  toValue: function (value) {\n    return this._parse(value);\n  },\n  isValid: function (value, interval) {\n    var co = this._canvasOptions;\n    var rangeMin = co.rangeMin;\n    var rangeMax = co.rangeMax;\n    interval = interval || this._options.interval;\n\n    if (null === value || isNaN(value)) {\n      return false;\n    }\n\n    value = \"datetime\" === this._businessRange.dataType && isNumber(value) ? new Date(value) : value;\n\n    if (interval !== this._options.interval) {\n      rangeMin = this._intervalize(rangeMin, interval);\n      rangeMax = this._intervalize(rangeMax, interval);\n    }\n\n    if (value.valueOf() < rangeMin || value.valueOf() >= dateUtils.addInterval(rangeMax, interval)) {\n      return false;\n    }\n\n    return true;\n  },\n  to: function (bp, direction, interval) {\n    interval = interval || this._options.interval;\n\n    var v1 = this._intervalize(bp, interval);\n\n    var v2 = dateUtils.addInterval(v1, interval);\n\n    var res = this._to(v1);\n\n    var p2 = this._to(v2);\n\n    if (!direction) {\n      res = floor((res + p2) / 2);\n    } else if (direction > 0) {\n      res = p2;\n    }\n\n    return res;\n  },\n  _to: function (value) {\n    var co = this._canvasOptions;\n    var rMin = co.rangeMinVisible;\n    var rMax = co.rangeMaxVisible;\n    var offset = value - rMin;\n\n    if (value < rMin) {\n      offset = 0;\n    } else if (value > rMax) {\n      offset = dateUtils.addInterval(rMax, this._options.interval) - rMin;\n    }\n\n    return this._conversionValue(this._calculateProjection(offset * this._canvasOptions.ratioOfCanvasRange));\n  },\n  from: function (position, direction) {\n    var origInterval = this._options.interval;\n    var interval = origInterval;\n    var co = this._canvasOptions;\n    var rMin = co.rangeMinVisible;\n    var rMax = co.rangeMaxVisible;\n    var value;\n\n    if (\"datetime\" === this._businessRange.dataType) {\n      interval = dateUtils.dateToMilliseconds(origInterval);\n    }\n\n    value = this._calculateUnProjection((position - this._canvasOptions.startPoint) / this._canvasOptions.ratioOfCanvasRange);\n    value = this._intervalize(dateUtils.addInterval(value, interval / 2, direction > 0), origInterval);\n\n    if (value < rMin) {\n      value = rMin;\n    } else if (value > rMax) {\n      value = rMax;\n    }\n\n    return value;\n  },\n  _add: function () {\n    return NaN;\n  },\n  isValueProlonged: true\n};","map":{"version":3,"names":["isNumeric","isNumber","isDefined","dateUtils","floor","Math","adjust","_intervalize","value","interval","_businessRange","dataType","Date","getTime","correctDateWithUnitBeginning","_options","firstDayOfWeek","translate","bp","direction","specialValue","translateSpecialCase","round","isValid","to","getInterval","_canvasOptions","ratioOfCanvasRange","abs","rangeMax","rangeMin","zoom","getMinScale","getScale","_parse","Number","fromValue","toValue","co","isNaN","valueOf","addInterval","v1","v2","res","_to","p2","rMin","rangeMinVisible","rMax","rangeMaxVisible","offset","_conversionValue","_calculateProjection","from","position","origInterval","dateToMilliseconds","_calculateUnProjection","startPoint","_add","NaN","isValueProlonged"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/translators/interval_translator.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/translators/interval_translator.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isNumeric as isNumber,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport dateUtils from \"../../core/utils/date\";\r\nvar floor = Math.floor;\r\nimport {\r\n    adjust\r\n} from \"../../core/utils/math\";\r\nexport default {\r\n    _intervalize: function(value, interval) {\r\n        if (!isDefined(value)) {\r\n            return\r\n        }\r\n        if (\"datetime\" === this._businessRange.dataType) {\r\n            if (isNumber(value)) {\r\n                value = new Date(value)\r\n            } else {\r\n                value = new Date(value.getTime())\r\n            }\r\n            value = dateUtils.correctDateWithUnitBeginning(value, interval, null, this._options.firstDayOfWeek)\r\n        } else {\r\n            value = adjust(floor(adjust(value / interval)) * interval, interval)\r\n        }\r\n        return value\r\n    },\r\n    translate: function(bp, direction, interval) {\r\n        var specialValue = this.translateSpecialCase(bp);\r\n        if (isDefined(specialValue)) {\r\n            return Math.round(specialValue)\r\n        }\r\n        interval = interval || this._options.interval;\r\n        if (!this.isValid(bp, interval)) {\r\n            return null\r\n        }\r\n        return this.to(bp, direction, interval)\r\n    },\r\n    getInterval: function() {\r\n        return Math.round(this._canvasOptions.ratioOfCanvasRange * (this._businessRange.interval || Math.abs(this._canvasOptions.rangeMax - this._canvasOptions.rangeMin)))\r\n    },\r\n    zoom: function() {},\r\n    getMinScale: function() {},\r\n    getScale: function() {},\r\n    _parse: function(value) {\r\n        return \"datetime\" === this._businessRange.dataType ? new Date(value) : Number(value)\r\n    },\r\n    fromValue: function(value) {\r\n        return this._parse(value)\r\n    },\r\n    toValue: function(value) {\r\n        return this._parse(value)\r\n    },\r\n    isValid: function(value, interval) {\r\n        var co = this._canvasOptions;\r\n        var rangeMin = co.rangeMin;\r\n        var rangeMax = co.rangeMax;\r\n        interval = interval || this._options.interval;\r\n        if (null === value || isNaN(value)) {\r\n            return false\r\n        }\r\n        value = \"datetime\" === this._businessRange.dataType && isNumber(value) ? new Date(value) : value;\r\n        if (interval !== this._options.interval) {\r\n            rangeMin = this._intervalize(rangeMin, interval);\r\n            rangeMax = this._intervalize(rangeMax, interval)\r\n        }\r\n        if (value.valueOf() < rangeMin || value.valueOf() >= dateUtils.addInterval(rangeMax, interval)) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    to: function(bp, direction, interval) {\r\n        interval = interval || this._options.interval;\r\n        var v1 = this._intervalize(bp, interval);\r\n        var v2 = dateUtils.addInterval(v1, interval);\r\n        var res = this._to(v1);\r\n        var p2 = this._to(v2);\r\n        if (!direction) {\r\n            res = floor((res + p2) / 2)\r\n        } else if (direction > 0) {\r\n            res = p2\r\n        }\r\n        return res\r\n    },\r\n    _to: function(value) {\r\n        var co = this._canvasOptions;\r\n        var rMin = co.rangeMinVisible;\r\n        var rMax = co.rangeMaxVisible;\r\n        var offset = value - rMin;\r\n        if (value < rMin) {\r\n            offset = 0\r\n        } else if (value > rMax) {\r\n            offset = dateUtils.addInterval(rMax, this._options.interval) - rMin\r\n        }\r\n        return this._conversionValue(this._calculateProjection(offset * this._canvasOptions.ratioOfCanvasRange))\r\n    },\r\n    from: function(position, direction) {\r\n        var origInterval = this._options.interval;\r\n        var interval = origInterval;\r\n        var co = this._canvasOptions;\r\n        var rMin = co.rangeMinVisible;\r\n        var rMax = co.rangeMaxVisible;\r\n        var value;\r\n        if (\"datetime\" === this._businessRange.dataType) {\r\n            interval = dateUtils.dateToMilliseconds(origInterval)\r\n        }\r\n        value = this._calculateUnProjection((position - this._canvasOptions.startPoint) / this._canvasOptions.ratioOfCanvasRange);\r\n        value = this._intervalize(dateUtils.addInterval(value, interval / 2, direction > 0), origInterval);\r\n        if (value < rMin) {\r\n            value = rMin\r\n        } else if (value > rMax) {\r\n            value = rMax\r\n        }\r\n        return value\r\n    },\r\n    _add: function() {\r\n        return NaN\r\n    },\r\n    isValueProlonged: true\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
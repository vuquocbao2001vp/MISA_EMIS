{"ast":null,"code":"import axios from \"axios\";\nimport BaseButton from \"../base/BaseButton.vue\"; // import BaseInput from \"../base/BaseInput.vue\";\n\nimport BaseCheckbox from \"../base/BaseCheckbox.vue\";\nexport default {\n  components: {\n    BaseButton,\n    // BaseInput,\n    BaseCheckbox\n  },\n  props: [\"isShow\", \"staffSelected\", \"staffSelectedId\", \"btnSaveMode\"],\n\n  data() {\n    return {\n      staff: {}\n    };\n  },\n\n  watch: {\n    staffSelected: function (value) {\n      this.staff = value;\n    },\n    staffSelectedId: function (value) {\n      var me = this;\n\n      if (value) {\n        // gọi api lấy dữ liệu thông tin chi tiết 1 giáo viên\n        axios.get(`https://cukcuk.manhnv.net/api/v1/Employees/${value}`).then(function (respond) {\n          switch (respond.status) {\n            case 200:\n              me.staff = respond.data;\n              break;\n          }\n        }).catch(function (res) {\n          switch (res.status) {\n            case 404:\n              console.log(\"404 Not Found\");\n              break;\n          }\n        });\n      }\n    }\n  },\n  methods: {\n    // khi click vào nút đóng thì đóng form giáo viên chi tiết\n    btnCloseOnClick() {\n      this.$emit(\"isShowStaffDialog\", false);\n    },\n\n    // khi click vào nút lưu thì thực hiện lưu dữ liệu mới\n    btnSaveOnClick() {\n      var me = this; // 1. validate dữ liệu\n      // 2. build object thông tin giáo viên\n      // 3. gọi api thực hiên thêm mới dữ liệu\n      // 3.1 nếu saveMode là 1 thì thực hiện thêm mới, là 0 thì thực hiện sửa\n\n      if (this.btnSaveMode == 1) {\n        axios.post(\"https://cukcuk.manhnv.net/api/v1/Employees\", me.staff).then(res => {\n          console.log(\"res\");\n        }).catch(err => {\n          console.error(err);\n        });\n      } else {\n        axios.put(`https://cukcuk.manhnv.net/api/v1/Employees/${me.staffSelectedId}`, me.staff).then(res => {\n          console.log(res);\n        }).catch(err => {\n          console.error(err);\n        });\n      } // 4. Hiển thị toast message khi thêm mới thành công\n      // nếu có lỗi thì thông báo lỗi tương ứng\n\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkJA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,wBAAvB,C,CACA;;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,eAAe;EACbC,UAAU,EAAE;IACVF,UADU;IAEV;IACAC;EAHU,CADC;EAMbE,KAAK,EAAE,CAAC,QAAD,EAAW,eAAX,EAA4B,iBAA5B,EAA+C,aAA/C,CANM;;EAObC,IAAI,GAAG;IACL,OAAO;MACLC,KAAK,EAAE;IADF,CAAP;EAGD,CAXY;;EAYbC,KAAK,EAAE;IACLC,aAAa,EAAE,UAAUC,KAAV,EAAiB;MAC9B,KAAKH,KAAL,GAAaG,KAAb;IACD,CAHI;IAILC,eAAe,EAAE,UAAUD,KAAV,EAAiB;MAChC,IAAIE,EAAC,GAAI,IAAT;;MACA,IAAIF,KAAJ,EAAW;QACT;QACAT,KAAI,CACDY,GADH,CACQ,8CAA6CH,KAAM,EAD3D,EAEGI,IAFH,CAEQ,UAAUC,OAAV,EAAmB;UACvB,QAAQA,OAAO,CAACC,MAAhB;YACE,KAAK,GAAL;cACEJ,EAAE,CAACL,KAAH,GAAWQ,OAAO,CAACT,IAAnB;cACA;UAHJ;QAKD,CARH,EASGW,KATH,CASS,UAAUC,GAAV,EAAe;UACpB,QAAQA,GAAG,CAACF,MAAZ;YACE,KAAK,GAAL;cACEG,OAAO,CAACC,GAAR,CAAY,eAAZ;cACA;UAHJ;QAKD,CAfH;MAgBF;IACD;EAzBI,CAZM;EAuCbC,OAAO,EAAE;IACP;IACAC,eAAe,GAAG;MAChB,KAAKC,KAAL,CAAW,mBAAX,EAAgC,KAAhC;IACD,CAJM;;IAKP;IACAC,cAAc,GAAE;MACd,IAAIZ,EAAC,GAAI,IAAT,CADc,CAEd;MACA;MACA;MACA;;MACA,IAAG,KAAKa,WAAL,IAAoB,CAAvB,EAA0B;QACxBxB,KAAK,CAACyB,IAAN,CAAW,4CAAX,EAAyDd,EAAE,CAACL,KAA5D,EACCO,IADD,CACMI,GAAE,IAAK;UACXC,OAAO,CAACC,GAAR,CAAY,KAAZ;QACD,CAHD,EAICH,KAJD,CAIOU,GAAE,IAAK;UACZR,OAAO,CAACS,KAAR,CAAcD,GAAd;QACD,CAND;MAOF,CARA,MAQO;QACL1B,KAAK,CAAC4B,GAAN,CAAW,8CAA6CjB,EAAE,CAACD,eAAgB,EAA3E,EAA8EC,EAAE,CAACL,KAAjF,EACCO,IADD,CACMI,GAAE,IAAK;UACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACD,CAHD,EAICD,KAJD,CAIOU,GAAE,IAAK;UACZR,OAAO,CAACS,KAAR,CAAcD,GAAd;QACD,CAND;MAOF,CAtBc,CAuBd;MACA;;IACF;;EA/BO;AAvCI,CAAf","names":["axios","BaseButton","BaseCheckbox","components","props","data","staff","watch","staffSelected","value","staffSelectedId","me","get","then","respond","status","catch","res","console","log","methods","btnCloseOnClick","$emit","btnSaveOnClick","btnSaveMode","post","err","error","put"],"sourceRoot":"","sources":["E:\\MisaProject\\W2022_06\\misa_emis\\src\\components\\dialog\\StaffDialog.vue"],"sourcesContent":["<template>\r\n  <div id=\"dlgStaff\" class=\"dialog\" :class=\"{ isShowDialog: isShow }\">\r\n    <div class=\"dialog-avatar\">\r\n      <div class=\"avatar-image icon-center icon-avatar\"></div>\r\n      <BaseButton\r\n        id=\"btnPickImage\"\r\n        class=\"avatar-button-picker\"\r\n        buttonName=\"Chọn ảnh\"\r\n        buttonType=\"button-green\"\r\n      />\r\n      <span class=\"avatar-name\">Họ và tên</span>\r\n      <span class=\"avatar-code\">Số hiệu cán bộ</span>\r\n    </div>\r\n    <div class=\"dialog-content\">\r\n      <div\r\n        id=\"btnDialogClose\"\r\n        @click=\"btnCloseOnClick\"\r\n        class=\"icon-center icon-X-2\"\r\n      ></div>\r\n      <div class=\"dialog-body\">\r\n        <div class=\"dialog-body-text\">Thêm hồ sơ Cán bộ, giáo viên</div>\r\n        <div class=\"body-row\">\r\n          <div class=\"dialog-body-item body-col-left\">\r\n            <div class=\"body-item-text\">\r\n              Số hiệu cán bộ<span style=\"color: red; margin-left: 4px\">*</span>\r\n            </div>\r\n            <input\r\n              tabindex=\"1\"\r\n              type=\"text\"\r\n              class=\"body-item-input\"\r\n              v-model=\"staff.EmployeeCode\"\r\n            />\r\n          </div>\r\n          <div class=\"dialog-body-item body-col-right\">\r\n            <div class=\"body-item-text\">\r\n              Họ và tên<span style=\"color: red; margin-left: 4px\">*</span>\r\n            </div>\r\n            <input\r\n              tabindex=\"2\"\r\n              type=\"text\"\r\n              class=\"body-item-input\"\r\n              v-model=\"staff.FullName\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"body-row\">\r\n          <div class=\"dialog-body-item body-col-left\">\r\n            <div class=\"body-item-text\">Số điện thoại</div>\r\n            <input\r\n              tabindex=\"3\"\r\n              type=\"text\"\r\n              class=\"body-item-input\"\r\n              v-model=\"staff.PhoneNumber\"\r\n            />\r\n          </div>\r\n          <div class=\"dialog-body-item body-col-right\">\r\n            <div class=\"body-item-text\">Email</div>\r\n            <input\r\n              tabindex=\"4\"\r\n              type=\"text\"\r\n              class=\"body-item-input\"\r\n              v-model=\"staff.Email\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"body-row\">\r\n          <div class=\"dialog-body-item body-col-left\">\r\n            <div class=\"body-item-text\">Tổ bộ môn</div>\r\n            <div class=\"select\">\r\n              <select tabindex=\"5\">\r\n                <option value=\"0\">Tổ Toán - Tin</option>\r\n                <option value=\"1\">Tổ Lý - Hóa</option>\r\n                <option value=\"2\">Tổ Sinh - Sử - Địa</option>\r\n                <option value=\"3\">Tổ Anh văn</option>\r\n                <option value=\"4\">Tổ Ngữ văn</option>\r\n                <option value=\"5\">Tổ Văn phòng</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"dialog-body-item body-col-right\">\r\n            <div class=\"body-item-text\">QL theo môn</div>\r\n            <div class=\"select\">\r\n              <select tabindex=\"6\">\r\n                <option value=\"0\">Tất cả</option>\r\n                <option value=\"1\">Toán</option>\r\n                <option value=\"2\">Lý</option>\r\n                <option value=\"3\">Hóa</option>\r\n                <option value=\"4\">Sinh</option>\r\n                <option value=\"5\">Ngữ văn</option>\r\n                <option value=\"6\">Lịch sử</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"body-row\">\r\n          <div class=\"dialog-body-item body-col-left\">\r\n            <div class=\"body-item-text\">QL kho, phòng</div>\r\n            <div id=\"storageManagement\" class=\"select\">\r\n              <select tabindex=\"7\">\r\n                <option value=\"0\">Tất cả</option>\r\n                <option value=\"1\">Phòng Toán-Lý</option>\r\n                <option value=\"2\">Phòng Hóa Sinh</option>\r\n                <option value=\"3\">Kho phòng chung</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"body-row\">\r\n          <div class=\"dialog-body-item\">\r\n            <BaseCheckbox tabindex=\"8\" />\r\n            <div class=\"body-item-text row-item-checkbox\">\r\n              Trình độ nghiệp vụ QLTB\r\n            </div>\r\n          </div>\r\n          <div class=\"dialog-body-item\">\r\n            <BaseCheckbox tabindex=\"9\" />\r\n            <div class=\"body-item-text row-item-checkbox\">Đang làm việc</div>\r\n          </div>\r\n          <div class=\"dialog-body-item\" style=\"position: absolute; right: 24px\">\r\n            <div class=\"body-item-text\" style=\"margin-right: 8px\">\r\n              Ngày nghỉ việc\r\n            </div>\r\n            <input tabindex=\"10\" id=\"dtDayOff\" class=\"input\" type=\"date\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"dialog-footer\">\r\n        <BaseButton\r\n          tabindex=\"11\"\r\n          id=\"btnClose\"\r\n          buttonName=\"Đóng\"\r\n          buttonType=\"button-white\"\r\n          @click=\"btnCloseOnClick\"\r\n        />\r\n        <BaseButton\r\n          tabindex=\"12\"\r\n          id=\"btnSave\"\r\n          buttonName=\"Lưu\"\r\n          buttonType=\"button-green\"\r\n          @click=\"btnSaveOnClick\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport BaseButton from \"../base/BaseButton.vue\";\r\n// import BaseInput from \"../base/BaseInput.vue\";\r\nimport BaseCheckbox from \"../base/BaseCheckbox.vue\";\r\nexport default {\r\n  components: {\r\n    BaseButton,\r\n    // BaseInput,\r\n    BaseCheckbox,\r\n  },\r\n  props: [\"isShow\", \"staffSelected\", \"staffSelectedId\", \"btnSaveMode\"],\r\n  data() {\r\n    return {\r\n      staff: {},\r\n    };\r\n  },\r\n  watch: {\r\n    staffSelected: function (value) {\r\n      this.staff = value;\r\n    },\r\n    staffSelectedId: function (value) {\r\n      var me = this;\r\n      if (value) {\r\n        // gọi api lấy dữ liệu thông tin chi tiết 1 giáo viên\r\n        axios\r\n          .get(`https://cukcuk.manhnv.net/api/v1/Employees/${value}`)\r\n          .then(function (respond) {\r\n            switch (respond.status) {\r\n              case 200:\r\n                me.staff = respond.data;\r\n                break;\r\n            }\r\n          })\r\n          .catch(function (res) {\r\n            switch (res.status) {\r\n              case 404:\r\n                console.log(\"404 Not Found\");\r\n                break;\r\n            }\r\n          });\r\n      } \r\n    },\r\n  },\r\n  methods: {\r\n    // khi click vào nút đóng thì đóng form giáo viên chi tiết\r\n    btnCloseOnClick() {\r\n      this.$emit(\"isShowStaffDialog\", false);\r\n    },\r\n    // khi click vào nút lưu thì thực hiện lưu dữ liệu mới\r\n    btnSaveOnClick(){\r\n      var me = this;\r\n      // 1. validate dữ liệu\r\n      // 2. build object thông tin giáo viên\r\n      // 3. gọi api thực hiên thêm mới dữ liệu\r\n      // 3.1 nếu saveMode là 1 thì thực hiện thêm mới, là 0 thì thực hiện sửa\r\n      if(this.btnSaveMode == 1) {\r\n        axios.post(\"https://cukcuk.manhnv.net/api/v1/Employees\", me.staff)\r\n        .then(res => {\r\n          console.log(\"res\")\r\n        })\r\n        .catch(err => {\r\n          console.error(err); \r\n        })\r\n      } else {\r\n        axios.put(`https://cukcuk.manhnv.net/api/v1/Employees/${me.staffSelectedId}`, me.staff)\r\n        .then(res => {\r\n          console.log(res)\r\n        })\r\n        .catch(err => {\r\n          console.error(err); \r\n        })\r\n      }\r\n      // 4. Hiển thị toast message khi thêm mới thành công\r\n      // nếu có lỗi thì thông báo lỗi tương ứng\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.isShowDialog {\r\n  display: flex !important;\r\n}\r\n\r\n.dialog {\r\n  position: fixed;\r\n  align-items: center;\r\n  justify-content: center;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.24);\r\n  display: none;\r\n}\r\n\r\n.dialog-avatar {\r\n  width: 224px;\r\n  height: 384px;\r\n  background-color: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  border-right: 2px solid;\r\n  border-color: var(--button-border);\r\n}\r\n\r\n.avatar-image {\r\n  width: 160px;\r\n  height: 160px;\r\n  background-color: #ccc;\r\n  margin-top: 24px;\r\n  border-radius: 2px 2px 0 0;\r\n  background-size: 160px 160px;\r\n}\r\n\r\n.avatar-button-picker {\r\n  width: 160px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.avatar-name {\r\n  margin-top: 16px;\r\n  font-size: 20px;\r\n}\r\n\r\n.avatar-code {\r\n  font-size: 14px;\r\n  margin-top: 4px;\r\n}\r\n\r\n.dialog-content {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #fff;\r\n}\r\n\r\n.dialog-body {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.dialog-body-text {\r\n  background-color: #fff;\r\n  font-family: OpenSans-Semibold;\r\n  font-size: 20px;\r\n  width: 400px;\r\n  height: 26px;\r\n  margin-top: 18px;\r\n  margin-left: 32px;\r\n}\r\n\r\n.dialog-body-item {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 24px;\r\n  margin-top: 24px;\r\n  height: 32px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.body-item-text {\r\n  color: #8d8d8d;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.body-item-input {\r\n  width: 200px;\r\n}\r\n\r\n.body-row {\r\n  width: 100%;\r\n  display: flex;\r\n  margin-right: 24px;\r\n  position: relative;\r\n}\r\n\r\n.body-col-left .body-item-text {\r\n  width: 104px;\r\n}\r\n\r\n.body-col-right .body-item-text {\r\n  width: 86px;\r\n}\r\n\r\n.row-item-checkbox {\r\n  color: var(--button-black-text);\r\n  margin-left: 8px;\r\n}\r\n\r\n.dialog-footer {\r\n  width: 100%;\r\n  height: 60px;\r\n  display: flex;\r\n  position: relative;\r\n}\r\n\r\n#btnPickImage {\r\n  border-radius: 0 0 2px 2px;\r\n}\r\n\r\n#btnClose {\r\n  position: absolute;\r\n  right: 128px;\r\n  top: 14px;\r\n}\r\n\r\n#btnSave {\r\n  position: absolute;\r\n  right: 24px;\r\n  top: 14px;\r\n}\r\n\r\n#dtDayOff {\r\n  width: 150px;\r\n  padding: 0 16px;\r\n}\r\n\r\n#btnDialogClose {\r\n  width: 24px;\r\n  height: 24px;\r\n  position: absolute;\r\n  right: 8px;\r\n  top: 8px;\r\n  cursor: pointer;\r\n}\r\n\r\n.select {\r\n  display: flex;\r\n  width: 200px;\r\n  height: 32px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.select select {\r\n  width: 200px;\r\n  height: 32px;\r\n  border: 1px solid;\r\n  border-color: var(--button-border);\r\n  border-radius: 4px;\r\n  padding: 0 8px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.select select:focus {\r\n  border-color: #08bf1e;\r\n}\r\n\r\n#storageManagement {\r\n  width: 510px;\r\n}\r\n\r\n#storageManagement select {\r\n  width: 510px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}
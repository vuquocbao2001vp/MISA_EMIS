{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/components/tracker.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { eventData as _eventData } from \"../../events/utils/index\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport { name as clickEventName } from \"../../events/click\";\nimport pointer from \"../../events/pointer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nvar downPointerEventName = pointer.down;\nvar movePointerEventName = pointer.move;\nexport function Tracker(parameters) {\n  this._initHandlers(parameters);\n}\nTracker.prototype = {\n  constructor: Tracker,\n  _initHandlers: function (parameters) {\n    var document = domAdapter.getDocument();\n\n    parameters.getCoords = function (e) {\n      var data = _eventData(e);\n\n      var offset = parameters.widget._renderer.getRootOffset();\n\n      return [data.x - offset.left, data.y - offset.top];\n    };\n\n    parameters.root.on(clickEventName, clickHandler);\n    parameters.root.on(downPointerEventName, downHandler);\n    eventsEngine.on(document, downPointerEventName, downHandler);\n    eventsEngine.on(document, movePointerEventName, moveHandler);\n\n    this._disposeHandlers = function () {\n      parameters.root.off(clickEventName, clickHandler);\n      parameters.root.off(downPointerEventName, downHandler);\n      eventsEngine.off(document, downPointerEventName, downHandler);\n      eventsEngine.off(document, movePointerEventName, moveHandler);\n    };\n\n    function clickHandler(e) {\n      processClick(e, parameters);\n    }\n\n    var isRootDown = false;\n\n    function downHandler(e) {\n      if (isRootDown) {\n        isRootDown = false;\n      } else {\n        if (void 0 !== parameters.getData(e)) {\n          isRootDown = true;\n        }\n\n        moveHandler(e);\n      }\n    }\n\n    function moveHandler(e) {\n      processHover(e, parameters);\n      parameters.widget._getOption(\"tooltip\").enabled && processTooltip(e, parameters);\n    }\n  },\n  dispose: function () {\n    this._disposeHandlers();\n  }\n};\n\nfunction processClick(e, params) {\n  var id = params.getData(e);\n\n  if (id >= 0) {\n    params.click({\n      node: params.getNode(id),\n      coords: params.getCoords(e),\n      event: e\n    });\n  }\n}\n\nfunction processHover(e, params) {\n  var id = params.getData(e);\n\n  if (id >= 0) {\n    params.getNode(id).setHover();\n  } else {\n    params.widget.clearHover();\n  }\n}\n\nfunction processTooltip(e, params) {\n  var id = params.getData(e, true);\n  var coords;\n\n  if (id >= 0) {\n    coords = _eventData(e);\n    params.getNode(id).showTooltip([coords.x, coords.y]);\n  } else {\n    params.widget.hideTooltip();\n  }\n}","map":{"version":3,"names":["eventData","_eventData","domAdapter","name","clickEventName","pointer","eventsEngine","downPointerEventName","down","movePointerEventName","move","Tracker","parameters","_initHandlers","prototype","constructor","document","getDocument","getCoords","e","data","offset","widget","_renderer","getRootOffset","x","left","y","top","root","on","clickHandler","downHandler","moveHandler","_disposeHandlers","off","processClick","isRootDown","getData","processHover","_getOption","enabled","processTooltip","dispose","params","id","click","node","getNode","coords","event","setHover","clearHover","showTooltip","hideTooltip"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/components/tracker.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/components/tracker.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    eventData as _eventData\r\n} from \"../../events/utils/index\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport pointer from \"../../events/pointer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nvar downPointerEventName = pointer.down;\r\nvar movePointerEventName = pointer.move;\r\nexport function Tracker(parameters) {\r\n    this._initHandlers(parameters)\r\n}\r\nTracker.prototype = {\r\n    constructor: Tracker,\r\n    _initHandlers: function(parameters) {\r\n        var document = domAdapter.getDocument();\r\n        parameters.getCoords = function(e) {\r\n            var data = _eventData(e);\r\n            var offset = parameters.widget._renderer.getRootOffset();\r\n            return [data.x - offset.left, data.y - offset.top]\r\n        };\r\n        parameters.root.on(clickEventName, clickHandler);\r\n        parameters.root.on(downPointerEventName, downHandler);\r\n        eventsEngine.on(document, downPointerEventName, downHandler);\r\n        eventsEngine.on(document, movePointerEventName, moveHandler);\r\n        this._disposeHandlers = function() {\r\n            parameters.root.off(clickEventName, clickHandler);\r\n            parameters.root.off(downPointerEventName, downHandler);\r\n            eventsEngine.off(document, downPointerEventName, downHandler);\r\n            eventsEngine.off(document, movePointerEventName, moveHandler)\r\n        };\r\n\r\n        function clickHandler(e) {\r\n            processClick(e, parameters)\r\n        }\r\n        var isRootDown = false;\r\n\r\n        function downHandler(e) {\r\n            if (isRootDown) {\r\n                isRootDown = false\r\n            } else {\r\n                if (void 0 !== parameters.getData(e)) {\r\n                    isRootDown = true\r\n                }\r\n                moveHandler(e)\r\n            }\r\n        }\r\n\r\n        function moveHandler(e) {\r\n            processHover(e, parameters);\r\n            parameters.widget._getOption(\"tooltip\").enabled && processTooltip(e, parameters)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._disposeHandlers()\r\n    }\r\n};\r\n\r\nfunction processClick(e, params) {\r\n    var id = params.getData(e);\r\n    if (id >= 0) {\r\n        params.click({\r\n            node: params.getNode(id),\r\n            coords: params.getCoords(e),\r\n            event: e\r\n        })\r\n    }\r\n}\r\n\r\nfunction processHover(e, params) {\r\n    var id = params.getData(e);\r\n    if (id >= 0) {\r\n        params.getNode(id).setHover()\r\n    } else {\r\n        params.widget.clearHover()\r\n    }\r\n}\r\n\r\nfunction processTooltip(e, params) {\r\n    var id = params.getData(e, true);\r\n    var coords;\r\n    if (id >= 0) {\r\n        coords = _eventData(e);\r\n        params.getNode(id).showTooltip([coords.x, coords.y])\r\n    } else {\r\n        params.widget.hideTooltip()\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
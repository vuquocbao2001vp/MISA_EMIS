{"ast":null,"code":"/**\r\n * DevExtreme (esm/file_management/custom_provider.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { ensureDefined, noop } from \"../core/utils/common\";\nimport { isFunction } from \"../core/utils/type\";\nimport { compileGetter } from \"../core/utils/data\";\nimport FileSystemProviderBase from \"./provider_base\";\n\nclass CustomFileSystemProvider extends FileSystemProviderBase {\n  constructor(options) {\n    options = ensureDefined(options, {});\n    super(options);\n    this._hasSubDirsGetter = compileGetter(options.hasSubDirectoriesExpr || \"hasSubDirectories\");\n    this._getItemsFunction = this._ensureFunction(options.getItems, () => []);\n    this._renameItemFunction = this._ensureFunction(options.renameItem);\n    this._createDirectoryFunction = this._ensureFunction(options.createDirectory);\n    this._deleteItemFunction = this._ensureFunction(options.deleteItem);\n    this._moveItemFunction = this._ensureFunction(options.moveItem);\n    this._copyItemFunction = this._ensureFunction(options.copyItem);\n    this._uploadFileChunkFunction = this._ensureFunction(options.uploadFileChunk);\n    this._abortFileUploadFunction = this._ensureFunction(options.abortFileUpload);\n    this._downloadItemsFunction = this._ensureFunction(options.downloadItems);\n    this._getItemsContentFunction = this._ensureFunction(options.getItemsContent);\n  }\n\n  getItems(parentDir) {\n    var pathInfo = parentDir.getFullPathInfo();\n    return this._executeActionAsDeferred(() => this._getItemsFunction(parentDir), true).then(dataItems => this._convertDataObjectsToFileItems(dataItems, pathInfo));\n  }\n\n  renameItem(item, name) {\n    return this._executeActionAsDeferred(() => this._renameItemFunction(item, name));\n  }\n\n  createDirectory(parentDir, name) {\n    return this._executeActionAsDeferred(() => this._createDirectoryFunction(parentDir, name));\n  }\n\n  deleteItems(items) {\n    return items.map(item => this._executeActionAsDeferred(() => this._deleteItemFunction(item)));\n  }\n\n  moveItems(items, destinationDirectory) {\n    return items.map(item => this._executeActionAsDeferred(() => this._moveItemFunction(item, destinationDirectory)));\n  }\n\n  copyItems(items, destinationFolder) {\n    return items.map(item => this._executeActionAsDeferred(() => this._copyItemFunction(item, destinationFolder)));\n  }\n\n  uploadFileChunk(fileData, chunksInfo, destinationDirectory) {\n    return this._executeActionAsDeferred(() => this._uploadFileChunkFunction(fileData, chunksInfo, destinationDirectory));\n  }\n\n  abortFileUpload(fileData, chunksInfo, destinationDirectory) {\n    return this._executeActionAsDeferred(() => this._abortFileUploadFunction(fileData, chunksInfo, destinationDirectory));\n  }\n\n  downloadItems(items) {\n    return this._executeActionAsDeferred(() => this._downloadItemsFunction(items));\n  }\n\n  getItemsContent(items) {\n    return this._executeActionAsDeferred(() => this._getItemsContentFunction(items));\n  }\n\n  _hasSubDirs(dataObj) {\n    var hasSubDirs = this._hasSubDirsGetter(dataObj);\n\n    return \"boolean\" === typeof hasSubDirs ? hasSubDirs : true;\n  }\n\n  _getKeyExpr(options) {\n    return options.keyExpr || \"key\";\n  }\n\n  _ensureFunction(functionObject, defaultFunction) {\n    defaultFunction = defaultFunction || noop;\n    return isFunction(functionObject) ? functionObject : defaultFunction;\n  }\n\n}\n\nexport default CustomFileSystemProvider;","map":{"version":3,"names":["ensureDefined","noop","isFunction","compileGetter","FileSystemProviderBase","CustomFileSystemProvider","constructor","options","_hasSubDirsGetter","hasSubDirectoriesExpr","_getItemsFunction","_ensureFunction","getItems","_renameItemFunction","renameItem","_createDirectoryFunction","createDirectory","_deleteItemFunction","deleteItem","_moveItemFunction","moveItem","_copyItemFunction","copyItem","_uploadFileChunkFunction","uploadFileChunk","_abortFileUploadFunction","abortFileUpload","_downloadItemsFunction","downloadItems","_getItemsContentFunction","getItemsContent","parentDir","pathInfo","getFullPathInfo","_executeActionAsDeferred","then","dataItems","_convertDataObjectsToFileItems","item","name","deleteItems","items","map","moveItems","destinationDirectory","copyItems","destinationFolder","fileData","chunksInfo","_hasSubDirs","dataObj","hasSubDirs","_getKeyExpr","keyExpr","functionObject","defaultFunction"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/file_management/custom_provider.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/file_management/custom_provider.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    ensureDefined,\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport {\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    compileGetter\r\n} from \"../core/utils/data\";\r\nimport FileSystemProviderBase from \"./provider_base\";\r\nclass CustomFileSystemProvider extends FileSystemProviderBase {\r\n    constructor(options) {\r\n        options = ensureDefined(options, {});\r\n        super(options);\r\n        this._hasSubDirsGetter = compileGetter(options.hasSubDirectoriesExpr || \"hasSubDirectories\");\r\n        this._getItemsFunction = this._ensureFunction(options.getItems, () => []);\r\n        this._renameItemFunction = this._ensureFunction(options.renameItem);\r\n        this._createDirectoryFunction = this._ensureFunction(options.createDirectory);\r\n        this._deleteItemFunction = this._ensureFunction(options.deleteItem);\r\n        this._moveItemFunction = this._ensureFunction(options.moveItem);\r\n        this._copyItemFunction = this._ensureFunction(options.copyItem);\r\n        this._uploadFileChunkFunction = this._ensureFunction(options.uploadFileChunk);\r\n        this._abortFileUploadFunction = this._ensureFunction(options.abortFileUpload);\r\n        this._downloadItemsFunction = this._ensureFunction(options.downloadItems);\r\n        this._getItemsContentFunction = this._ensureFunction(options.getItemsContent)\r\n    }\r\n    getItems(parentDir) {\r\n        var pathInfo = parentDir.getFullPathInfo();\r\n        return this._executeActionAsDeferred(() => this._getItemsFunction(parentDir), true).then(dataItems => this._convertDataObjectsToFileItems(dataItems, pathInfo))\r\n    }\r\n    renameItem(item, name) {\r\n        return this._executeActionAsDeferred(() => this._renameItemFunction(item, name))\r\n    }\r\n    createDirectory(parentDir, name) {\r\n        return this._executeActionAsDeferred(() => this._createDirectoryFunction(parentDir, name))\r\n    }\r\n    deleteItems(items) {\r\n        return items.map(item => this._executeActionAsDeferred(() => this._deleteItemFunction(item)))\r\n    }\r\n    moveItems(items, destinationDirectory) {\r\n        return items.map(item => this._executeActionAsDeferred(() => this._moveItemFunction(item, destinationDirectory)))\r\n    }\r\n    copyItems(items, destinationFolder) {\r\n        return items.map(item => this._executeActionAsDeferred(() => this._copyItemFunction(item, destinationFolder)))\r\n    }\r\n    uploadFileChunk(fileData, chunksInfo, destinationDirectory) {\r\n        return this._executeActionAsDeferred(() => this._uploadFileChunkFunction(fileData, chunksInfo, destinationDirectory))\r\n    }\r\n    abortFileUpload(fileData, chunksInfo, destinationDirectory) {\r\n        return this._executeActionAsDeferred(() => this._abortFileUploadFunction(fileData, chunksInfo, destinationDirectory))\r\n    }\r\n    downloadItems(items) {\r\n        return this._executeActionAsDeferred(() => this._downloadItemsFunction(items))\r\n    }\r\n    getItemsContent(items) {\r\n        return this._executeActionAsDeferred(() => this._getItemsContentFunction(items))\r\n    }\r\n    _hasSubDirs(dataObj) {\r\n        var hasSubDirs = this._hasSubDirsGetter(dataObj);\r\n        return \"boolean\" === typeof hasSubDirs ? hasSubDirs : true\r\n    }\r\n    _getKeyExpr(options) {\r\n        return options.keyExpr || \"key\"\r\n    }\r\n    _ensureFunction(functionObject, defaultFunction) {\r\n        defaultFunction = defaultFunction || noop;\r\n        return isFunction(functionObject) ? functionObject : defaultFunction\r\n    }\r\n}\r\nexport default CustomFileSystemProvider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
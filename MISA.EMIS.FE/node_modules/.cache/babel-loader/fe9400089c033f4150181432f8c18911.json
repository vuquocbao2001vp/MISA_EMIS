{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/sankey/tooltip.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extend as _extend } from \"../../core/utils/extend\";\nimport { isFunction } from \"../../core/utils/type\";\n\nvar defaultCustomizeLinkTooltip = formatter => function (info) {\n  return {\n    html: \"<strong>\".concat(info.source, \" > \").concat(info.target, \"</strong><br/>Weight: \").concat(formatter(info.weight))\n  };\n};\n\nvar defaultCustomizeNodeTooltip = formatter => function (info) {\n  return {\n    html: \"<strong>\".concat(info.label, \"</strong><br/>Incoming weight: \").concat(formatter(info.weightIn), \"<br/>Outgoing weight: \").concat(formatter(info.weightOut))\n  };\n};\n\nvar generateCustomCallback = function (customCallback, defaultCallback) {\n  return function (objectInfo) {\n    var res = isFunction(customCallback) ? customCallback.call(objectInfo, objectInfo) : {};\n    var hasOwnProperty = Object.prototype.hasOwnProperty.bind(res);\n\n    if (!hasOwnProperty(\"html\") && !hasOwnProperty(\"text\")) {\n      res = _extend(res, defaultCallback.call(objectInfo, objectInfo));\n    }\n\n    return res;\n  };\n};\n\nexport function setTooltipCustomOptions(sankey) {\n  sankey.prototype._setTooltipOptions = function () {\n    var tooltip = this._tooltip;\n\n    var options = tooltip && this._getOption(\"tooltip\");\n\n    var linkTemplate;\n    var nodeTemplate;\n\n    if (options.linkTooltipTemplate) {\n      linkTemplate = this._getTemplate(options.linkTooltipTemplate);\n    }\n\n    if (options.nodeTooltipTemplate) {\n      nodeTemplate = this._getTemplate(options.nodeTooltipTemplate);\n    }\n\n    tooltip && tooltip.update(_extend({}, options, {\n      customizeTooltip: function (args) {\n        if (!(linkTemplate && \"link\" === args.type || nodeTemplate && \"node\" === args.type)) {\n          args.skipTemplate = true;\n        }\n\n        var formatter = value => tooltip.formatValue(value);\n\n        if (\"node\" === args.type) {\n          return generateCustomCallback(options.customizeNodeTooltip, defaultCustomizeNodeTooltip(formatter))(args.info);\n        } else if (\"link\" === args.type) {\n          return generateCustomCallback(options.customizeLinkTooltip, defaultCustomizeLinkTooltip(formatter))(args.info);\n        }\n\n        return {};\n      },\n\n      contentTemplate(arg, div) {\n        var templateArgs = {\n          model: arg.info,\n          container: div\n        };\n\n        if (linkTemplate && \"link\" === arg.type) {\n          return linkTemplate.render(templateArgs);\n        }\n\n        if (nodeTemplate && \"node\" === arg.type) {\n          return nodeTemplate.render(templateArgs);\n        }\n      },\n\n      enabled: options.enabled\n    }));\n  };\n\n  sankey.prototype.hideTooltip = function () {\n    this._tooltip && this._tooltip.hide();\n  };\n}","map":{"version":3,"names":["extend","_extend","isFunction","defaultCustomizeLinkTooltip","formatter","info","html","concat","source","target","weight","defaultCustomizeNodeTooltip","label","weightIn","weightOut","generateCustomCallback","customCallback","defaultCallback","objectInfo","res","call","hasOwnProperty","Object","prototype","bind","setTooltipCustomOptions","sankey","_setTooltipOptions","tooltip","_tooltip","options","_getOption","linkTemplate","nodeTemplate","linkTooltipTemplate","_getTemplate","nodeTooltipTemplate","update","customizeTooltip","args","type","skipTemplate","value","formatValue","customizeNodeTooltip","customizeLinkTooltip","contentTemplate","arg","div","templateArgs","model","container","render","enabled","hideTooltip","hide"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/sankey/tooltip.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/sankey/tooltip.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend as _extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nvar defaultCustomizeLinkTooltip = formatter => function(info) {\r\n    return {\r\n        html: \"<strong>\".concat(info.source, \" > \").concat(info.target, \"</strong><br/>Weight: \").concat(formatter(info.weight))\r\n    }\r\n};\r\nvar defaultCustomizeNodeTooltip = formatter => function(info) {\r\n    return {\r\n        html: \"<strong>\".concat(info.label, \"</strong><br/>Incoming weight: \").concat(formatter(info.weightIn), \"<br/>Outgoing weight: \").concat(formatter(info.weightOut))\r\n    }\r\n};\r\nvar generateCustomCallback = function(customCallback, defaultCallback) {\r\n    return function(objectInfo) {\r\n        var res = isFunction(customCallback) ? customCallback.call(objectInfo, objectInfo) : {};\r\n        var hasOwnProperty = Object.prototype.hasOwnProperty.bind(res);\r\n        if (!hasOwnProperty(\"html\") && !hasOwnProperty(\"text\")) {\r\n            res = _extend(res, defaultCallback.call(objectInfo, objectInfo))\r\n        }\r\n        return res\r\n    }\r\n};\r\nexport function setTooltipCustomOptions(sankey) {\r\n    sankey.prototype._setTooltipOptions = function() {\r\n        var tooltip = this._tooltip;\r\n        var options = tooltip && this._getOption(\"tooltip\");\r\n        var linkTemplate;\r\n        var nodeTemplate;\r\n        if (options.linkTooltipTemplate) {\r\n            linkTemplate = this._getTemplate(options.linkTooltipTemplate)\r\n        }\r\n        if (options.nodeTooltipTemplate) {\r\n            nodeTemplate = this._getTemplate(options.nodeTooltipTemplate)\r\n        }\r\n        tooltip && tooltip.update(_extend({}, options, {\r\n            customizeTooltip: function(args) {\r\n                if (!(linkTemplate && \"link\" === args.type || nodeTemplate && \"node\" === args.type)) {\r\n                    args.skipTemplate = true\r\n                }\r\n                var formatter = value => tooltip.formatValue(value);\r\n                if (\"node\" === args.type) {\r\n                    return generateCustomCallback(options.customizeNodeTooltip, defaultCustomizeNodeTooltip(formatter))(args.info)\r\n                } else if (\"link\" === args.type) {\r\n                    return generateCustomCallback(options.customizeLinkTooltip, defaultCustomizeLinkTooltip(formatter))(args.info)\r\n                }\r\n                return {}\r\n            },\r\n            contentTemplate(arg, div) {\r\n                var templateArgs = {\r\n                    model: arg.info,\r\n                    container: div\r\n                };\r\n                if (linkTemplate && \"link\" === arg.type) {\r\n                    return linkTemplate.render(templateArgs)\r\n                }\r\n                if (nodeTemplate && \"node\" === arg.type) {\r\n                    return nodeTemplate.render(templateArgs)\r\n                }\r\n            },\r\n            enabled: options.enabled\r\n        }))\r\n    };\r\n    sankey.prototype.hideTooltip = function() {\r\n        this._tooltip && this._tooltip.hide()\r\n    }\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,MAAM,IAAIC,OADd,QAEO,yBAFP;AAGA,SACIC,UADJ,QAEO,uBAFP;;AAGA,IAAIC,2BAA2B,GAAGC,SAAS,IAAI,UAASC,IAAT,EAAe;EAC1D,OAAO;IACHC,IAAI,EAAE,WAAWC,MAAX,CAAkBF,IAAI,CAACG,MAAvB,EAA+B,KAA/B,EAAsCD,MAAtC,CAA6CF,IAAI,CAACI,MAAlD,EAA0D,wBAA1D,EAAoFF,MAApF,CAA2FH,SAAS,CAACC,IAAI,CAACK,MAAN,CAApG;EADH,CAAP;AAGH,CAJD;;AAKA,IAAIC,2BAA2B,GAAGP,SAAS,IAAI,UAASC,IAAT,EAAe;EAC1D,OAAO;IACHC,IAAI,EAAE,WAAWC,MAAX,CAAkBF,IAAI,CAACO,KAAvB,EAA8B,iCAA9B,EAAiEL,MAAjE,CAAwEH,SAAS,CAACC,IAAI,CAACQ,QAAN,CAAjF,EAAkG,wBAAlG,EAA4HN,MAA5H,CAAmIH,SAAS,CAACC,IAAI,CAACS,SAAN,CAA5I;EADH,CAAP;AAGH,CAJD;;AAKA,IAAIC,sBAAsB,GAAG,UAASC,cAAT,EAAyBC,eAAzB,EAA0C;EACnE,OAAO,UAASC,UAAT,EAAqB;IACxB,IAAIC,GAAG,GAAGjB,UAAU,CAACc,cAAD,CAAV,GAA6BA,cAAc,CAACI,IAAf,CAAoBF,UAApB,EAAgCA,UAAhC,CAA7B,GAA2E,EAArF;IACA,IAAIG,cAAc,GAAGC,MAAM,CAACC,SAAP,CAAiBF,cAAjB,CAAgCG,IAAhC,CAAqCL,GAArC,CAArB;;IACA,IAAI,CAACE,cAAc,CAAC,MAAD,CAAf,IAA2B,CAACA,cAAc,CAAC,MAAD,CAA9C,EAAwD;MACpDF,GAAG,GAAGlB,OAAO,CAACkB,GAAD,EAAMF,eAAe,CAACG,IAAhB,CAAqBF,UAArB,EAAiCA,UAAjC,CAAN,CAAb;IACH;;IACD,OAAOC,GAAP;EACH,CAPD;AAQH,CATD;;AAUA,OAAO,SAASM,uBAAT,CAAiCC,MAAjC,EAAyC;EAC5CA,MAAM,CAACH,SAAP,CAAiBI,kBAAjB,GAAsC,YAAW;IAC7C,IAAIC,OAAO,GAAG,KAAKC,QAAnB;;IACA,IAAIC,OAAO,GAAGF,OAAO,IAAI,KAAKG,UAAL,CAAgB,SAAhB,CAAzB;;IACA,IAAIC,YAAJ;IACA,IAAIC,YAAJ;;IACA,IAAIH,OAAO,CAACI,mBAAZ,EAAiC;MAC7BF,YAAY,GAAG,KAAKG,YAAL,CAAkBL,OAAO,CAACI,mBAA1B,CAAf;IACH;;IACD,IAAIJ,OAAO,CAACM,mBAAZ,EAAiC;MAC7BH,YAAY,GAAG,KAAKE,YAAL,CAAkBL,OAAO,CAACM,mBAA1B,CAAf;IACH;;IACDR,OAAO,IAAIA,OAAO,CAACS,MAAR,CAAepC,OAAO,CAAC,EAAD,EAAK6B,OAAL,EAAc;MAC3CQ,gBAAgB,EAAE,UAASC,IAAT,EAAe;QAC7B,IAAI,EAAEP,YAAY,IAAI,WAAWO,IAAI,CAACC,IAAhC,IAAwCP,YAAY,IAAI,WAAWM,IAAI,CAACC,IAA1E,CAAJ,EAAqF;UACjFD,IAAI,CAACE,YAAL,GAAoB,IAApB;QACH;;QACD,IAAIrC,SAAS,GAAGsC,KAAK,IAAId,OAAO,CAACe,WAAR,CAAoBD,KAApB,CAAzB;;QACA,IAAI,WAAWH,IAAI,CAACC,IAApB,EAA0B;UACtB,OAAOzB,sBAAsB,CAACe,OAAO,CAACc,oBAAT,EAA+BjC,2BAA2B,CAACP,SAAD,CAA1D,CAAtB,CAA6FmC,IAAI,CAAClC,IAAlG,CAAP;QACH,CAFD,MAEO,IAAI,WAAWkC,IAAI,CAACC,IAApB,EAA0B;UAC7B,OAAOzB,sBAAsB,CAACe,OAAO,CAACe,oBAAT,EAA+B1C,2BAA2B,CAACC,SAAD,CAA1D,CAAtB,CAA6FmC,IAAI,CAAClC,IAAlG,CAAP;QACH;;QACD,OAAO,EAAP;MACH,CAZ0C;;MAa3CyC,eAAe,CAACC,GAAD,EAAMC,GAAN,EAAW;QACtB,IAAIC,YAAY,GAAG;UACfC,KAAK,EAAEH,GAAG,CAAC1C,IADI;UAEf8C,SAAS,EAAEH;QAFI,CAAnB;;QAIA,IAAIhB,YAAY,IAAI,WAAWe,GAAG,CAACP,IAAnC,EAAyC;UACrC,OAAOR,YAAY,CAACoB,MAAb,CAAoBH,YAApB,CAAP;QACH;;QACD,IAAIhB,YAAY,IAAI,WAAWc,GAAG,CAACP,IAAnC,EAAyC;UACrC,OAAOP,YAAY,CAACmB,MAAb,CAAoBH,YAApB,CAAP;QACH;MACJ,CAxB0C;;MAyB3CI,OAAO,EAAEvB,OAAO,CAACuB;IAzB0B,CAAd,CAAtB,CAAX;EA2BH,CAtCD;;EAuCA3B,MAAM,CAACH,SAAP,CAAiB+B,WAAjB,GAA+B,YAAW;IACtC,KAAKzB,QAAL,IAAiB,KAAKA,QAAL,CAAc0B,IAAd,EAAjB;EACH,CAFD;AAGH"},"metadata":{},"sourceType":"module"}
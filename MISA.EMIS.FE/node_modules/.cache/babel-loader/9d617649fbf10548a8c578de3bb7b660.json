{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editor_factory.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { setOuterWidth, getOuterWidth, setOuterHeight, getOuterHeight } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport modules from \"./ui.grid_core.modules\";\nimport { name as clickEventName } from \"../../events/click\";\nimport pointerEvents from \"../../events/pointer\";\nimport positionUtils from \"../../animation/position\";\nimport { addNamespace, normalizeKeyName } from \"../../events/utils/index\";\nimport browser from \"../../core/utils/browser\";\nimport { extend } from \"../../core/utils/extend\";\nimport { getBoundingRect } from \"../../core/utils/position\";\nimport EditorFactoryMixin from \"../shared/ui.editor_factory_mixin\";\nimport gridCoreUtils from \"./ui.grid_core.utils\";\nvar EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\nvar FOCUS_OVERLAY_CLASS = \"focus-overlay\";\nvar CONTENT_CLASS = \"content\";\nvar FOCUSED_ELEMENT_CLASS = \"dx-focused\";\nvar ROW_CLASS = \"dx-row\";\nvar MODULE_NAMESPACE = \"dxDataGridEditorFactory\";\nvar UPDATE_FOCUS_EVENTS = addNamespace([pointerEvents.down, \"focusin\", clickEventName].join(\" \"), MODULE_NAMESPACE);\nvar DX_HIDDEN = \"dx-hidden\";\nvar EditorFactory = modules.ViewController.inherit({\n  _getFocusedElement: function ($dataGridElement) {\n    var rowSelector = this.option(\"focusedRowEnabled\") ? \"tr[tabindex]:focus\" : \"tr[tabindex]:not(.dx-data-row):focus\";\n    var focusedElementSelector = \"td[tabindex]:focus, \".concat(rowSelector, \", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus\");\n    var $focusedElement = $dataGridElement.find(focusedElementSelector);\n    return this.elementIsInsideGrid($focusedElement) && $focusedElement;\n  },\n  _getFocusCellSelector: function () {\n    return \".dx-row > td\";\n  },\n  _updateFocusCore: function () {\n    var $focus = this._$focusedElement;\n    var $dataGridElement = this.component && this.component.$element();\n    var $focusCell;\n    var hideBorders;\n\n    if ($dataGridElement) {\n      $focus = this._getFocusedElement($dataGridElement);\n\n      if ($focus && $focus.length) {\n        if (!$focus.hasClass(CELL_FOCUS_DISABLED_CLASS) && !$focus.hasClass(ROW_CLASS)) {\n          $focusCell = $focus.closest(this._getFocusCellSelector() + \", .\" + CELL_FOCUS_DISABLED_CLASS);\n          hideBorders = $focusCell.get(0) !== $focus.get(0) && $focusCell.hasClass(EDITOR_INLINE_BLOCK);\n          $focus = $focusCell;\n        }\n\n        if ($focus.length && !$focus.hasClass(CELL_FOCUS_DISABLED_CLASS)) {\n          this.focus($focus, hideBorders);\n          return;\n        }\n      }\n    }\n\n    this.loseFocus();\n  },\n  _updateFocus: function (e) {\n    var that = this;\n    var isFocusOverlay = e && e.event && $(e.event.target).hasClass(that.addWidgetPrefix(FOCUS_OVERLAY_CLASS));\n    that._isFocusOverlay = that._isFocusOverlay || isFocusOverlay;\n    clearTimeout(that._updateFocusTimeoutID);\n    that._updateFocusTimeoutID = setTimeout(function () {\n      delete that._updateFocusTimeoutID;\n\n      if (!that._isFocusOverlay) {\n        that._updateFocusCore();\n      }\n\n      that._isFocusOverlay = false;\n    });\n  },\n  _updateFocusOverlaySize: function ($element, position) {\n    $element.hide();\n    var location = positionUtils.calculate($element, extend({\n      collision: \"fit\"\n    }, position));\n\n    if (location.h.oversize > 0) {\n      setOuterWidth($element, getOuterWidth($element) - location.h.oversize);\n    }\n\n    if (location.v.oversize > 0) {\n      setOuterHeight($element, getOuterHeight($element) - location.v.oversize);\n    }\n\n    $element.show();\n  },\n  callbackNames: function () {\n    return [\"focused\"];\n  },\n  focus: function ($element, hideBorder) {\n    var that = this;\n\n    if (void 0 === $element) {\n      return that._$focusedElement;\n    } else if ($element) {\n      if (!$element.is(that._$focusedElement)) {\n        that._$focusedElement && that._$focusedElement.removeClass(FOCUSED_ELEMENT_CLASS);\n      }\n\n      that._$focusedElement = $element;\n      clearTimeout(that._focusTimeoutID);\n      that._focusTimeoutID = setTimeout(function () {\n        delete that._focusTimeoutID;\n        that.renderFocusOverlay($element, hideBorder);\n        $element.addClass(FOCUSED_ELEMENT_CLASS);\n        that.focused.fire($element);\n      });\n    }\n  },\n  refocus: function () {\n    var $focus = this.focus();\n    this.focus($focus);\n  },\n  renderFocusOverlay: function ($element, hideBorder) {\n    if (!gridCoreUtils.isElementInCurrentGrid(this, $element)) {\n      return;\n    }\n\n    if (!this._$focusOverlay) {\n      this._$focusOverlay = $(\"<div>\").addClass(this.addWidgetPrefix(FOCUS_OVERLAY_CLASS));\n    }\n\n    if (hideBorder) {\n      this._$focusOverlay.addClass(DX_HIDDEN);\n    } else if ($element.length) {\n      var align = browser.mozilla ? \"right bottom\" : \"left top\";\n      var $content = $element.closest(\".\" + this.addWidgetPrefix(CONTENT_CLASS));\n      var elemCoord = getBoundingRect($element.get(0));\n\n      this._$focusOverlay.removeClass(DX_HIDDEN).appendTo($content);\n\n      setOuterHeight(this._$focusOverlay, elemCoord.bottom - elemCoord.top + 1);\n      setOuterWidth(this._$focusOverlay, elemCoord.right - elemCoord.left + 1);\n      var focusOverlayPosition = {\n        precise: true,\n        my: align,\n        at: align,\n        of: $element,\n        boundary: $content.length && $content\n      };\n\n      this._updateFocusOverlaySize(this._$focusOverlay, focusOverlayPosition);\n\n      positionUtils.setup(this._$focusOverlay, focusOverlayPosition);\n\n      this._$focusOverlay.css(\"visibility\", \"visible\");\n    }\n  },\n  resize: function () {\n    var $focusedElement = this._$focusedElement;\n\n    if ($focusedElement) {\n      this.focus($focusedElement);\n    }\n  },\n  loseFocus: function () {\n    this._$focusedElement && this._$focusedElement.removeClass(FOCUSED_ELEMENT_CLASS);\n    this._$focusedElement = null;\n    this._$focusOverlay && this._$focusOverlay.addClass(DX_HIDDEN);\n  },\n  init: function () {\n    this.createAction(\"onEditorPreparing\", {\n      excludeValidators: [\"disabled\", \"readOnly\"],\n      category: \"rendering\"\n    });\n    this.createAction(\"onEditorPrepared\", {\n      excludeValidators: [\"disabled\", \"readOnly\"],\n      category: \"rendering\"\n    });\n    this._updateFocusHandler = this._updateFocusHandler || this.createAction(this._updateFocus.bind(this));\n    eventsEngine.on(domAdapter.getDocument(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler);\n\n    this._attachContainerEventHandlers();\n  },\n  _attachContainerEventHandlers: function () {\n    var that = this;\n    var $container = that.component && that.component.$element();\n\n    if ($container) {\n      eventsEngine.on($container, addNamespace(\"keydown\", MODULE_NAMESPACE), function (e) {\n        if (\"tab\" === normalizeKeyName(e)) {\n          that._updateFocusHandler(e);\n        }\n      });\n    }\n  },\n  dispose: function () {\n    clearTimeout(this._focusTimeoutID);\n    clearTimeout(this._updateFocusTimeoutID);\n    eventsEngine.off(domAdapter.getDocument(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler);\n  }\n}).include(EditorFactoryMixin);\nexport var editorFactoryModule = {\n  defaultOptions: function () {\n    return {};\n  },\n  controllers: {\n    editorFactory: EditorFactory\n  }\n};","map":{"version":3,"names":["setOuterWidth","getOuterWidth","setOuterHeight","getOuterHeight","$","domAdapter","eventsEngine","modules","name","clickEventName","pointerEvents","positionUtils","addNamespace","normalizeKeyName","browser","extend","getBoundingRect","EditorFactoryMixin","gridCoreUtils","EDITOR_INLINE_BLOCK","CELL_FOCUS_DISABLED_CLASS","FOCUS_OVERLAY_CLASS","CONTENT_CLASS","FOCUSED_ELEMENT_CLASS","ROW_CLASS","MODULE_NAMESPACE","UPDATE_FOCUS_EVENTS","down","join","DX_HIDDEN","EditorFactory","ViewController","inherit","_getFocusedElement","$dataGridElement","rowSelector","option","focusedElementSelector","concat","$focusedElement","find","elementIsInsideGrid","_getFocusCellSelector","_updateFocusCore","$focus","_$focusedElement","component","$element","$focusCell","hideBorders","length","hasClass","closest","get","focus","loseFocus","_updateFocus","e","that","isFocusOverlay","event","target","addWidgetPrefix","_isFocusOverlay","clearTimeout","_updateFocusTimeoutID","setTimeout","_updateFocusOverlaySize","position","hide","location","calculate","collision","h","oversize","v","show","callbackNames","hideBorder","is","removeClass","_focusTimeoutID","renderFocusOverlay","addClass","focused","fire","refocus","isElementInCurrentGrid","_$focusOverlay","align","mozilla","$content","elemCoord","appendTo","bottom","top","right","left","focusOverlayPosition","precise","my","at","of","boundary","setup","css","resize","init","createAction","excludeValidators","category","_updateFocusHandler","bind","on","getDocument","_attachContainerEventHandlers","$container","dispose","off","include","editorFactoryModule","defaultOptions","controllers","editorFactory"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editor_factory.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editor_factory.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    setOuterWidth,\r\n    getOuterWidth,\r\n    setOuterHeight,\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport positionUtils from \"../../animation/position\";\r\nimport {\r\n    addNamespace,\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport EditorFactoryMixin from \"../shared/ui.editor_factory_mixin\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nvar EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FOCUS_OVERLAY_CLASS = \"focus-overlay\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar FOCUSED_ELEMENT_CLASS = \"dx-focused\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar MODULE_NAMESPACE = \"dxDataGridEditorFactory\";\r\nvar UPDATE_FOCUS_EVENTS = addNamespace([pointerEvents.down, \"focusin\", clickEventName].join(\" \"), MODULE_NAMESPACE);\r\nvar DX_HIDDEN = \"dx-hidden\";\r\nvar EditorFactory = modules.ViewController.inherit({\r\n    _getFocusedElement: function($dataGridElement) {\r\n        var rowSelector = this.option(\"focusedRowEnabled\") ? \"tr[tabindex]:focus\" : \"tr[tabindex]:not(.dx-data-row):focus\";\r\n        var focusedElementSelector = \"td[tabindex]:focus, \".concat(rowSelector, \", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus\");\r\n        var $focusedElement = $dataGridElement.find(focusedElementSelector);\r\n        return this.elementIsInsideGrid($focusedElement) && $focusedElement\r\n    },\r\n    _getFocusCellSelector: function() {\r\n        return \".dx-row > td\"\r\n    },\r\n    _updateFocusCore: function() {\r\n        var $focus = this._$focusedElement;\r\n        var $dataGridElement = this.component && this.component.$element();\r\n        var $focusCell;\r\n        var hideBorders;\r\n        if ($dataGridElement) {\r\n            $focus = this._getFocusedElement($dataGridElement);\r\n            if ($focus && $focus.length) {\r\n                if (!$focus.hasClass(CELL_FOCUS_DISABLED_CLASS) && !$focus.hasClass(ROW_CLASS)) {\r\n                    $focusCell = $focus.closest(this._getFocusCellSelector() + \", .\" + CELL_FOCUS_DISABLED_CLASS);\r\n                    hideBorders = $focusCell.get(0) !== $focus.get(0) && $focusCell.hasClass(EDITOR_INLINE_BLOCK);\r\n                    $focus = $focusCell\r\n                }\r\n                if ($focus.length && !$focus.hasClass(CELL_FOCUS_DISABLED_CLASS)) {\r\n                    this.focus($focus, hideBorders);\r\n                    return\r\n                }\r\n            }\r\n        }\r\n        this.loseFocus()\r\n    },\r\n    _updateFocus: function(e) {\r\n        var that = this;\r\n        var isFocusOverlay = e && e.event && $(e.event.target).hasClass(that.addWidgetPrefix(FOCUS_OVERLAY_CLASS));\r\n        that._isFocusOverlay = that._isFocusOverlay || isFocusOverlay;\r\n        clearTimeout(that._updateFocusTimeoutID);\r\n        that._updateFocusTimeoutID = setTimeout((function() {\r\n            delete that._updateFocusTimeoutID;\r\n            if (!that._isFocusOverlay) {\r\n                that._updateFocusCore()\r\n            }\r\n            that._isFocusOverlay = false\r\n        }))\r\n    },\r\n    _updateFocusOverlaySize: function($element, position) {\r\n        $element.hide();\r\n        var location = positionUtils.calculate($element, extend({\r\n            collision: \"fit\"\r\n        }, position));\r\n        if (location.h.oversize > 0) {\r\n            setOuterWidth($element, getOuterWidth($element) - location.h.oversize)\r\n        }\r\n        if (location.v.oversize > 0) {\r\n            setOuterHeight($element, getOuterHeight($element) - location.v.oversize)\r\n        }\r\n        $element.show()\r\n    },\r\n    callbackNames: function() {\r\n        return [\"focused\"]\r\n    },\r\n    focus: function($element, hideBorder) {\r\n        var that = this;\r\n        if (void 0 === $element) {\r\n            return that._$focusedElement\r\n        } else if ($element) {\r\n            if (!$element.is(that._$focusedElement)) {\r\n                that._$focusedElement && that._$focusedElement.removeClass(FOCUSED_ELEMENT_CLASS)\r\n            }\r\n            that._$focusedElement = $element;\r\n            clearTimeout(that._focusTimeoutID);\r\n            that._focusTimeoutID = setTimeout((function() {\r\n                delete that._focusTimeoutID;\r\n                that.renderFocusOverlay($element, hideBorder);\r\n                $element.addClass(FOCUSED_ELEMENT_CLASS);\r\n                that.focused.fire($element)\r\n            }))\r\n        }\r\n    },\r\n    refocus: function() {\r\n        var $focus = this.focus();\r\n        this.focus($focus)\r\n    },\r\n    renderFocusOverlay: function($element, hideBorder) {\r\n        if (!gridCoreUtils.isElementInCurrentGrid(this, $element)) {\r\n            return\r\n        }\r\n        if (!this._$focusOverlay) {\r\n            this._$focusOverlay = $(\"<div>\").addClass(this.addWidgetPrefix(FOCUS_OVERLAY_CLASS))\r\n        }\r\n        if (hideBorder) {\r\n            this._$focusOverlay.addClass(DX_HIDDEN)\r\n        } else if ($element.length) {\r\n            var align = browser.mozilla ? \"right bottom\" : \"left top\";\r\n            var $content = $element.closest(\".\" + this.addWidgetPrefix(CONTENT_CLASS));\r\n            var elemCoord = getBoundingRect($element.get(0));\r\n            this._$focusOverlay.removeClass(DX_HIDDEN).appendTo($content);\r\n            setOuterHeight(this._$focusOverlay, elemCoord.bottom - elemCoord.top + 1);\r\n            setOuterWidth(this._$focusOverlay, elemCoord.right - elemCoord.left + 1);\r\n            var focusOverlayPosition = {\r\n                precise: true,\r\n                my: align,\r\n                at: align,\r\n                of: $element,\r\n                boundary: $content.length && $content\r\n            };\r\n            this._updateFocusOverlaySize(this._$focusOverlay, focusOverlayPosition);\r\n            positionUtils.setup(this._$focusOverlay, focusOverlayPosition);\r\n            this._$focusOverlay.css(\"visibility\", \"visible\")\r\n        }\r\n    },\r\n    resize: function() {\r\n        var $focusedElement = this._$focusedElement;\r\n        if ($focusedElement) {\r\n            this.focus($focusedElement)\r\n        }\r\n    },\r\n    loseFocus: function() {\r\n        this._$focusedElement && this._$focusedElement.removeClass(FOCUSED_ELEMENT_CLASS);\r\n        this._$focusedElement = null;\r\n        this._$focusOverlay && this._$focusOverlay.addClass(DX_HIDDEN)\r\n    },\r\n    init: function() {\r\n        this.createAction(\"onEditorPreparing\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        this.createAction(\"onEditorPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        this._updateFocusHandler = this._updateFocusHandler || this.createAction(this._updateFocus.bind(this));\r\n        eventsEngine.on(domAdapter.getDocument(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler);\r\n        this._attachContainerEventHandlers()\r\n    },\r\n    _attachContainerEventHandlers: function() {\r\n        var that = this;\r\n        var $container = that.component && that.component.$element();\r\n        if ($container) {\r\n            eventsEngine.on($container, addNamespace(\"keydown\", MODULE_NAMESPACE), (function(e) {\r\n                if (\"tab\" === normalizeKeyName(e)) {\r\n                    that._updateFocusHandler(e)\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    dispose: function() {\r\n        clearTimeout(this._focusTimeoutID);\r\n        clearTimeout(this._updateFocusTimeoutID);\r\n        eventsEngine.off(domAdapter.getDocument(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler)\r\n    }\r\n}).include(EditorFactoryMixin);\r\nexport var editorFactoryModule = {\r\n    defaultOptions: function() {\r\n        return {}\r\n    },\r\n    controllers: {\r\n        editorFactory: EditorFactory\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/list/ui.list.edit.decorator.swipe.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth } from \"../../core/utils/size\";\nimport { move } from \"../../animation/translator\";\nimport fx from \"../../animation/fx\";\nimport { register as registerDecorator } from \"./ui.list.edit.decorator_registry\";\nimport EditDecorator from \"./ui.list.edit.decorator\";\nimport { Deferred } from \"../../core/utils/deferred\";\nregisterDecorator(\"delete\", \"swipe\", EditDecorator.inherit({\n  _shouldHandleSwipe: true,\n  _renderItemPosition: function ($itemElement, offset, animate) {\n    var deferred = new Deferred();\n    var itemOffset = offset * this._itemElementWidth;\n\n    if (animate) {\n      fx.animate($itemElement, {\n        to: {\n          left: itemOffset\n        },\n        type: \"slide\",\n        complete: function () {\n          deferred.resolve($itemElement, offset);\n        }\n      });\n    } else {\n      move($itemElement, {\n        left: itemOffset\n      });\n      deferred.resolve();\n    }\n\n    return deferred.promise();\n  },\n  _swipeStartHandler: function ($itemElement) {\n    this._itemElementWidth = getWidth($itemElement);\n    return true;\n  },\n  _swipeUpdateHandler: function ($itemElement, args) {\n    this._renderItemPosition($itemElement, args.offset);\n\n    return true;\n  },\n  _swipeEndHandler: function ($itemElement, args) {\n    var offset = args.targetOffset;\n\n    this._renderItemPosition($itemElement, offset, true).done(function ($itemElement, offset) {\n      if (Math.abs(offset)) {\n        this._list.deleteItem($itemElement).fail(function () {\n          this._renderItemPosition($itemElement, 0, true);\n        }.bind(this));\n      }\n    }.bind(this));\n\n    return true;\n  }\n}));","map":{"version":3,"names":["getWidth","move","fx","register","registerDecorator","EditDecorator","Deferred","inherit","_shouldHandleSwipe","_renderItemPosition","$itemElement","offset","animate","deferred","itemOffset","_itemElementWidth","to","left","type","complete","resolve","promise","_swipeStartHandler","_swipeUpdateHandler","args","_swipeEndHandler","targetOffset","done","Math","abs","_list","deleteItem","fail","bind"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/list/ui.list.edit.decorator.swipe.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/list/ui.list.edit.decorator.swipe.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport {\r\n    move\r\n} from \"../../animation/translator\";\r\nimport fx from \"../../animation/fx\";\r\nimport {\r\n    register as registerDecorator\r\n} from \"./ui.list.edit.decorator_registry\";\r\nimport EditDecorator from \"./ui.list.edit.decorator\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nregisterDecorator(\"delete\", \"swipe\", EditDecorator.inherit({\r\n    _shouldHandleSwipe: true,\r\n    _renderItemPosition: function($itemElement, offset, animate) {\r\n        var deferred = new Deferred;\r\n        var itemOffset = offset * this._itemElementWidth;\r\n        if (animate) {\r\n            fx.animate($itemElement, {\r\n                to: {\r\n                    left: itemOffset\r\n                },\r\n                type: \"slide\",\r\n                complete: function() {\r\n                    deferred.resolve($itemElement, offset)\r\n                }\r\n            })\r\n        } else {\r\n            move($itemElement, {\r\n                left: itemOffset\r\n            });\r\n            deferred.resolve()\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    _swipeStartHandler: function($itemElement) {\r\n        this._itemElementWidth = getWidth($itemElement);\r\n        return true\r\n    },\r\n    _swipeUpdateHandler: function($itemElement, args) {\r\n        this._renderItemPosition($itemElement, args.offset);\r\n        return true\r\n    },\r\n    _swipeEndHandler: function($itemElement, args) {\r\n        var offset = args.targetOffset;\r\n        this._renderItemPosition($itemElement, offset, true).done(function($itemElement, offset) {\r\n            if (Math.abs(offset)) {\r\n                this._list.deleteItem($itemElement).fail(function() {\r\n                    this._renderItemPosition($itemElement, 0, true)\r\n                }.bind(this))\r\n            }\r\n        }.bind(this));\r\n        return true\r\n    }\r\n}));\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,QADJ,QAEO,uBAFP;AAGA,SACIC,IADJ,QAEO,4BAFP;AAGA,OAAOC,EAAP,MAAe,oBAAf;AACA,SACIC,QAAQ,IAAIC,iBADhB,QAEO,mCAFP;AAGA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,SACIC,QADJ,QAEO,2BAFP;AAGAF,iBAAiB,CAAC,QAAD,EAAW,OAAX,EAAoBC,aAAa,CAACE,OAAd,CAAsB;EACvDC,kBAAkB,EAAE,IADmC;EAEvDC,mBAAmB,EAAE,UAASC,YAAT,EAAuBC,MAAvB,EAA+BC,OAA/B,EAAwC;IACzD,IAAIC,QAAQ,GAAG,IAAIP,QAAJ,EAAf;IACA,IAAIQ,UAAU,GAAGH,MAAM,GAAG,KAAKI,iBAA/B;;IACA,IAAIH,OAAJ,EAAa;MACTV,EAAE,CAACU,OAAH,CAAWF,YAAX,EAAyB;QACrBM,EAAE,EAAE;UACAC,IAAI,EAAEH;QADN,CADiB;QAIrBI,IAAI,EAAE,OAJe;QAKrBC,QAAQ,EAAE,YAAW;UACjBN,QAAQ,CAACO,OAAT,CAAiBV,YAAjB,EAA+BC,MAA/B;QACH;MAPoB,CAAzB;IASH,CAVD,MAUO;MACHV,IAAI,CAACS,YAAD,EAAe;QACfO,IAAI,EAAEH;MADS,CAAf,CAAJ;MAGAD,QAAQ,CAACO,OAAT;IACH;;IACD,OAAOP,QAAQ,CAACQ,OAAT,EAAP;EACH,CAtBsD;EAuBvDC,kBAAkB,EAAE,UAASZ,YAAT,EAAuB;IACvC,KAAKK,iBAAL,GAAyBf,QAAQ,CAACU,YAAD,CAAjC;IACA,OAAO,IAAP;EACH,CA1BsD;EA2BvDa,mBAAmB,EAAE,UAASb,YAAT,EAAuBc,IAAvB,EAA6B;IAC9C,KAAKf,mBAAL,CAAyBC,YAAzB,EAAuCc,IAAI,CAACb,MAA5C;;IACA,OAAO,IAAP;EACH,CA9BsD;EA+BvDc,gBAAgB,EAAE,UAASf,YAAT,EAAuBc,IAAvB,EAA6B;IAC3C,IAAIb,MAAM,GAAGa,IAAI,CAACE,YAAlB;;IACA,KAAKjB,mBAAL,CAAyBC,YAAzB,EAAuCC,MAAvC,EAA+C,IAA/C,EAAqDgB,IAArD,CAA0D,UAASjB,YAAT,EAAuBC,MAAvB,EAA+B;MACrF,IAAIiB,IAAI,CAACC,GAAL,CAASlB,MAAT,CAAJ,EAAsB;QAClB,KAAKmB,KAAL,CAAWC,UAAX,CAAsBrB,YAAtB,EAAoCsB,IAApC,CAAyC,YAAW;UAChD,KAAKvB,mBAAL,CAAyBC,YAAzB,EAAuC,CAAvC,EAA0C,IAA1C;QACH,CAFwC,CAEvCuB,IAFuC,CAElC,IAFkC,CAAzC;MAGH;IACJ,CANyD,CAMxDA,IANwD,CAMnD,IANmD,CAA1D;;IAOA,OAAO,IAAP;EACH;AAzCsD,CAAtB,CAApB,CAAjB"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { padStart } from './helpers';\n/**\n * General date-related utilities.\n * Also handles several incompatibilities between JavaScript and Python\n *\n */\n\nexport var dateutil;\n\n(function (dateutil) {\n  dateutil.MONTH_DAYS = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n  /**\n   * Number of milliseconds of one day\n   */\n\n  dateutil.ONE_DAY = 1000 * 60 * 60 * 24;\n  /**\n   * @see: <http://docs.python.org/library/datetime.html#datetime.MAXYEAR>\n   */\n\n  dateutil.MAXYEAR = 9999;\n  /**\n   * Python uses 1-Jan-1 as the base for calculating ordinals but we don't\n   * want to confuse the JS engine with milliseconds > Number.MAX_NUMBER,\n   * therefore we use 1-Jan-1970 instead\n   */\n\n  dateutil.ORDINAL_BASE = new Date(Date.UTC(1970, 0, 1));\n  /**\n   * Python: MO-SU: 0 - 6\n   * JS: SU-SAT 0 - 6\n   */\n\n  dateutil.PY_WEEKDAYS = [6, 0, 1, 2, 3, 4, 5];\n  /**\n   * py_date.timetuple()[7]\n   */\n\n  dateutil.getYearDay = function (date) {\n    var dateNoTime = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n    return Math.ceil((dateNoTime.valueOf() - new Date(date.getUTCFullYear(), 0, 1).valueOf()) / dateutil.ONE_DAY) + 1;\n  };\n\n  dateutil.isLeapYear = function (year) {\n    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n  };\n\n  dateutil.isDate = function (value) {\n    return value instanceof Date;\n  };\n\n  dateutil.isValidDate = function (value) {\n    return dateutil.isDate(value) && !isNaN(value.getTime());\n  };\n  /**\n   * @return {Number} the date's timezone offset in ms\n   */\n\n\n  dateutil.tzOffset = function (date) {\n    return date.getTimezoneOffset() * 60 * 1000;\n  };\n  /**\n   * @see: <http://www.mcfedries.com/JavaScript/DaysBetween.asp>\n   */\n\n\n  dateutil.daysBetween = function (date1, date2) {\n    // The number of milliseconds in one day\n    // Convert both dates to milliseconds\n    var date1ms = date1.getTime() - dateutil.tzOffset(date1);\n    var date2ms = date2.getTime() - dateutil.tzOffset(date2); // Calculate the difference in milliseconds\n\n    var differencems = date1ms - date2ms; // Convert back to days and return\n\n    return Math.round(differencems / dateutil.ONE_DAY);\n  };\n  /**\n   * @see: <http://docs.python.org/library/datetime.html#datetime.date.toordinal>\n   */\n\n\n  dateutil.toOrdinal = function (date) {\n    return dateutil.daysBetween(date, dateutil.ORDINAL_BASE);\n  };\n  /**\n   * @see - <http://docs.python.org/library/datetime.html#datetime.date.fromordinal>\n   */\n\n\n  dateutil.fromOrdinal = function (ordinal) {\n    return new Date(dateutil.ORDINAL_BASE.getTime() + ordinal * dateutil.ONE_DAY);\n  };\n\n  dateutil.getMonthDays = function (date) {\n    var month = date.getUTCMonth();\n    return month === 1 && dateutil.isLeapYear(date.getUTCFullYear()) ? 29 : dateutil.MONTH_DAYS[month];\n  };\n  /**\n   * @return {Number} python-like weekday\n   */\n\n\n  dateutil.getWeekday = function (date) {\n    return dateutil.PY_WEEKDAYS[date.getUTCDay()];\n  };\n  /**\n   * @see: <http://docs.python.org/library/calendar.html#calendar.monthrange>\n   */\n\n\n  dateutil.monthRange = function (year, month) {\n    var date = new Date(Date.UTC(year, month, 1));\n    return [dateutil.getWeekday(date), dateutil.getMonthDays(date)];\n  };\n  /**\n   * @see: <http://docs.python.org/library/datetime.html#datetime.datetime.combine>\n   */\n\n\n  dateutil.combine = function (date, time) {\n    time = time || date;\n    return new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), time.getHours(), time.getMinutes(), time.getSeconds(), time.getMilliseconds()));\n  };\n\n  dateutil.clone = function (date) {\n    var dolly = new Date(date.getTime());\n    return dolly;\n  };\n\n  dateutil.cloneDates = function (dates) {\n    var clones = [];\n\n    for (var i = 0; i < dates.length; i++) {\n      clones.push(dateutil.clone(dates[i]));\n    }\n\n    return clones;\n  };\n  /**\n   * Sorts an array of Date or dateutil.Time objects\n   */\n\n\n  dateutil.sort = function (dates) {\n    dates.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n  };\n\n  dateutil.timeToUntilString = function (time, utc) {\n    if (utc === void 0) {\n      utc = true;\n    }\n\n    var date = new Date(time);\n    return [padStart(date.getUTCFullYear().toString(), 4, '0'), padStart(date.getUTCMonth() + 1, 2, '0'), padStart(date.getUTCDate(), 2, '0'), 'T', padStart(date.getUTCHours(), 2, '0'), padStart(date.getUTCMinutes(), 2, '0'), padStart(date.getUTCSeconds(), 2, '0'), utc ? 'Z' : ''].join('');\n  };\n\n  dateutil.untilStringToDate = function (until) {\n    var re = /^(\\d{4})(\\d{2})(\\d{2})(T(\\d{2})(\\d{2})(\\d{2})Z?)?$/;\n    var bits = re.exec(until);\n    if (!bits) throw new Error(\"Invalid UNTIL value: \" + until);\n    return new Date(Date.UTC(parseInt(bits[1], 10), parseInt(bits[2], 10) - 1, parseInt(bits[3], 10), parseInt(bits[5], 10) || 0, parseInt(bits[6], 10) || 0, parseInt(bits[7], 10) || 0));\n  };\n})(dateutil || (dateutil = {}));\n\nexport default dateutil;","map":{"version":3,"mappings":"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","names":["padStart","dateutil","Date","UTC","date","dateNoTime","getUTCFullYear","getUTCMonth","getUTCDate","Math","ceil","valueOf","year","value","isNaN","getTime","getTimezoneOffset","date1","date2","date1ms","date2ms","differencems","round","ordinal","month","getUTCDay","time","getHours","getMinutes","getSeconds","getMilliseconds","dolly","dates","clones","i","length","push","sort","a","b","utc","toString","getUTCHours","getUTCMinutes","getUTCSeconds","join","until","re","bits","exec","Error","parseInt"],"sourceRoot":"","sources":["../../../src/dateutil.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import ENGLISH from './i18n';\nimport RRule from '../index';\nimport { isArray, isNumber, isPresent } from '../helpers'; // =============================================================================\n// Helper functions\n// =============================================================================\n\n/**\n * Return true if a value is in an array\n */\n\nvar contains = function (arr, val) {\n  return arr.indexOf(val) !== -1;\n};\n\nvar defaultGetText = function (id) {\n  return id.toString();\n};\n\nvar defaultDateFormatter = function (year, month, day) {\n  return month + \" \" + day + \", \" + year;\n};\n/**\n *\n * @param {RRule} rrule\n * Optional:\n * @param {Function} gettext function\n * @param {Object} language definition\n * @constructor\n */\n\n\nvar ToText =\n/** @class */\nfunction () {\n  function ToText(rrule, gettext, language, dateFormatter) {\n    if (gettext === void 0) {\n      gettext = defaultGetText;\n    }\n\n    if (language === void 0) {\n      language = ENGLISH;\n    }\n\n    if (dateFormatter === void 0) {\n      dateFormatter = defaultDateFormatter;\n    }\n\n    this.text = [];\n    this.language = language || ENGLISH;\n    this.gettext = gettext;\n    this.dateFormatter = dateFormatter;\n    this.rrule = rrule;\n    this.options = rrule.options;\n    this.origOptions = rrule.origOptions;\n\n    if (this.origOptions.bymonthday) {\n      var bymonthday = [].concat(this.options.bymonthday);\n      var bynmonthday = [].concat(this.options.bynmonthday);\n      bymonthday.sort(function (a, b) {\n        return a - b;\n      });\n      bynmonthday.sort(function (a, b) {\n        return b - a;\n      }); // 1, 2, 3, .., -5, -4, -3, ..\n\n      this.bymonthday = bymonthday.concat(bynmonthday);\n      if (!this.bymonthday.length) this.bymonthday = null;\n    }\n\n    if (isPresent(this.origOptions.byweekday)) {\n      var byweekday = !isArray(this.origOptions.byweekday) ? [this.origOptions.byweekday] : this.origOptions.byweekday;\n      var days = String(byweekday);\n      this.byweekday = {\n        allWeeks: byweekday.filter(function (weekday) {\n          return !weekday.n;\n        }),\n        someWeeks: byweekday.filter(function (weekday) {\n          return Boolean(weekday.n);\n        }),\n        isWeekdays: days.indexOf('MO') !== -1 && days.indexOf('TU') !== -1 && days.indexOf('WE') !== -1 && days.indexOf('TH') !== -1 && days.indexOf('FR') !== -1 && days.indexOf('SA') === -1 && days.indexOf('SU') === -1,\n        isEveryDay: days.indexOf('MO') !== -1 && days.indexOf('TU') !== -1 && days.indexOf('WE') !== -1 && days.indexOf('TH') !== -1 && days.indexOf('FR') !== -1 && days.indexOf('SA') !== -1 && days.indexOf('SU') !== -1\n      };\n\n      var sortWeekDays = function (a, b) {\n        return a.weekday - b.weekday;\n      };\n\n      this.byweekday.allWeeks.sort(sortWeekDays);\n      this.byweekday.someWeeks.sort(sortWeekDays);\n      if (!this.byweekday.allWeeks.length) this.byweekday.allWeeks = null;\n      if (!this.byweekday.someWeeks.length) this.byweekday.someWeeks = null;\n    } else {\n      this.byweekday = null;\n    }\n  }\n  /**\n   * Test whether the rrule can be fully converted to text.\n   * @param {RRule} rrule\n   * @return {Boolean}\n   */\n\n\n  ToText.isFullyConvertible = function (rrule) {\n    var canConvert = true;\n    if (!(rrule.options.freq in ToText.IMPLEMENTED)) return false;\n    if (rrule.origOptions.until && rrule.origOptions.count) return false;\n\n    for (var key in rrule.origOptions) {\n      if (contains(['dtstart', 'wkst', 'freq'], key)) return true;\n      if (!contains(ToText.IMPLEMENTED[rrule.options.freq], key)) return false;\n    }\n\n    return canConvert;\n  };\n\n  ToText.prototype.isFullyConvertible = function () {\n    return ToText.isFullyConvertible(this.rrule);\n  };\n  /**\n   * Perform the conversion. Only some of the frequencies are supported.\n   * If some of the rrule's options aren't supported, they'll\n   * be omitted from the output an \"(~ approximate)\" will be appended.\n   * @return {*}\n   */\n\n\n  ToText.prototype.toString = function () {\n    var gettext = this.gettext;\n\n    if (!(this.options.freq in ToText.IMPLEMENTED)) {\n      return gettext('RRule error: Unable to fully convert this rrule to text');\n    }\n\n    this.text = [gettext('every')]; // @ts-ignore\n\n    this[RRule.FREQUENCIES[this.options.freq]]();\n\n    if (this.options.until) {\n      this.add(gettext('until'));\n      var until = this.options.until;\n      this.add(this.dateFormatter(until.getUTCFullYear(), this.language.monthNames[until.getUTCMonth()], until.getUTCDate()));\n    } else if (this.options.count) {\n      this.add(gettext('for')).add(this.options.count.toString()).add(this.plural(this.options.count) ? gettext('times') : gettext('time'));\n    }\n\n    if (!this.isFullyConvertible()) this.add(gettext('(~ approximate)'));\n    return this.text.join('');\n  };\n\n  ToText.prototype.HOURLY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n    this.add(this.plural(this.options.interval) ? gettext('hours') : gettext('hour'));\n  };\n\n  ToText.prototype.MINUTELY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n    this.add(this.plural(this.options.interval) ? gettext('minutes') : gettext('minute'));\n  };\n\n  ToText.prototype.DAILY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n\n    if (this.byweekday && this.byweekday.isWeekdays) {\n      this.add(this.plural(this.options.interval) ? gettext('weekdays') : gettext('weekday'));\n    } else {\n      this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n    }\n\n    if (this.origOptions.bymonth) {\n      this.add(gettext('in'));\n\n      this._bymonth();\n    }\n\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday) {\n      this._byweekday();\n    } else if (this.origOptions.byhour) {\n      this._byhour();\n    }\n  };\n\n  ToText.prototype.WEEKLY = function () {\n    var gettext = this.gettext;\n\n    if (this.options.interval !== 1) {\n      this.add(this.options.interval.toString()).add(this.plural(this.options.interval) ? gettext('weeks') : gettext('week'));\n    }\n\n    if (this.byweekday && this.byweekday.isWeekdays) {\n      if (this.options.interval === 1) {\n        this.add(this.plural(this.options.interval) ? gettext('weekdays') : gettext('weekday'));\n      } else {\n        this.add(gettext('on')).add(gettext('weekdays'));\n      }\n    } else if (this.byweekday && this.byweekday.isEveryDay) {\n      this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n    } else {\n      if (this.options.interval === 1) this.add(gettext('week'));\n\n      if (this.origOptions.bymonth) {\n        this.add(gettext('in'));\n\n        this._bymonth();\n      }\n\n      if (this.bymonthday) {\n        this._bymonthday();\n      } else if (this.byweekday) {\n        this._byweekday();\n      }\n    }\n  };\n\n  ToText.prototype.MONTHLY = function () {\n    var gettext = this.gettext;\n\n    if (this.origOptions.bymonth) {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString()).add(gettext('months'));\n        if (this.plural(this.options.interval)) this.add(gettext('in'));\n      } else {// this.add(gettext('MONTH'))\n      }\n\n      this._bymonth();\n    } else {\n      if (this.options.interval !== 1) this.add(this.options.interval.toString());\n      this.add(this.plural(this.options.interval) ? gettext('months') : gettext('month'));\n    }\n\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday && this.byweekday.isWeekdays) {\n      this.add(gettext('on')).add(gettext('weekdays'));\n    } else if (this.byweekday) {\n      this._byweekday();\n    }\n  };\n\n  ToText.prototype.YEARLY = function () {\n    var gettext = this.gettext;\n\n    if (this.origOptions.bymonth) {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString());\n        this.add(gettext('years'));\n      } else {// this.add(gettext('YEAR'))\n      }\n\n      this._bymonth();\n    } else {\n      if (this.options.interval !== 1) this.add(this.options.interval.toString());\n      this.add(this.plural(this.options.interval) ? gettext('years') : gettext('year'));\n    }\n\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday) {\n      this._byweekday();\n    }\n\n    if (this.options.byyearday) {\n      this.add(gettext('on the')).add(this.list(this.options.byyearday, this.nth, gettext('and'))).add(gettext('day'));\n    }\n\n    if (this.options.byweekno) {\n      this.add(gettext('in')).add(this.plural(this.options.byweekno.length) ? gettext('weeks') : gettext('week')).add(this.list(this.options.byweekno, undefined, gettext('and')));\n    }\n  };\n\n  ToText.prototype._bymonthday = function () {\n    var gettext = this.gettext;\n\n    if (this.byweekday && this.byweekday.allWeeks) {\n      this.add(gettext('on')).add(this.list(this.byweekday.allWeeks, this.weekdaytext, gettext('or'))).add(gettext('the')).add(this.list(this.bymonthday, this.nth, gettext('or')));\n    } else {\n      this.add(gettext('on the')).add(this.list(this.bymonthday, this.nth, gettext('and')));\n    } // this.add(gettext('DAY'))\n\n  };\n\n  ToText.prototype._byweekday = function () {\n    var gettext = this.gettext;\n\n    if (this.byweekday.allWeeks && !this.byweekday.isWeekdays) {\n      this.add(gettext('on')).add(this.list(this.byweekday.allWeeks, this.weekdaytext));\n    }\n\n    if (this.byweekday.someWeeks) {\n      if (this.byweekday.allWeeks) this.add(gettext('and'));\n      this.add(gettext('on the')).add(this.list(this.byweekday.someWeeks, this.weekdaytext, gettext('and')));\n    }\n  };\n\n  ToText.prototype._byhour = function () {\n    var gettext = this.gettext;\n    this.add(gettext('at')).add(this.list(this.origOptions.byhour, undefined, gettext('and')));\n  };\n\n  ToText.prototype._bymonth = function () {\n    this.add(this.list(this.options.bymonth, this.monthtext, this.gettext('and')));\n  };\n\n  ToText.prototype.nth = function (n) {\n    n = parseInt(n.toString(), 10);\n    var nth;\n    var npos;\n    var gettext = this.gettext;\n    if (n === -1) return gettext('last');\n    npos = Math.abs(n);\n\n    switch (npos) {\n      case 1:\n      case 21:\n      case 31:\n        nth = npos + gettext('st');\n        break;\n\n      case 2:\n      case 22:\n        nth = npos + gettext('nd');\n        break;\n\n      case 3:\n      case 23:\n        nth = npos + gettext('rd');\n        break;\n\n      default:\n        nth = npos + gettext('th');\n    }\n\n    return n < 0 ? nth + ' ' + gettext('last') : nth;\n  };\n\n  ToText.prototype.monthtext = function (m) {\n    return this.language.monthNames[m - 1];\n  };\n\n  ToText.prototype.weekdaytext = function (wday) {\n    var weekday = isNumber(wday) ? (wday + 1) % 7 : wday.getJsWeekday();\n    return (wday.n ? this.nth(wday.n) + ' ' : '') + this.language.dayNames[weekday];\n  };\n\n  ToText.prototype.plural = function (n) {\n    return n % 100 !== 1;\n  };\n\n  ToText.prototype.add = function (s) {\n    this.text.push(' ');\n    this.text.push(s);\n    return this;\n  };\n\n  ToText.prototype.list = function (arr, callback, finalDelim, delim) {\n    if (delim === void 0) {\n      delim = ',';\n    }\n\n    if (!isArray(arr)) {\n      arr = [arr];\n    }\n\n    var delimJoin = function (array, delimiter, finalDelimiter) {\n      var list = '';\n\n      for (var i = 0; i < array.length; i++) {\n        if (i !== 0) {\n          if (i === array.length - 1) {\n            list += ' ' + finalDelimiter + ' ';\n          } else {\n            list += delimiter + ' ';\n          }\n        }\n\n        list += array[i];\n      }\n\n      return list;\n    };\n\n    callback = callback || function (o) {\n      return o.toString();\n    };\n\n    var self = this;\n\n    var realCallback = function (arg) {\n      return callback && callback.call(self, arg);\n    };\n\n    if (finalDelim) {\n      return delimJoin(arr.map(realCallback), delim, finalDelim);\n    } else {\n      return arr.map(realCallback).join(delim + ' ');\n    }\n  };\n\n  return ToText;\n}();\n\nexport default ToText;","map":{"version":3,"mappings":"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","names":["ENGLISH","RRule","isArray","isNumber","isPresent","contains","arr","val","indexOf","defaultGetText","toString","defaultDateFormatter","year","month","day","rrule","gettext","language","dateFormatter","text","options","origOptions","bymonthday","concat","bynmonthday","sort","a","b","length","byweekday","days","String","allWeeks","filter","weekday","n","someWeeks","Boolean","isWeekdays","isEveryDay","sortWeekDays","ToText","canConvert","freq","IMPLEMENTED","until","count","key","isFullyConvertible","FREQUENCIES","add","getUTCFullYear","monthNames","getUTCMonth","getUTCDate","plural","join","interval","bymonth","_bymonth","_bymonthday","_byweekday","byhour","_byhour","byyearday","list","nth","byweekno","undefined","weekdaytext","monthtext","parseInt","npos","Math","abs","m","wday","getJsWeekday","dayNames","s","push","callback","finalDelim","delim","delimJoin","array","delimiter","finalDelimiter","i","o","self","realCallback","arg","call","map"],"sourceRoot":"","sources":["../../../../src/nlp/totext.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/gauges/tracker.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport eventsEngine from \"../../events/core/events_engine\";\nimport Class from \"../../core/class\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport { name as wheelEventName } from \"../../events/core/wheel\";\nimport ReadyCallbacks from \"../../core/utils/ready_callbacks\";\nimport { addNamespace } from \"../../events/utils/index\";\nimport pointerEvents from \"../../events/pointer\";\nvar EVENT_NS = \"gauge-tooltip\";\nvar TOOLTIP_HIDE_DELAY = 100;\nvar ready = ReadyCallbacks.add;\nvar Tracker = Class.inherit({\n  ctor: function (parameters) {\n    var that = this;\n    that._element = parameters.renderer.g().attr({\n      class: \"dxg-tracker\",\n      stroke: \"none\",\n      \"stroke-width\": 0,\n      fill: \"#000000\",\n      opacity: 1e-4\n    }).linkOn(parameters.container, {\n      name: \"tracker\",\n      after: \"peripheral\"\n    });\n\n    that._showTooltipCallback = function () {\n      var target = that._tooltipEvent.target;\n      var data_target = target[\"gauge-data-target\"];\n      var data_info = target[\"gauge-data-info\"];\n      that._targetEvent = null;\n\n      if (that._tooltipTarget !== target) {\n        var callback = result => {\n          result && (that._tooltipTarget = target);\n        };\n\n        callback(that._callbacks[\"tooltip-show\"](data_target, data_info, callback));\n      }\n    };\n\n    that._hideTooltipCallback = function () {\n      that._hideTooltipTimeout = null;\n      that._targetEvent = null;\n\n      if (that._tooltipTarget) {\n        that._callbacks[\"tooltip-hide\"]();\n\n        that._tooltipTarget = null;\n      }\n    };\n\n    that._dispose = function () {\n      clearTimeout(that._hideTooltipTimeout);\n      that._showTooltipCallback = that._hideTooltipCallback = that._dispose = null;\n    };\n  },\n  dispose: function () {\n    this._dispose();\n\n    this.deactivate();\n\n    this._element.off(\".\" + EVENT_NS);\n\n    this._element.linkOff();\n\n    this._element = this._context = this._callbacks = null;\n    return this;\n  },\n  activate: function () {\n    this._element.linkAppend();\n\n    return this;\n  },\n  deactivate: function () {\n    this._element.linkRemove().clear();\n\n    return this;\n  },\n  attach: function (element, target, info) {\n    element.data({\n      \"gauge-data-target\": target,\n      \"gauge-data-info\": info\n    }).append(this._element);\n    return this;\n  },\n  detach: function (element) {\n    element.remove();\n    return this;\n  },\n  setTooltipState: function (state) {\n    this._element.off(\".\" + EVENT_NS);\n\n    if (state) {\n      var data = {\n        tracker: this\n      };\n\n      this._element.on(addNamespace([pointerEvents.move], EVENT_NS), data, handleTooltipMouseOver).on(addNamespace([pointerEvents.out], EVENT_NS), data, handleTooltipMouseOut).on(addNamespace([pointerEvents.down], EVENT_NS), data, handleTooltipTouchStart).on(addNamespace([pointerEvents.up], EVENT_NS), data, handleTooltipTouchEnd).on(addNamespace([wheelEventName], EVENT_NS), data, handleTooltipMouseWheel);\n    }\n\n    return this;\n  },\n  setCallbacks: function (callbacks) {\n    this._callbacks = callbacks;\n    return this;\n  },\n  _showTooltip: function (event) {\n    clearTimeout(this._hideTooltipTimeout);\n    this._hideTooltipTimeout = null;\n\n    if (this._tooltipTarget === event.target) {\n      return;\n    }\n\n    this._tooltipEvent = event;\n\n    this._showTooltipCallback();\n  },\n  _hideTooltip: function (delay) {\n    clearTimeout(this._hideTooltipTimeout);\n\n    if (delay) {\n      this._hideTooltipTimeout = setTimeout(this._hideTooltipCallback, delay);\n    } else {\n      this._hideTooltipCallback();\n    }\n  }\n});\nvar active_touch_tooltip_tracker = null;\n\nfunction handleTooltipMouseOver(event) {\n  var tracker = event.data.tracker;\n  tracker._x = event.pageX;\n  tracker._y = event.pageY;\n\n  tracker._showTooltip(event);\n}\n\nfunction handleTooltipMouseOut(event) {\n  event.data.tracker._hideTooltip(TOOLTIP_HIDE_DELAY);\n}\n\nfunction handleTooltipMouseWheel(event) {\n  event.data.tracker._hideTooltip();\n}\n\nfunction handleTooltipTouchStart(event) {\n  var tracker = active_touch_tooltip_tracker = event.data.tracker;\n  tracker._touch = true;\n  handleTooltipMouseOver(event);\n}\n\nfunction handleTooltipTouchEnd() {\n  active_touch_tooltip_tracker._touch = false;\n}\n\nfunction handleDocumentTooltipTouchStart(event) {\n  var tracker = active_touch_tooltip_tracker;\n\n  if (tracker && !tracker._touch) {\n    tracker._hideTooltip(TOOLTIP_HIDE_DELAY);\n\n    active_touch_tooltip_tracker = null;\n  }\n}\n\nready(function () {\n  eventsEngine.subscribeGlobal(domAdapter.getDocument(), addNamespace([pointerEvents.down], EVENT_NS), handleDocumentTooltipTouchStart);\n});\nexport default Tracker;","map":{"version":3,"names":["eventsEngine","Class","domAdapter","name","wheelEventName","ReadyCallbacks","addNamespace","pointerEvents","EVENT_NS","TOOLTIP_HIDE_DELAY","ready","add","Tracker","inherit","ctor","parameters","that","_element","renderer","g","attr","class","stroke","fill","opacity","linkOn","container","after","_showTooltipCallback","target","_tooltipEvent","data_target","data_info","_targetEvent","_tooltipTarget","callback","result","_callbacks","_hideTooltipCallback","_hideTooltipTimeout","_dispose","clearTimeout","dispose","deactivate","off","linkOff","_context","activate","linkAppend","linkRemove","clear","attach","element","info","data","append","detach","remove","setTooltipState","state","tracker","on","move","handleTooltipMouseOver","out","handleTooltipMouseOut","down","handleTooltipTouchStart","up","handleTooltipTouchEnd","handleTooltipMouseWheel","setCallbacks","callbacks","_showTooltip","event","_hideTooltip","delay","setTimeout","active_touch_tooltip_tracker","_x","pageX","_y","pageY","_touch","handleDocumentTooltipTouchStart","subscribeGlobal","getDocument"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/gauges/tracker.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/gauges/tracker.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Class from \"../../core/class\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    name as wheelEventName\r\n} from \"../../events/core/wheel\";\r\nimport ReadyCallbacks from \"../../core/utils/ready_callbacks\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nvar EVENT_NS = \"gauge-tooltip\";\r\nvar TOOLTIP_HIDE_DELAY = 100;\r\nvar ready = ReadyCallbacks.add;\r\nvar Tracker = Class.inherit({\r\n    ctor: function(parameters) {\r\n        var that = this;\r\n        that._element = parameters.renderer.g().attr({\r\n            class: \"dxg-tracker\",\r\n            stroke: \"none\",\r\n            \"stroke-width\": 0,\r\n            fill: \"#000000\",\r\n            opacity: 1e-4\r\n        }).linkOn(parameters.container, {\r\n            name: \"tracker\",\r\n            after: \"peripheral\"\r\n        });\r\n        that._showTooltipCallback = function() {\r\n            var target = that._tooltipEvent.target;\r\n            var data_target = target[\"gauge-data-target\"];\r\n            var data_info = target[\"gauge-data-info\"];\r\n            that._targetEvent = null;\r\n            if (that._tooltipTarget !== target) {\r\n                var callback = result => {\r\n                    result && (that._tooltipTarget = target)\r\n                };\r\n                callback(that._callbacks[\"tooltip-show\"](data_target, data_info, callback))\r\n            }\r\n        };\r\n        that._hideTooltipCallback = function() {\r\n            that._hideTooltipTimeout = null;\r\n            that._targetEvent = null;\r\n            if (that._tooltipTarget) {\r\n                that._callbacks[\"tooltip-hide\"]();\r\n                that._tooltipTarget = null\r\n            }\r\n        };\r\n        that._dispose = function() {\r\n            clearTimeout(that._hideTooltipTimeout);\r\n            that._showTooltipCallback = that._hideTooltipCallback = that._dispose = null\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._dispose();\r\n        this.deactivate();\r\n        this._element.off(\".\" + EVENT_NS);\r\n        this._element.linkOff();\r\n        this._element = this._context = this._callbacks = null;\r\n        return this\r\n    },\r\n    activate: function() {\r\n        this._element.linkAppend();\r\n        return this\r\n    },\r\n    deactivate: function() {\r\n        this._element.linkRemove().clear();\r\n        return this\r\n    },\r\n    attach: function(element, target, info) {\r\n        element.data({\r\n            \"gauge-data-target\": target,\r\n            \"gauge-data-info\": info\r\n        }).append(this._element);\r\n        return this\r\n    },\r\n    detach: function(element) {\r\n        element.remove();\r\n        return this\r\n    },\r\n    setTooltipState: function(state) {\r\n        this._element.off(\".\" + EVENT_NS);\r\n        if (state) {\r\n            var data = {\r\n                tracker: this\r\n            };\r\n            this._element.on(addNamespace([pointerEvents.move], EVENT_NS), data, handleTooltipMouseOver).on(addNamespace([pointerEvents.out], EVENT_NS), data, handleTooltipMouseOut).on(addNamespace([pointerEvents.down], EVENT_NS), data, handleTooltipTouchStart).on(addNamespace([pointerEvents.up], EVENT_NS), data, handleTooltipTouchEnd).on(addNamespace([wheelEventName], EVENT_NS), data, handleTooltipMouseWheel)\r\n        }\r\n        return this\r\n    },\r\n    setCallbacks: function(callbacks) {\r\n        this._callbacks = callbacks;\r\n        return this\r\n    },\r\n    _showTooltip: function(event) {\r\n        clearTimeout(this._hideTooltipTimeout);\r\n        this._hideTooltipTimeout = null;\r\n        if (this._tooltipTarget === event.target) {\r\n            return\r\n        }\r\n        this._tooltipEvent = event;\r\n        this._showTooltipCallback()\r\n    },\r\n    _hideTooltip: function(delay) {\r\n        clearTimeout(this._hideTooltipTimeout);\r\n        if (delay) {\r\n            this._hideTooltipTimeout = setTimeout(this._hideTooltipCallback, delay)\r\n        } else {\r\n            this._hideTooltipCallback()\r\n        }\r\n    }\r\n});\r\nvar active_touch_tooltip_tracker = null;\r\n\r\nfunction handleTooltipMouseOver(event) {\r\n    var tracker = event.data.tracker;\r\n    tracker._x = event.pageX;\r\n    tracker._y = event.pageY;\r\n    tracker._showTooltip(event)\r\n}\r\n\r\nfunction handleTooltipMouseOut(event) {\r\n    event.data.tracker._hideTooltip(TOOLTIP_HIDE_DELAY)\r\n}\r\n\r\nfunction handleTooltipMouseWheel(event) {\r\n    event.data.tracker._hideTooltip()\r\n}\r\n\r\nfunction handleTooltipTouchStart(event) {\r\n    var tracker = active_touch_tooltip_tracker = event.data.tracker;\r\n    tracker._touch = true;\r\n    handleTooltipMouseOver(event)\r\n}\r\n\r\nfunction handleTooltipTouchEnd() {\r\n    active_touch_tooltip_tracker._touch = false\r\n}\r\n\r\nfunction handleDocumentTooltipTouchStart(event) {\r\n    var tracker = active_touch_tooltip_tracker;\r\n    if (tracker && !tracker._touch) {\r\n        tracker._hideTooltip(TOOLTIP_HIDE_DELAY);\r\n        active_touch_tooltip_tracker = null\r\n    }\r\n}\r\nready((function() {\r\n    eventsEngine.subscribeGlobal(domAdapter.getDocument(), addNamespace([pointerEvents.down], EVENT_NS), handleDocumentTooltipTouchStart)\r\n}));\r\nexport default Tracker;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,YAAP,MAAyB,iCAAzB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,SACIC,IAAI,IAAIC,cADZ,QAEO,yBAFP;AAGA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,SACIC,YADJ,QAEO,0BAFP;AAGA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,IAAIC,QAAQ,GAAG,eAAf;AACA,IAAIC,kBAAkB,GAAG,GAAzB;AACA,IAAIC,KAAK,GAAGL,cAAc,CAACM,GAA3B;AACA,IAAIC,OAAO,GAAGX,KAAK,CAACY,OAAN,CAAc;EACxBC,IAAI,EAAE,UAASC,UAAT,EAAqB;IACvB,IAAIC,IAAI,GAAG,IAAX;IACAA,IAAI,CAACC,QAAL,GAAgBF,UAAU,CAACG,QAAX,CAAoBC,CAApB,GAAwBC,IAAxB,CAA6B;MACzCC,KAAK,EAAE,aADkC;MAEzCC,MAAM,EAAE,MAFiC;MAGzC,gBAAgB,CAHyB;MAIzCC,IAAI,EAAE,SAJmC;MAKzCC,OAAO,EAAE;IALgC,CAA7B,EAMbC,MANa,CAMNV,UAAU,CAACW,SANL,EAMgB;MAC5BvB,IAAI,EAAE,SADsB;MAE5BwB,KAAK,EAAE;IAFqB,CANhB,CAAhB;;IAUAX,IAAI,CAACY,oBAAL,GAA4B,YAAW;MACnC,IAAIC,MAAM,GAAGb,IAAI,CAACc,aAAL,CAAmBD,MAAhC;MACA,IAAIE,WAAW,GAAGF,MAAM,CAAC,mBAAD,CAAxB;MACA,IAAIG,SAAS,GAAGH,MAAM,CAAC,iBAAD,CAAtB;MACAb,IAAI,CAACiB,YAAL,GAAoB,IAApB;;MACA,IAAIjB,IAAI,CAACkB,cAAL,KAAwBL,MAA5B,EAAoC;QAChC,IAAIM,QAAQ,GAAGC,MAAM,IAAI;UACrBA,MAAM,KAAKpB,IAAI,CAACkB,cAAL,GAAsBL,MAA3B,CAAN;QACH,CAFD;;QAGAM,QAAQ,CAACnB,IAAI,CAACqB,UAAL,CAAgB,cAAhB,EAAgCN,WAAhC,EAA6CC,SAA7C,EAAwDG,QAAxD,CAAD,CAAR;MACH;IACJ,CAXD;;IAYAnB,IAAI,CAACsB,oBAAL,GAA4B,YAAW;MACnCtB,IAAI,CAACuB,mBAAL,GAA2B,IAA3B;MACAvB,IAAI,CAACiB,YAAL,GAAoB,IAApB;;MACA,IAAIjB,IAAI,CAACkB,cAAT,EAAyB;QACrBlB,IAAI,CAACqB,UAAL,CAAgB,cAAhB;;QACArB,IAAI,CAACkB,cAAL,GAAsB,IAAtB;MACH;IACJ,CAPD;;IAQAlB,IAAI,CAACwB,QAAL,GAAgB,YAAW;MACvBC,YAAY,CAACzB,IAAI,CAACuB,mBAAN,CAAZ;MACAvB,IAAI,CAACY,oBAAL,GAA4BZ,IAAI,CAACsB,oBAAL,GAA4BtB,IAAI,CAACwB,QAAL,GAAgB,IAAxE;IACH,CAHD;EAIH,CArCuB;EAsCxBE,OAAO,EAAE,YAAW;IAChB,KAAKF,QAAL;;IACA,KAAKG,UAAL;;IACA,KAAK1B,QAAL,CAAc2B,GAAd,CAAkB,MAAMpC,QAAxB;;IACA,KAAKS,QAAL,CAAc4B,OAAd;;IACA,KAAK5B,QAAL,GAAgB,KAAK6B,QAAL,GAAgB,KAAKT,UAAL,GAAkB,IAAlD;IACA,OAAO,IAAP;EACH,CA7CuB;EA8CxBU,QAAQ,EAAE,YAAW;IACjB,KAAK9B,QAAL,CAAc+B,UAAd;;IACA,OAAO,IAAP;EACH,CAjDuB;EAkDxBL,UAAU,EAAE,YAAW;IACnB,KAAK1B,QAAL,CAAcgC,UAAd,GAA2BC,KAA3B;;IACA,OAAO,IAAP;EACH,CArDuB;EAsDxBC,MAAM,EAAE,UAASC,OAAT,EAAkBvB,MAAlB,EAA0BwB,IAA1B,EAAgC;IACpCD,OAAO,CAACE,IAAR,CAAa;MACT,qBAAqBzB,MADZ;MAET,mBAAmBwB;IAFV,CAAb,EAGGE,MAHH,CAGU,KAAKtC,QAHf;IAIA,OAAO,IAAP;EACH,CA5DuB;EA6DxBuC,MAAM,EAAE,UAASJ,OAAT,EAAkB;IACtBA,OAAO,CAACK,MAAR;IACA,OAAO,IAAP;EACH,CAhEuB;EAiExBC,eAAe,EAAE,UAASC,KAAT,EAAgB;IAC7B,KAAK1C,QAAL,CAAc2B,GAAd,CAAkB,MAAMpC,QAAxB;;IACA,IAAImD,KAAJ,EAAW;MACP,IAAIL,IAAI,GAAG;QACPM,OAAO,EAAE;MADF,CAAX;;MAGA,KAAK3C,QAAL,CAAc4C,EAAd,CAAiBvD,YAAY,CAAC,CAACC,aAAa,CAACuD,IAAf,CAAD,EAAuBtD,QAAvB,CAA7B,EAA+D8C,IAA/D,EAAqES,sBAArE,EAA6FF,EAA7F,CAAgGvD,YAAY,CAAC,CAACC,aAAa,CAACyD,GAAf,CAAD,EAAsBxD,QAAtB,CAA5G,EAA6I8C,IAA7I,EAAmJW,qBAAnJ,EAA0KJ,EAA1K,CAA6KvD,YAAY,CAAC,CAACC,aAAa,CAAC2D,IAAf,CAAD,EAAuB1D,QAAvB,CAAzL,EAA2N8C,IAA3N,EAAiOa,uBAAjO,EAA0PN,EAA1P,CAA6PvD,YAAY,CAAC,CAACC,aAAa,CAAC6D,EAAf,CAAD,EAAqB5D,QAArB,CAAzQ,EAAyS8C,IAAzS,EAA+Se,qBAA/S,EAAsUR,EAAtU,CAAyUvD,YAAY,CAAC,CAACF,cAAD,CAAD,EAAmBI,QAAnB,CAArV,EAAmX8C,IAAnX,EAAyXgB,uBAAzX;IACH;;IACD,OAAO,IAAP;EACH,CA1EuB;EA2ExBC,YAAY,EAAE,UAASC,SAAT,EAAoB;IAC9B,KAAKnC,UAAL,GAAkBmC,SAAlB;IACA,OAAO,IAAP;EACH,CA9EuB;EA+ExBC,YAAY,EAAE,UAASC,KAAT,EAAgB;IAC1BjC,YAAY,CAAC,KAAKF,mBAAN,CAAZ;IACA,KAAKA,mBAAL,GAA2B,IAA3B;;IACA,IAAI,KAAKL,cAAL,KAAwBwC,KAAK,CAAC7C,MAAlC,EAA0C;MACtC;IACH;;IACD,KAAKC,aAAL,GAAqB4C,KAArB;;IACA,KAAK9C,oBAAL;EACH,CAvFuB;EAwFxB+C,YAAY,EAAE,UAASC,KAAT,EAAgB;IAC1BnC,YAAY,CAAC,KAAKF,mBAAN,CAAZ;;IACA,IAAIqC,KAAJ,EAAW;MACP,KAAKrC,mBAAL,GAA2BsC,UAAU,CAAC,KAAKvC,oBAAN,EAA4BsC,KAA5B,CAArC;IACH,CAFD,MAEO;MACH,KAAKtC,oBAAL;IACH;EACJ;AA/FuB,CAAd,CAAd;AAiGA,IAAIwC,4BAA4B,GAAG,IAAnC;;AAEA,SAASf,sBAAT,CAAgCW,KAAhC,EAAuC;EACnC,IAAId,OAAO,GAAGc,KAAK,CAACpB,IAAN,CAAWM,OAAzB;EACAA,OAAO,CAACmB,EAAR,GAAaL,KAAK,CAACM,KAAnB;EACApB,OAAO,CAACqB,EAAR,GAAaP,KAAK,CAACQ,KAAnB;;EACAtB,OAAO,CAACa,YAAR,CAAqBC,KAArB;AACH;;AAED,SAAST,qBAAT,CAA+BS,KAA/B,EAAsC;EAClCA,KAAK,CAACpB,IAAN,CAAWM,OAAX,CAAmBe,YAAnB,CAAgClE,kBAAhC;AACH;;AAED,SAAS6D,uBAAT,CAAiCI,KAAjC,EAAwC;EACpCA,KAAK,CAACpB,IAAN,CAAWM,OAAX,CAAmBe,YAAnB;AACH;;AAED,SAASR,uBAAT,CAAiCO,KAAjC,EAAwC;EACpC,IAAId,OAAO,GAAGkB,4BAA4B,GAAGJ,KAAK,CAACpB,IAAN,CAAWM,OAAxD;EACAA,OAAO,CAACuB,MAAR,GAAiB,IAAjB;EACApB,sBAAsB,CAACW,KAAD,CAAtB;AACH;;AAED,SAASL,qBAAT,GAAiC;EAC7BS,4BAA4B,CAACK,MAA7B,GAAsC,KAAtC;AACH;;AAED,SAASC,+BAAT,CAAyCV,KAAzC,EAAgD;EAC5C,IAAId,OAAO,GAAGkB,4BAAd;;EACA,IAAIlB,OAAO,IAAI,CAACA,OAAO,CAACuB,MAAxB,EAAgC;IAC5BvB,OAAO,CAACe,YAAR,CAAqBlE,kBAArB;;IACAqE,4BAA4B,GAAG,IAA/B;EACH;AACJ;;AACDpE,KAAK,CAAE,YAAW;EACdV,YAAY,CAACqF,eAAb,CAA6BnF,UAAU,CAACoF,WAAX,EAA7B,EAAuDhF,YAAY,CAAC,CAACC,aAAa,CAAC2D,IAAf,CAAD,EAAuB1D,QAAvB,CAAnE,EAAqG4E,+BAArG;AACH,CAFI,CAAL;AAGA,eAAexE,OAAf"},"metadata":{},"sourceType":"module"}
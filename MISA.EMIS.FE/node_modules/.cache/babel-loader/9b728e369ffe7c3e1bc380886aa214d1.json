{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/gauges/base_indicators.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { noop } from \"../../core/utils/common\";\nimport { each } from \"../../core/utils/iterator\";\nvar _isFinite = isFinite;\nvar _Number = Number;\nvar _round = Math.round;\nimport { formatValue, getSampleText } from \"./base_gauge\";\nvar _formatValue = formatValue;\nvar _getSampleText = getSampleText;\nimport { patchFontOptions as _patchFontOptions } from \"../core/utils\";\nimport { extend } from \"../../core/utils/extend\";\nimport Class from \"../../core/class\";\nexport var BaseElement = Class.inherit({\n  ctor: function (parameters) {\n    var that = this;\n    each(parameters, function (name, value) {\n      that[\"_\" + name] = value;\n    });\n\n    that._init();\n  },\n  dispose: function () {\n    var that = this;\n\n    that._dispose();\n\n    each(that, function (name) {\n      that[name] = null;\n    });\n    return that;\n  },\n  getOffset: function () {\n    return _Number(this._options.offset) || 0;\n  }\n});\nexport var BaseIndicator = BaseElement.inherit({\n  _init: function () {\n    this._rootElement = this._createRoot().linkOn(this._owner, {\n      name: \"value-indicator\",\n      after: \"core\"\n    });\n    this._trackerElement = this._createTracker();\n  },\n  _dispose: function () {\n    this._rootElement.linkOff();\n  },\n  _setupAnimation: function () {\n    var that = this;\n\n    if (that._options.animation) {\n      that._animation = {\n        step: function (pos) {\n          that._actualValue = that._animation.start + that._animation.delta * pos;\n          that._actualPosition = that._translator.translate(that._actualValue);\n\n          that._move();\n        },\n        duration: that._options.animation.duration > 0 ? _Number(that._options.animation.duration) : 0,\n        easing: that._options.animation.easing\n      };\n    }\n  },\n  _runAnimation: function (value) {\n    var animation = this._animation;\n    animation.start = this._actualValue;\n    animation.delta = value - this._actualValue;\n\n    this._rootElement.animate({\n      _: 0\n    }, {\n      step: animation.step,\n      duration: animation.duration,\n      easing: animation.easing\n    });\n  },\n  _createRoot: function () {\n    return this._renderer.g().attr({\n      class: this._className\n    });\n  },\n  _createTracker: function () {\n    return this._renderer.path([], \"area\");\n  },\n  _getTrackerSettings: noop,\n  clean: function () {\n    this._animation && this._rootElement.stopAnimation();\n\n    this._rootElement.linkRemove().clear();\n\n    this._clear();\n\n    this._tracker.detach(this._trackerElement);\n\n    this._options = this.enabled = this._animation = null;\n    return this;\n  },\n  render: function (options) {\n    this.type = options.type;\n    this._options = options;\n    this._actualValue = this._currentValue = this._translator.adjust(this._options.currentValue);\n    this.enabled = this._isEnabled();\n\n    if (this.enabled) {\n      this._setupAnimation();\n\n      this._rootElement.attr({\n        fill: this._options.color\n      }).linkAppend();\n\n      this._tracker.attach(this._trackerElement, this, this._trackerInfo);\n    }\n\n    return this;\n  },\n  resize: function (layout) {\n    this._rootElement.clear();\n\n    this._clear();\n\n    this.visible = this._isVisible(layout);\n\n    if (this.visible) {\n      extend(this._options, layout);\n      this._actualPosition = this._translator.translate(this._actualValue);\n\n      this._render();\n\n      this._trackerElement.attr(this._getTrackerSettings());\n\n      this._move();\n    }\n\n    return this;\n  },\n  value: function (arg, _noAnimation) {\n    var val;\n    var rootElement = this._rootElement;\n    var visibility = null;\n\n    if (void 0 === arg) {\n      return this._currentValue;\n    }\n\n    if (null === arg) {\n      visibility = \"hidden\";\n      this._currentValue = arg;\n    } else {\n      val = this._translator.adjust(arg);\n\n      if (this._currentValue !== val && _isFinite(val)) {\n        this._currentValue = val;\n\n        if (this.visible) {\n          if (this._animation && !_noAnimation) {\n            this._runAnimation(val);\n          } else {\n            this._actualValue = val;\n            this._actualPosition = this._translator.translate(val);\n\n            this._move();\n          }\n        }\n      }\n    }\n\n    rootElement.attr({\n      visibility: visibility\n    });\n    return this;\n  },\n  _isEnabled: null,\n  _isVisible: null,\n  _render: null,\n  _clear: null,\n  _move: null\n});\nvar COEFFICIENTS_MAP = {};\nCOEFFICIENTS_MAP[\"right-bottom\"] = COEFFICIENTS_MAP.rb = [0, -1, -1, 0, 0, 1, 1, 0];\nCOEFFICIENTS_MAP[\"bottom-right\"] = COEFFICIENTS_MAP.br = [-1, 0, 0, -1, 1, 0, 0, 1];\nCOEFFICIENTS_MAP[\"left-bottom\"] = COEFFICIENTS_MAP.lb = [0, -1, 1, 0, 0, 1, -1, 0];\nCOEFFICIENTS_MAP[\"bottom-left\"] = COEFFICIENTS_MAP.bl = [1, 0, 0, -1, -1, 0, 0, 1];\nCOEFFICIENTS_MAP[\"left-top\"] = COEFFICIENTS_MAP.lt = [0, 1, 1, 0, 0, -1, -1, 0];\nCOEFFICIENTS_MAP[\"top-left\"] = COEFFICIENTS_MAP.tl = [1, 0, 0, 1, -1, 0, 0, -1];\nCOEFFICIENTS_MAP[\"right-top\"] = COEFFICIENTS_MAP.rt = [0, 1, -1, 0, 0, -1, 1, 0];\nCOEFFICIENTS_MAP[\"top-right\"] = COEFFICIENTS_MAP.tr = [-1, 0, 0, 1, 1, 0, 0, -1];\n\nfunction getTextCloudInfo(options) {\n  var x = options.x;\n  var y = options.y;\n  var type = COEFFICIENTS_MAP[options.type];\n  var cloudWidth = options.cloudWidth;\n  var cloudHeight = options.cloudHeight;\n  var tailWidth;\n  var tailHeight;\n  var cx = x;\n  var cy = y;\n  tailWidth = tailHeight = options.tailLength;\n\n  if (1 & type[0]) {\n    tailHeight = Math.min(tailHeight, cloudHeight / 3);\n  } else {\n    tailWidth = Math.min(tailWidth, cloudWidth / 3);\n  }\n\n  return {\n    cx: _round(cx + type[0] * tailWidth + (type[0] + type[2]) * cloudWidth / 2),\n    cy: _round(cy + type[1] * tailHeight + (type[1] + type[3]) * cloudHeight / 2),\n    points: [_round(x), _round(y), _round(x += type[0] * (cloudWidth + tailWidth)), _round(y += type[1] * (cloudHeight + tailHeight)), _round(x += type[2] * cloudWidth), _round(y += type[3] * cloudHeight), _round(x += type[4] * cloudWidth), _round(y += type[5] * cloudHeight), _round(x += type[6] * (cloudWidth - tailWidth)), _round(y += type[7] * (cloudHeight - tailHeight))]\n  };\n}\n\nexport var BaseTextCloudMarker = BaseIndicator.inherit({\n  _move: function () {\n    var options = this._options;\n\n    var textCloudOptions = this._getTextCloudOptions();\n\n    var text = _formatValue(this._actualValue, options.text);\n\n    this._text.attr({\n      text: text\n    });\n\n    var bBox = this._text.getBBox();\n\n    var x = textCloudOptions.x;\n    var y = textCloudOptions.y;\n    var cloudWidth = (bBox.width || text.length * this._textUnitWidth) + 2 * options.horizontalOffset;\n    var cloudHeight = (bBox.height || this._textHeight) + 2 * options.verticalOffset;\n    var info = getTextCloudInfo({\n      x: x,\n      y: y,\n      cloudWidth: cloudWidth,\n      cloudHeight: cloudHeight,\n      tailLength: options.arrowLength,\n      type: this._correctCloudType(textCloudOptions.type, {\n        x: x,\n        y: y\n      }, {\n        width: cloudWidth,\n        height: cloudHeight\n      })\n    });\n\n    this._text.attr({\n      x: info.cx,\n      y: info.cy + this._textVerticalOffset\n    });\n\n    this._cloud.attr({\n      points: info.points\n    });\n\n    this._trackerElement && this._trackerElement.attr({\n      points: info.points\n    });\n  },\n  _measureText: function () {\n    var root;\n    var text;\n    var bBox;\n    var sampleText;\n\n    if (!this._textVerticalOffset) {\n      root = this._createRoot().append(this._owner);\n      sampleText = _getSampleText(this._translator, this._options.text);\n      text = this._renderer.text(sampleText, 0, 0).attr({\n        align: \"center\"\n      }).css(_patchFontOptions(this._options.text.font)).append(root);\n      bBox = text.getBBox();\n      root.remove();\n      this._textVerticalOffset = -bBox.y - bBox.height / 2;\n      this._textWidth = bBox.width;\n      this._textHeight = bBox.height;\n      this._textUnitWidth = this._textWidth / sampleText.length;\n      this._textFullWidth = this._textWidth + 2 * this._options.horizontalOffset;\n      this._textFullHeight = this._textHeight + 2 * this._options.verticalOffset;\n    }\n  },\n  _render: function () {\n    this._measureText();\n\n    this._cloud = this._cloud || this._renderer.path([], \"area\").append(this._rootElement);\n    this._text = this._text || this._renderer.text().append(this._rootElement);\n\n    this._text.attr({\n      align: \"center\"\n    }).css(_patchFontOptions(this._options.text.font));\n  },\n  _clear: function () {\n    delete this._cloud;\n    delete this._text;\n  },\n  getTooltipParameters: function () {\n    var position = this._getTextCloudOptions();\n\n    return {\n      x: position.x,\n      y: position.y,\n      value: this._currentValue,\n      color: this._options.color\n    };\n  },\n  _correctCloudType: type => type\n});\nexport var BaseRangeBar = BaseIndicator.inherit({\n  _measureText: function () {\n    var root;\n    var text;\n    var bBox;\n    this._hasText = this._isTextVisible();\n\n    if (this._hasText && !this._textVerticalOffset) {\n      root = this._createRoot().append(this._owner);\n      text = this._renderer.text(_getSampleText(this._translator, this._options.text), 0, 0).attr({\n        class: \"dxg-text\",\n        align: \"center\"\n      }).css(_patchFontOptions(this._options.text.font)).append(root);\n      bBox = text.getBBox();\n      root.remove();\n      this._textVerticalOffset = -bBox.y - bBox.height / 2;\n      this._textWidth = bBox.width;\n      this._textHeight = bBox.height;\n    }\n  },\n  _move: function () {\n    this._updateBarItemsPositions();\n\n    if (this._hasText) {\n      this._text.attr({\n        text: _formatValue(this._actualValue, this._options.text)\n      });\n\n      this._updateTextPosition();\n\n      this._updateLinePosition();\n    }\n  },\n  _updateBarItems: function () {\n    var options = this._options;\n    var spaceColor;\n    var translator = this._translator;\n\n    this._setBarSides();\n\n    this._startPosition = translator.translate(translator.getDomainStart());\n    this._endPosition = translator.translate(translator.getDomainEnd());\n    this._basePosition = translator.translate(options.baseValue);\n    this._space = this._getSpace();\n    var backgroundColor = options.backgroundColor || \"none\";\n\n    if (\"none\" !== backgroundColor && this._space > 0) {\n      spaceColor = options.containerBackgroundColor || \"none\";\n    } else {\n      this._space = 0;\n      spaceColor = \"none\";\n    }\n\n    this._backItem1.attr({\n      fill: backgroundColor\n    });\n\n    this._backItem2.attr({\n      fill: backgroundColor\n    });\n\n    this._spaceItem1.attr({\n      fill: spaceColor\n    });\n\n    this._spaceItem2.attr({\n      fill: spaceColor\n    });\n  },\n  _getSpace: function () {\n    return 0;\n  },\n  _updateTextItems: function () {\n    if (this._hasText) {\n      this._line = this._line || this._renderer.path([], \"line\").attr({\n        class: \"dxg-main-bar\",\n        \"stroke-linecap\": \"square\"\n      }).append(this._rootElement);\n      this._text = this._text || this._renderer.text(\"\", 0, 0).attr({\n        class: \"dxg-text\"\n      }).append(this._rootElement);\n\n      this._text.attr({\n        align: this._getTextAlign()\n      }).css(this._getFontOptions());\n\n      this._setTextItemsSides();\n    } else {\n      if (this._line) {\n        this._line.remove();\n\n        delete this._line;\n      }\n\n      if (this._text) {\n        this._text.remove();\n\n        delete this._text;\n      }\n    }\n  },\n  _isTextVisible: function () {\n    return false;\n  },\n  _getTextAlign: function () {\n    return \"center\";\n  },\n  _getFontOptions: function () {\n    var options = this._options;\n    var font = options.text.font;\n\n    if (!font || !font.color) {\n      font = extend({}, font, {\n        color: options.color\n      });\n    }\n\n    return _patchFontOptions(font);\n  },\n  _updateBarItemsPositions: function () {\n    var positions = this._getPositions();\n\n    this._backItem1.attr(this._buildItemSettings(positions.start, positions.back1));\n\n    this._backItem2.attr(this._buildItemSettings(positions.back2, positions.end));\n\n    this._spaceItem1.attr(this._buildItemSettings(positions.back1, positions.main1));\n\n    this._spaceItem2.attr(this._buildItemSettings(positions.main2, positions.back2));\n\n    this._mainItem.attr(this._buildItemSettings(positions.main1, positions.main2));\n\n    this._trackerElement && this._trackerElement.attr(this._buildItemSettings(positions.main1, positions.main2));\n  },\n  _render: function () {\n    this._measureText();\n\n    if (!this._backItem1) {\n      this._backItem1 = this._createBarItem();\n\n      this._backItem1.attr({\n        class: \"dxg-back-bar\"\n      });\n    }\n\n    if (!this._backItem2) {\n      this._backItem2 = this._createBarItem();\n\n      this._backItem2.attr({\n        class: \"dxg-back-bar\"\n      });\n    }\n\n    if (!this._spaceItem1) {\n      this._spaceItem1 = this._createBarItem();\n\n      this._spaceItem1.attr({\n        class: \"dxg-space-bar\"\n      });\n    }\n\n    if (!this._spaceItem2) {\n      this._spaceItem2 = this._createBarItem();\n\n      this._spaceItem2.attr({\n        class: \"dxg-space-bar\"\n      });\n    }\n\n    if (!this._mainItem) {\n      this._mainItem = this._createBarItem();\n\n      this._mainItem.attr({\n        class: \"dxg-main-bar\"\n      });\n    }\n\n    this._updateBarItems();\n\n    this._updateTextItems();\n  },\n  _clear: function () {\n    delete this._backItem1;\n    delete this._backItem2;\n    delete this._spaceItem1;\n    delete this._spaceItem2;\n    delete this._mainItem;\n    delete this._hasText;\n    delete this._line;\n    delete this._text;\n  },\n  getTooltipParameters: function () {\n    var position = this._getTooltipPosition();\n\n    return {\n      x: position.x,\n      y: position.y,\n      value: this._currentValue,\n      color: this._options.color,\n      offset: 0\n    };\n  }\n});","map":{"version":3,"names":["noop","each","_isFinite","isFinite","_Number","Number","_round","Math","round","formatValue","getSampleText","_formatValue","_getSampleText","patchFontOptions","_patchFontOptions","extend","Class","BaseElement","inherit","ctor","parameters","that","name","value","_init","dispose","_dispose","getOffset","_options","offset","BaseIndicator","_rootElement","_createRoot","linkOn","_owner","after","_trackerElement","_createTracker","linkOff","_setupAnimation","animation","_animation","step","pos","_actualValue","start","delta","_actualPosition","_translator","translate","_move","duration","easing","_runAnimation","animate","_","_renderer","g","attr","class","_className","path","_getTrackerSettings","clean","stopAnimation","linkRemove","clear","_clear","_tracker","detach","enabled","render","options","type","_currentValue","adjust","currentValue","_isEnabled","fill","color","linkAppend","attach","_trackerInfo","resize","layout","visible","_isVisible","_render","arg","_noAnimation","val","rootElement","visibility","COEFFICIENTS_MAP","rb","br","lb","bl","lt","tl","rt","tr","getTextCloudInfo","x","y","cloudWidth","cloudHeight","tailWidth","tailHeight","cx","cy","tailLength","min","points","BaseTextCloudMarker","textCloudOptions","_getTextCloudOptions","text","_text","bBox","getBBox","width","length","_textUnitWidth","horizontalOffset","height","_textHeight","verticalOffset","info","arrowLength","_correctCloudType","_textVerticalOffset","_cloud","_measureText","root","sampleText","append","align","css","font","remove","_textWidth","_textFullWidth","_textFullHeight","getTooltipParameters","position","BaseRangeBar","_hasText","_isTextVisible","_updateBarItemsPositions","_updateTextPosition","_updateLinePosition","_updateBarItems","spaceColor","translator","_setBarSides","_startPosition","getDomainStart","_endPosition","getDomainEnd","_basePosition","baseValue","_space","_getSpace","backgroundColor","containerBackgroundColor","_backItem1","_backItem2","_spaceItem1","_spaceItem2","_updateTextItems","_line","_getTextAlign","_getFontOptions","_setTextItemsSides","positions","_getPositions","_buildItemSettings","back1","back2","end","main1","main2","_mainItem","_createBarItem","_getTooltipPosition"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/gauges/base_indicators.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/gauges/base_indicators.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nvar _isFinite = isFinite;\r\nvar _Number = Number;\r\nvar _round = Math.round;\r\nimport {\r\n    formatValue,\r\n    getSampleText\r\n} from \"./base_gauge\";\r\nvar _formatValue = formatValue;\r\nvar _getSampleText = getSampleText;\r\nimport {\r\n    patchFontOptions as _patchFontOptions\r\n} from \"../core/utils\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Class from \"../../core/class\";\r\nexport var BaseElement = Class.inherit({\r\n    ctor: function(parameters) {\r\n        var that = this;\r\n        each(parameters, (function(name, value) {\r\n            that[\"_\" + name] = value\r\n        }));\r\n        that._init()\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        that._dispose();\r\n        each(that, (function(name) {\r\n            that[name] = null\r\n        }));\r\n        return that\r\n    },\r\n    getOffset: function() {\r\n        return _Number(this._options.offset) || 0\r\n    }\r\n});\r\nexport var BaseIndicator = BaseElement.inherit({\r\n    _init: function() {\r\n        this._rootElement = this._createRoot().linkOn(this._owner, {\r\n            name: \"value-indicator\",\r\n            after: \"core\"\r\n        });\r\n        this._trackerElement = this._createTracker()\r\n    },\r\n    _dispose: function() {\r\n        this._rootElement.linkOff()\r\n    },\r\n    _setupAnimation: function() {\r\n        var that = this;\r\n        if (that._options.animation) {\r\n            that._animation = {\r\n                step: function(pos) {\r\n                    that._actualValue = that._animation.start + that._animation.delta * pos;\r\n                    that._actualPosition = that._translator.translate(that._actualValue);\r\n                    that._move()\r\n                },\r\n                duration: that._options.animation.duration > 0 ? _Number(that._options.animation.duration) : 0,\r\n                easing: that._options.animation.easing\r\n            }\r\n        }\r\n    },\r\n    _runAnimation: function(value) {\r\n        var animation = this._animation;\r\n        animation.start = this._actualValue;\r\n        animation.delta = value - this._actualValue;\r\n        this._rootElement.animate({\r\n            _: 0\r\n        }, {\r\n            step: animation.step,\r\n            duration: animation.duration,\r\n            easing: animation.easing\r\n        })\r\n    },\r\n    _createRoot: function() {\r\n        return this._renderer.g().attr({\r\n            class: this._className\r\n        })\r\n    },\r\n    _createTracker: function() {\r\n        return this._renderer.path([], \"area\")\r\n    },\r\n    _getTrackerSettings: noop,\r\n    clean: function() {\r\n        this._animation && this._rootElement.stopAnimation();\r\n        this._rootElement.linkRemove().clear();\r\n        this._clear();\r\n        this._tracker.detach(this._trackerElement);\r\n        this._options = this.enabled = this._animation = null;\r\n        return this\r\n    },\r\n    render: function(options) {\r\n        this.type = options.type;\r\n        this._options = options;\r\n        this._actualValue = this._currentValue = this._translator.adjust(this._options.currentValue);\r\n        this.enabled = this._isEnabled();\r\n        if (this.enabled) {\r\n            this._setupAnimation();\r\n            this._rootElement.attr({\r\n                fill: this._options.color\r\n            }).linkAppend();\r\n            this._tracker.attach(this._trackerElement, this, this._trackerInfo)\r\n        }\r\n        return this\r\n    },\r\n    resize: function(layout) {\r\n        this._rootElement.clear();\r\n        this._clear();\r\n        this.visible = this._isVisible(layout);\r\n        if (this.visible) {\r\n            extend(this._options, layout);\r\n            this._actualPosition = this._translator.translate(this._actualValue);\r\n            this._render();\r\n            this._trackerElement.attr(this._getTrackerSettings());\r\n            this._move()\r\n        }\r\n        return this\r\n    },\r\n    value: function(arg, _noAnimation) {\r\n        var val;\r\n        var rootElement = this._rootElement;\r\n        var visibility = null;\r\n        if (void 0 === arg) {\r\n            return this._currentValue\r\n        }\r\n        if (null === arg) {\r\n            visibility = \"hidden\";\r\n            this._currentValue = arg\r\n        } else {\r\n            val = this._translator.adjust(arg);\r\n            if (this._currentValue !== val && _isFinite(val)) {\r\n                this._currentValue = val;\r\n                if (this.visible) {\r\n                    if (this._animation && !_noAnimation) {\r\n                        this._runAnimation(val)\r\n                    } else {\r\n                        this._actualValue = val;\r\n                        this._actualPosition = this._translator.translate(val);\r\n                        this._move()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        rootElement.attr({\r\n            visibility: visibility\r\n        });\r\n        return this\r\n    },\r\n    _isEnabled: null,\r\n    _isVisible: null,\r\n    _render: null,\r\n    _clear: null,\r\n    _move: null\r\n});\r\nvar COEFFICIENTS_MAP = {};\r\nCOEFFICIENTS_MAP[\"right-bottom\"] = COEFFICIENTS_MAP.rb = [0, -1, -1, 0, 0, 1, 1, 0];\r\nCOEFFICIENTS_MAP[\"bottom-right\"] = COEFFICIENTS_MAP.br = [-1, 0, 0, -1, 1, 0, 0, 1];\r\nCOEFFICIENTS_MAP[\"left-bottom\"] = COEFFICIENTS_MAP.lb = [0, -1, 1, 0, 0, 1, -1, 0];\r\nCOEFFICIENTS_MAP[\"bottom-left\"] = COEFFICIENTS_MAP.bl = [1, 0, 0, -1, -1, 0, 0, 1];\r\nCOEFFICIENTS_MAP[\"left-top\"] = COEFFICIENTS_MAP.lt = [0, 1, 1, 0, 0, -1, -1, 0];\r\nCOEFFICIENTS_MAP[\"top-left\"] = COEFFICIENTS_MAP.tl = [1, 0, 0, 1, -1, 0, 0, -1];\r\nCOEFFICIENTS_MAP[\"right-top\"] = COEFFICIENTS_MAP.rt = [0, 1, -1, 0, 0, -1, 1, 0];\r\nCOEFFICIENTS_MAP[\"top-right\"] = COEFFICIENTS_MAP.tr = [-1, 0, 0, 1, 1, 0, 0, -1];\r\n\r\nfunction getTextCloudInfo(options) {\r\n    var x = options.x;\r\n    var y = options.y;\r\n    var type = COEFFICIENTS_MAP[options.type];\r\n    var cloudWidth = options.cloudWidth;\r\n    var cloudHeight = options.cloudHeight;\r\n    var tailWidth;\r\n    var tailHeight;\r\n    var cx = x;\r\n    var cy = y;\r\n    tailWidth = tailHeight = options.tailLength;\r\n    if (1 & type[0]) {\r\n        tailHeight = Math.min(tailHeight, cloudHeight / 3)\r\n    } else {\r\n        tailWidth = Math.min(tailWidth, cloudWidth / 3)\r\n    }\r\n    return {\r\n        cx: _round(cx + type[0] * tailWidth + (type[0] + type[2]) * cloudWidth / 2),\r\n        cy: _round(cy + type[1] * tailHeight + (type[1] + type[3]) * cloudHeight / 2),\r\n        points: [_round(x), _round(y), _round(x += type[0] * (cloudWidth + tailWidth)), _round(y += type[1] * (cloudHeight + tailHeight)), _round(x += type[2] * cloudWidth), _round(y += type[3] * cloudHeight), _round(x += type[4] * cloudWidth), _round(y += type[5] * cloudHeight), _round(x += type[6] * (cloudWidth - tailWidth)), _round(y += type[7] * (cloudHeight - tailHeight))]\r\n    }\r\n}\r\nexport var BaseTextCloudMarker = BaseIndicator.inherit({\r\n    _move: function() {\r\n        var options = this._options;\r\n        var textCloudOptions = this._getTextCloudOptions();\r\n        var text = _formatValue(this._actualValue, options.text);\r\n        this._text.attr({\r\n            text: text\r\n        });\r\n        var bBox = this._text.getBBox();\r\n        var x = textCloudOptions.x;\r\n        var y = textCloudOptions.y;\r\n        var cloudWidth = (bBox.width || text.length * this._textUnitWidth) + 2 * options.horizontalOffset;\r\n        var cloudHeight = (bBox.height || this._textHeight) + 2 * options.verticalOffset;\r\n        var info = getTextCloudInfo({\r\n            x: x,\r\n            y: y,\r\n            cloudWidth: cloudWidth,\r\n            cloudHeight: cloudHeight,\r\n            tailLength: options.arrowLength,\r\n            type: this._correctCloudType(textCloudOptions.type, {\r\n                x: x,\r\n                y: y\r\n            }, {\r\n                width: cloudWidth,\r\n                height: cloudHeight\r\n            })\r\n        });\r\n        this._text.attr({\r\n            x: info.cx,\r\n            y: info.cy + this._textVerticalOffset\r\n        });\r\n        this._cloud.attr({\r\n            points: info.points\r\n        });\r\n        this._trackerElement && this._trackerElement.attr({\r\n            points: info.points\r\n        })\r\n    },\r\n    _measureText: function() {\r\n        var root;\r\n        var text;\r\n        var bBox;\r\n        var sampleText;\r\n        if (!this._textVerticalOffset) {\r\n            root = this._createRoot().append(this._owner);\r\n            sampleText = _getSampleText(this._translator, this._options.text);\r\n            text = this._renderer.text(sampleText, 0, 0).attr({\r\n                align: \"center\"\r\n            }).css(_patchFontOptions(this._options.text.font)).append(root);\r\n            bBox = text.getBBox();\r\n            root.remove();\r\n            this._textVerticalOffset = -bBox.y - bBox.height / 2;\r\n            this._textWidth = bBox.width;\r\n            this._textHeight = bBox.height;\r\n            this._textUnitWidth = this._textWidth / sampleText.length;\r\n            this._textFullWidth = this._textWidth + 2 * this._options.horizontalOffset;\r\n            this._textFullHeight = this._textHeight + 2 * this._options.verticalOffset\r\n        }\r\n    },\r\n    _render: function() {\r\n        this._measureText();\r\n        this._cloud = this._cloud || this._renderer.path([], \"area\").append(this._rootElement);\r\n        this._text = this._text || this._renderer.text().append(this._rootElement);\r\n        this._text.attr({\r\n            align: \"center\"\r\n        }).css(_patchFontOptions(this._options.text.font))\r\n    },\r\n    _clear: function() {\r\n        delete this._cloud;\r\n        delete this._text\r\n    },\r\n    getTooltipParameters: function() {\r\n        var position = this._getTextCloudOptions();\r\n        return {\r\n            x: position.x,\r\n            y: position.y,\r\n            value: this._currentValue,\r\n            color: this._options.color\r\n        }\r\n    },\r\n    _correctCloudType: type => type\r\n});\r\nexport var BaseRangeBar = BaseIndicator.inherit({\r\n    _measureText: function() {\r\n        var root;\r\n        var text;\r\n        var bBox;\r\n        this._hasText = this._isTextVisible();\r\n        if (this._hasText && !this._textVerticalOffset) {\r\n            root = this._createRoot().append(this._owner);\r\n            text = this._renderer.text(_getSampleText(this._translator, this._options.text), 0, 0).attr({\r\n                class: \"dxg-text\",\r\n                align: \"center\"\r\n            }).css(_patchFontOptions(this._options.text.font)).append(root);\r\n            bBox = text.getBBox();\r\n            root.remove();\r\n            this._textVerticalOffset = -bBox.y - bBox.height / 2;\r\n            this._textWidth = bBox.width;\r\n            this._textHeight = bBox.height\r\n        }\r\n    },\r\n    _move: function() {\r\n        this._updateBarItemsPositions();\r\n        if (this._hasText) {\r\n            this._text.attr({\r\n                text: _formatValue(this._actualValue, this._options.text)\r\n            });\r\n            this._updateTextPosition();\r\n            this._updateLinePosition()\r\n        }\r\n    },\r\n    _updateBarItems: function() {\r\n        var options = this._options;\r\n        var spaceColor;\r\n        var translator = this._translator;\r\n        this._setBarSides();\r\n        this._startPosition = translator.translate(translator.getDomainStart());\r\n        this._endPosition = translator.translate(translator.getDomainEnd());\r\n        this._basePosition = translator.translate(options.baseValue);\r\n        this._space = this._getSpace();\r\n        var backgroundColor = options.backgroundColor || \"none\";\r\n        if (\"none\" !== backgroundColor && this._space > 0) {\r\n            spaceColor = options.containerBackgroundColor || \"none\"\r\n        } else {\r\n            this._space = 0;\r\n            spaceColor = \"none\"\r\n        }\r\n        this._backItem1.attr({\r\n            fill: backgroundColor\r\n        });\r\n        this._backItem2.attr({\r\n            fill: backgroundColor\r\n        });\r\n        this._spaceItem1.attr({\r\n            fill: spaceColor\r\n        });\r\n        this._spaceItem2.attr({\r\n            fill: spaceColor\r\n        })\r\n    },\r\n    _getSpace: function() {\r\n        return 0\r\n    },\r\n    _updateTextItems: function() {\r\n        if (this._hasText) {\r\n            this._line = this._line || this._renderer.path([], \"line\").attr({\r\n                class: \"dxg-main-bar\",\r\n                \"stroke-linecap\": \"square\"\r\n            }).append(this._rootElement);\r\n            this._text = this._text || this._renderer.text(\"\", 0, 0).attr({\r\n                class: \"dxg-text\"\r\n            }).append(this._rootElement);\r\n            this._text.attr({\r\n                align: this._getTextAlign()\r\n            }).css(this._getFontOptions());\r\n            this._setTextItemsSides()\r\n        } else {\r\n            if (this._line) {\r\n                this._line.remove();\r\n                delete this._line\r\n            }\r\n            if (this._text) {\r\n                this._text.remove();\r\n                delete this._text\r\n            }\r\n        }\r\n    },\r\n    _isTextVisible: function() {\r\n        return false\r\n    },\r\n    _getTextAlign: function() {\r\n        return \"center\"\r\n    },\r\n    _getFontOptions: function() {\r\n        var options = this._options;\r\n        var font = options.text.font;\r\n        if (!font || !font.color) {\r\n            font = extend({}, font, {\r\n                color: options.color\r\n            })\r\n        }\r\n        return _patchFontOptions(font)\r\n    },\r\n    _updateBarItemsPositions: function() {\r\n        var positions = this._getPositions();\r\n        this._backItem1.attr(this._buildItemSettings(positions.start, positions.back1));\r\n        this._backItem2.attr(this._buildItemSettings(positions.back2, positions.end));\r\n        this._spaceItem1.attr(this._buildItemSettings(positions.back1, positions.main1));\r\n        this._spaceItem2.attr(this._buildItemSettings(positions.main2, positions.back2));\r\n        this._mainItem.attr(this._buildItemSettings(positions.main1, positions.main2));\r\n        this._trackerElement && this._trackerElement.attr(this._buildItemSettings(positions.main1, positions.main2))\r\n    },\r\n    _render: function() {\r\n        this._measureText();\r\n        if (!this._backItem1) {\r\n            this._backItem1 = this._createBarItem();\r\n            this._backItem1.attr({\r\n                class: \"dxg-back-bar\"\r\n            })\r\n        }\r\n        if (!this._backItem2) {\r\n            this._backItem2 = this._createBarItem();\r\n            this._backItem2.attr({\r\n                class: \"dxg-back-bar\"\r\n            })\r\n        }\r\n        if (!this._spaceItem1) {\r\n            this._spaceItem1 = this._createBarItem();\r\n            this._spaceItem1.attr({\r\n                class: \"dxg-space-bar\"\r\n            })\r\n        }\r\n        if (!this._spaceItem2) {\r\n            this._spaceItem2 = this._createBarItem();\r\n            this._spaceItem2.attr({\r\n                class: \"dxg-space-bar\"\r\n            })\r\n        }\r\n        if (!this._mainItem) {\r\n            this._mainItem = this._createBarItem();\r\n            this._mainItem.attr({\r\n                class: \"dxg-main-bar\"\r\n            })\r\n        }\r\n        this._updateBarItems();\r\n        this._updateTextItems()\r\n    },\r\n    _clear: function() {\r\n        delete this._backItem1;\r\n        delete this._backItem2;\r\n        delete this._spaceItem1;\r\n        delete this._spaceItem2;\r\n        delete this._mainItem;\r\n        delete this._hasText;\r\n        delete this._line;\r\n        delete this._text\r\n    },\r\n    getTooltipParameters: function() {\r\n        var position = this._getTooltipPosition();\r\n        return {\r\n            x: position.x,\r\n            y: position.y,\r\n            value: this._currentValue,\r\n            color: this._options.color,\r\n            offset: 0\r\n        }\r\n    }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
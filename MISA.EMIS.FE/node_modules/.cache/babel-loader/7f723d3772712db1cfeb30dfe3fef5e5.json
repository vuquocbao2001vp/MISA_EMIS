{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.cache.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extendFromObject } from \"../../core/utils/extend\";\nexport class GanttDataCache {\n  constructor() {\n    this._cache = {};\n    this._timers = {};\n  }\n\n  saveData(key, data, keyExpireCallback) {\n    if (data) {\n      this._clearTimer(key);\n\n      var storage = this._getCache(key, true);\n\n      extendFromObject(storage, data, true);\n\n      if (keyExpireCallback) {\n        this._setExpireTimer(key, keyExpireCallback);\n      }\n    }\n  }\n\n  pullDataFromCache(key, target) {\n    var data = this._getCache(key);\n\n    if (data) {\n      extendFromObject(target, data);\n    }\n\n    this._onKeyExpired(key);\n  }\n\n  hasData(key) {\n    return !!this._cache[key];\n  }\n\n  resetCache(key) {\n    this._onKeyExpired(key);\n  }\n\n  _getCache(key, forceCreate) {\n    if (!this._cache[key] && forceCreate) {\n      this._cache[key] = {};\n    }\n\n    return this._cache[key];\n  }\n\n  _setExpireTimer(key, callback) {\n    this._timers[key] = setTimeout(() => {\n      callback(key, this._getCache(key));\n\n      this._onKeyExpired(key);\n    }, 200);\n  }\n\n  _onKeyExpired(key) {\n    this._clearCache(key);\n\n    this._clearTimer(key);\n  }\n\n  _clearCache(key) {\n    delete this._cache[key];\n  }\n\n  _clearTimer(key) {\n    var timers = this._timers;\n\n    if (timers && timers[key]) {\n      clearTimeout(timers[key]);\n      delete timers[key];\n    }\n  }\n\n}","map":{"version":3,"names":["extendFromObject","GanttDataCache","constructor","_cache","_timers","saveData","key","data","keyExpireCallback","_clearTimer","storage","_getCache","_setExpireTimer","pullDataFromCache","target","_onKeyExpired","hasData","resetCache","forceCreate","callback","setTimeout","_clearCache","timers","clearTimeout"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/gantt/ui.gantt.cache.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.cache.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extendFromObject\r\n} from \"../../core/utils/extend\";\r\nexport class GanttDataCache {\r\n    constructor() {\r\n        this._cache = {};\r\n        this._timers = {}\r\n    }\r\n    saveData(key, data, keyExpireCallback) {\r\n        if (data) {\r\n            this._clearTimer(key);\r\n            var storage = this._getCache(key, true);\r\n            extendFromObject(storage, data, true);\r\n            if (keyExpireCallback) {\r\n                this._setExpireTimer(key, keyExpireCallback)\r\n            }\r\n        }\r\n    }\r\n    pullDataFromCache(key, target) {\r\n        var data = this._getCache(key);\r\n        if (data) {\r\n            extendFromObject(target, data)\r\n        }\r\n        this._onKeyExpired(key)\r\n    }\r\n    hasData(key) {\r\n        return !!this._cache[key]\r\n    }\r\n    resetCache(key) {\r\n        this._onKeyExpired(key)\r\n    }\r\n    _getCache(key, forceCreate) {\r\n        if (!this._cache[key] && forceCreate) {\r\n            this._cache[key] = {}\r\n        }\r\n        return this._cache[key]\r\n    }\r\n    _setExpireTimer(key, callback) {\r\n        this._timers[key] = setTimeout(() => {\r\n            callback(key, this._getCache(key));\r\n            this._onKeyExpired(key)\r\n        }, 200)\r\n    }\r\n    _onKeyExpired(key) {\r\n        this._clearCache(key);\r\n        this._clearTimer(key)\r\n    }\r\n    _clearCache(key) {\r\n        delete this._cache[key]\r\n    }\r\n    _clearTimer(key) {\r\n        var timers = this._timers;\r\n        if (timers && timers[key]) {\r\n            clearTimeout(timers[key]);\r\n            delete timers[key]\r\n        }\r\n    }\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,gBADJ,QAEO,yBAFP;AAGA,OAAO,MAAMC,cAAN,CAAqB;EACxBC,WAAW,GAAG;IACV,KAAKC,MAAL,GAAc,EAAd;IACA,KAAKC,OAAL,GAAe,EAAf;EACH;;EACDC,QAAQ,CAACC,GAAD,EAAMC,IAAN,EAAYC,iBAAZ,EAA+B;IACnC,IAAID,IAAJ,EAAU;MACN,KAAKE,WAAL,CAAiBH,GAAjB;;MACA,IAAII,OAAO,GAAG,KAAKC,SAAL,CAAeL,GAAf,EAAoB,IAApB,CAAd;;MACAN,gBAAgB,CAACU,OAAD,EAAUH,IAAV,EAAgB,IAAhB,CAAhB;;MACA,IAAIC,iBAAJ,EAAuB;QACnB,KAAKI,eAAL,CAAqBN,GAArB,EAA0BE,iBAA1B;MACH;IACJ;EACJ;;EACDK,iBAAiB,CAACP,GAAD,EAAMQ,MAAN,EAAc;IAC3B,IAAIP,IAAI,GAAG,KAAKI,SAAL,CAAeL,GAAf,CAAX;;IACA,IAAIC,IAAJ,EAAU;MACNP,gBAAgB,CAACc,MAAD,EAASP,IAAT,CAAhB;IACH;;IACD,KAAKQ,aAAL,CAAmBT,GAAnB;EACH;;EACDU,OAAO,CAACV,GAAD,EAAM;IACT,OAAO,CAAC,CAAC,KAAKH,MAAL,CAAYG,GAAZ,CAAT;EACH;;EACDW,UAAU,CAACX,GAAD,EAAM;IACZ,KAAKS,aAAL,CAAmBT,GAAnB;EACH;;EACDK,SAAS,CAACL,GAAD,EAAMY,WAAN,EAAmB;IACxB,IAAI,CAAC,KAAKf,MAAL,CAAYG,GAAZ,CAAD,IAAqBY,WAAzB,EAAsC;MAClC,KAAKf,MAAL,CAAYG,GAAZ,IAAmB,EAAnB;IACH;;IACD,OAAO,KAAKH,MAAL,CAAYG,GAAZ,CAAP;EACH;;EACDM,eAAe,CAACN,GAAD,EAAMa,QAAN,EAAgB;IAC3B,KAAKf,OAAL,CAAaE,GAAb,IAAoBc,UAAU,CAAC,MAAM;MACjCD,QAAQ,CAACb,GAAD,EAAM,KAAKK,SAAL,CAAeL,GAAf,CAAN,CAAR;;MACA,KAAKS,aAAL,CAAmBT,GAAnB;IACH,CAH6B,EAG3B,GAH2B,CAA9B;EAIH;;EACDS,aAAa,CAACT,GAAD,EAAM;IACf,KAAKe,WAAL,CAAiBf,GAAjB;;IACA,KAAKG,WAAL,CAAiBH,GAAjB;EACH;;EACDe,WAAW,CAACf,GAAD,EAAM;IACb,OAAO,KAAKH,MAAL,CAAYG,GAAZ,CAAP;EACH;;EACDG,WAAW,CAACH,GAAD,EAAM;IACb,IAAIgB,MAAM,GAAG,KAAKlB,OAAlB;;IACA,IAAIkB,MAAM,IAAIA,MAAM,CAAChB,GAAD,CAApB,EAA2B;MACvBiB,YAAY,CAACD,MAAM,CAAChB,GAAD,CAAP,CAAZ;MACA,OAAOgB,MAAM,CAAChB,GAAD,CAAb;IACH;EACJ;;AArDuB"},"metadata":{},"sourceType":"module"}
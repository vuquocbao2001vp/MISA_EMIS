{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.actions.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { getPublicElement } from \"../../core/element\";\nvar Actions = {\n  onContextMenuPreparing: \"onContextMenuPreparing\",\n  onCustomCommand: \"onCustomCommand\",\n  onDependencyDeleted: \"onDependencyDeleted\",\n  onDependencyDeleting: \"onDependencyDeleting\",\n  onDependencyInserted: \"onDependencyInserted\",\n  onDependencyInserting: \"onDependencyInserting\",\n  onResourceAssigned: \"onResourceAssigned\",\n  onResourceAssigning: \"onResourceAssigning\",\n  onResourceDeleted: \"onResourceDeleted\",\n  onResourceDeleting: \"onResourceDeleting\",\n  onResourceInserted: \"onResourceInserted\",\n  onResourceInserting: \"onResourceInserting\",\n  onResourceManagerDialogShowing: \"onResourceManagerDialogShowing\",\n  onResourceUnassigned: \"onResourceUnassigned\",\n  onResourceUnassigning: \"onResourceUnassigning\",\n  onSelectionChanged: \"onSelectionChanged\",\n  onTaskClick: \"onTaskClick\",\n  onTaskDblClick: \"onTaskDblClick\",\n  onTaskDeleted: \"onTaskDeleted\",\n  onTaskDeleting: \"onTaskDeleting\",\n  onTaskEditDialogShowing: \"onTaskEditDialogShowing\",\n  onTaskInserted: \"onTaskInserted\",\n  onTaskInserting: \"onTaskInserting\",\n  onTaskMoving: \"onTaskMoving\",\n  onTaskUpdated: \"onTaskUpdated\",\n  onTaskUpdating: \"onTaskUpdating\",\n  onScaleCellPrepared: \"onScaleCellPrepared\"\n};\nvar GANTT_TASKS = \"tasks\";\nvar GANTT_DEPENDENCIES = \"dependencies\";\nvar GANTT_RESOURCES = \"resources\";\nvar GANTT_RESOURCE_ASSIGNMENTS = \"resourceAssignments\";\nvar GANTT_NEW_TASK_CACHE_KEY = \"gantt_new_task_key\";\nexport class GanttActionsManager {\n  constructor(gantt) {\n    this._gantt = gantt;\n    this._mappingHelper = gantt._mappingHelper;\n    this._customFieldsManager = gantt._customFieldsManager;\n  }\n\n  _createActionByOption(optionName) {\n    return this._gantt._createActionByOption(optionName);\n  }\n\n  _getTaskData(key) {\n    return this._gantt.getTaskData(key);\n  }\n\n  _convertCoreToMappedData(optionName, coreData) {\n    return this._mappingHelper.convertCoreToMappedData(optionName, coreData);\n  }\n\n  _convertMappedToCoreData(optionName, mappedData) {\n    return this._mappingHelper.convertMappedToCoreData(optionName, mappedData);\n  }\n\n  _convertMappedToCoreFields(optionName, fields) {\n    return this._mappingHelper.convertMappedToCoreFields(optionName, fields);\n  }\n\n  _convertCoreToMappedFields(optionName, fields) {\n    return this._mappingHelper.convertCoreToMappedFields(optionName, fields);\n  }\n\n  _saveCustomFieldsDataToCache(key, data) {\n    var forceUpdateOnKeyExpire = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : false;\n    var isCustomFieldsUpdateOnly = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : false;\n\n    this._customFieldsManager.saveCustomFieldsDataToCache(key, data, forceUpdateOnKeyExpire, isCustomFieldsUpdateOnly);\n  }\n\n  createTaskDblClickAction() {\n    this._taskDblClickAction = this._createActionByOption(Actions.onTaskDblClick);\n  }\n\n  taskDblClickAction(args) {\n    if (!this._taskDblClickAction) {\n      this.createTaskDblClickAction();\n    }\n\n    this._taskDblClickAction(args);\n  }\n\n  raiseTaskDblClickAction(key, event) {\n    var args = {\n      cancel: false,\n      data: this._getTaskData(key),\n      event: event,\n      key: key\n    };\n    this.taskDblClickAction(args);\n    return !args.cancel;\n  }\n\n  createTaskClickAction() {\n    this._taskClickAction = this._createActionByOption(Actions.onTaskClick);\n  }\n\n  taskClickAction(args) {\n    if (!this._taskClickAction) {\n      this.createTaskClickAction();\n    }\n\n    this._taskClickAction(args);\n  }\n\n  raiseTaskClickAction(key, event) {\n    var args = {\n      key: key,\n      event: event,\n      data: this._getTaskData(key)\n    };\n    this.taskClickAction(args);\n  }\n\n  createSelectionChangedAction() {\n    this._selectionChangedAction = this._createActionByOption(Actions.onSelectionChanged);\n  }\n\n  selectionChangedAction(args) {\n    if (!this._selectionChangedAction) {\n      this.createSelectionChangedAction();\n    }\n\n    this._selectionChangedAction(args);\n  }\n\n  raiseSelectionChangedAction(selectedRowKey) {\n    this.selectionChangedAction({\n      selectedRowKey: selectedRowKey\n    });\n  }\n\n  createCustomCommandAction() {\n    this._customCommandAction = this._createActionByOption(Actions.onCustomCommand);\n  }\n\n  customCommandAction(args) {\n    if (!this._customCommandAction) {\n      this.createCustomCommandAction();\n    }\n\n    this._customCommandAction(args);\n  }\n\n  raiseCustomCommand(commandName) {\n    this.customCommandAction({\n      name: commandName\n    });\n  }\n\n  createContextMenuPreparingAction() {\n    this._contextMenuPreparingAction = this._createActionByOption(Actions.onContextMenuPreparing);\n  }\n\n  contextMenuPreparingAction(args) {\n    if (!this._contextMenuPreparingAction) {\n      this.createContextMenuPreparingAction();\n    }\n\n    this._contextMenuPreparingAction(args);\n  }\n\n  raiseContextMenuPreparing(options) {\n    this.contextMenuPreparingAction(options);\n  }\n\n  _getInsertingAction(optionName) {\n    switch (optionName) {\n      case GANTT_TASKS:\n        return this._getTaskInsertingAction();\n\n      case GANTT_DEPENDENCIES:\n        return this._getDependencyInsertingAction();\n\n      case GANTT_RESOURCES:\n        return this._getResourceInsertingAction();\n\n      case GANTT_RESOURCE_ASSIGNMENTS:\n        return this._getResourceAssigningAction();\n    }\n\n    return () => {};\n  }\n\n  raiseInsertingAction(optionName, coreArgs) {\n    var action = this._getInsertingAction(optionName);\n\n    if (action) {\n      var args = {\n        cancel: false,\n        values: this._convertCoreToMappedData(optionName, coreArgs.values)\n      };\n      action(args);\n      coreArgs.cancel = args.cancel;\n      coreArgs.values = this._convertMappedToCoreData(optionName, args.values);\n\n      if (optionName === GANTT_TASKS) {\n        this._saveCustomFieldsDataToCache(GANTT_NEW_TASK_CACHE_KEY, args.values);\n      }\n    }\n  }\n\n  createTaskInsertingAction() {\n    this._taskInsertingAction = this._createActionByOption(Actions.onTaskInserting);\n  }\n\n  taskInsertingAction(args) {\n    var action = this._getTaskInsertingAction();\n\n    action(args);\n  }\n\n  _getTaskInsertingAction() {\n    if (!this._taskInsertingAction) {\n      this.createTaskInsertingAction();\n    }\n\n    return this._taskInsertingAction;\n  }\n\n  createDependencyInsertingAction() {\n    this._dependencyInsertingAction = this._createActionByOption(Actions.onDependencyInserting);\n  }\n\n  dependencyInsertingAction(args) {\n    var action = this._getDependencyInsertingAction();\n\n    action(args);\n  }\n\n  _getDependencyInsertingAction() {\n    if (!this._dependencyInsertingAction) {\n      this.createDependencyInsertingAction();\n    }\n\n    return this._dependencyInsertingAction;\n  }\n\n  createResourceInsertingAction() {\n    this._resourceInsertingAction = this._createActionByOption(Actions.onResourceInserting);\n  }\n\n  resourceInsertingAction(args) {\n    var action = this._getResourceInsertingAction();\n\n    action(args);\n  }\n\n  _getResourceInsertingAction() {\n    if (!this._resourceInsertingAction) {\n      this.createResourceInsertingAction();\n    }\n\n    return this._resourceInsertingAction;\n  }\n\n  createResourceAssigningAction() {\n    this._resourceAssigningAction = this._createActionByOption(Actions.onResourceAssigning);\n  }\n\n  resourceAssigningAction(args) {\n    var action = this._getResourceAssigningAction();\n\n    action(args);\n  }\n\n  _getResourceAssigningAction() {\n    if (!this._resourceAssigningAction) {\n      this.createResourceAssigningAction();\n    }\n\n    return this._resourceAssigningAction;\n  }\n\n  _getInsertedAction(optionName) {\n    switch (optionName) {\n      case GANTT_TASKS:\n        return this._getTaskInsertedAction();\n\n      case GANTT_DEPENDENCIES:\n        return this._getDependencyInsertedAction();\n\n      case GANTT_RESOURCES:\n        return this._getResourceInsertedAction();\n\n      case GANTT_RESOURCE_ASSIGNMENTS:\n        return this._getResourceAssignedAction();\n    }\n\n    return () => {};\n  }\n\n  raiseInsertedAction(optionName, data, key) {\n    var action = this._getInsertedAction(optionName);\n\n    if (action) {\n      var args = {\n        values: data,\n        key: key\n      };\n      action(args);\n    }\n  }\n\n  createTaskInsertedAction() {\n    this._taskInsertedAction = this._createActionByOption(Actions.onTaskInserted);\n  }\n\n  taskInsertedAction(args) {\n    var action = this._getTaskInsertedAction();\n\n    action(args);\n  }\n\n  _getTaskInsertedAction() {\n    if (!this._taskInsertedAction) {\n      this.createTaskInsertedAction();\n    }\n\n    return this._taskInsertedAction;\n  }\n\n  createDependencyInsertedAction() {\n    this._dependencyInsertedAction = this._createActionByOption(Actions.onDependencyInserted);\n  }\n\n  dependencyInsertedAction(args) {\n    var action = this._getDependencyInsertedAction();\n\n    action(args);\n  }\n\n  _getDependencyInsertedAction() {\n    if (!this._dependencyInsertedAction) {\n      this.createDependencyInsertedAction();\n    }\n\n    return this._dependencyInsertedAction;\n  }\n\n  createResourceInsertedAction() {\n    this._resourceInsertedAction = this._createActionByOption(Actions.onResourceInserted);\n  }\n\n  resourceInsertedAction(args) {\n    var action = this._getResourceInsertedAction();\n\n    action(args);\n  }\n\n  _getResourceInsertedAction() {\n    if (!this._resourceInsertedAction) {\n      this.createResourceInsertedAction();\n    }\n\n    return this._resourceInsertedAction;\n  }\n\n  createResourceAssignedAction() {\n    this._resourceAssignedAction = this._createActionByOption(Actions.onResourceAssigned);\n  }\n\n  resourceAssignedAction(args) {\n    var action = this._getResourceAssignedAction();\n\n    action(args);\n  }\n\n  _getResourceAssignedAction() {\n    if (!this._resourceAssignedAction) {\n      this.createResourceAssignedAction();\n    }\n\n    return this._resourceAssignedAction;\n  }\n\n  _getDeletingAction(optionName) {\n    switch (optionName) {\n      case GANTT_TASKS:\n        return this._getTaskDeletingAction();\n\n      case GANTT_DEPENDENCIES:\n        return this._getDependencyDeletingAction();\n\n      case GANTT_RESOURCES:\n        return this._getResourceDeletingAction();\n\n      case GANTT_RESOURCE_ASSIGNMENTS:\n        return this._getResourceUnassigningAction();\n    }\n\n    return () => {};\n  }\n\n  raiseDeletingAction(optionName, coreArgs) {\n    var action = this._getDeletingAction(optionName);\n\n    if (action) {\n      var args = {\n        cancel: false,\n        key: coreArgs.key,\n        values: this._convertCoreToMappedData(optionName, coreArgs.values)\n      };\n      action(args);\n      coreArgs.cancel = args.cancel;\n    }\n  }\n\n  createTaskDeletingAction() {\n    this._taskDeletingAction = this._createActionByOption(Actions.onTaskDeleting);\n  }\n\n  taskDeletingAction(args) {\n    var action = this._getTaskDeletingAction();\n\n    action(args);\n  }\n\n  _getTaskDeletingAction() {\n    if (!this._taskDeletingAction) {\n      this.createTaskDeletingAction();\n    }\n\n    return this._taskDeletingAction;\n  }\n\n  createDependencyDeletingAction() {\n    this._dependencyDeletingAction = this._createActionByOption(Actions.onDependencyDeleting);\n  }\n\n  dependencyDeletingAction(args) {\n    var action = this._getDependencyDeletingAction();\n\n    action(args);\n  }\n\n  _getDependencyDeletingAction() {\n    if (!this._dependencyDeletingAction) {\n      this.createDependencyDeletingAction();\n    }\n\n    return this._dependencyDeletingAction;\n  }\n\n  createResourceDeletingAction() {\n    this._resourceDeletingAction = this._createActionByOption(Actions.onResourceDeleting);\n  }\n\n  resourceDeletingAction(args) {\n    var action = this._getResourceDeletingAction();\n\n    action(args);\n  }\n\n  _getResourceDeletingAction() {\n    if (!this._resourceDeletingAction) {\n      this.createResourceDeletingAction();\n    }\n\n    return this._resourceDeletingAction;\n  }\n\n  createResourceUnassigningAction() {\n    this._resourceUnassigningAction = this._createActionByOption(Actions.onResourceUnassigning);\n  }\n\n  resourceUnassigningAction(args) {\n    var action = this._getResourceUnassigningAction();\n\n    action(args);\n  }\n\n  _getResourceUnassigningAction() {\n    if (!this._resourceUnassigningAction) {\n      this.createResourceUnassigningAction();\n    }\n\n    return this._resourceUnassigningAction;\n  }\n\n  _getDeletedAction(optionName) {\n    switch (optionName) {\n      case GANTT_TASKS:\n        return this._getTaskDeletedAction();\n\n      case GANTT_DEPENDENCIES:\n        return this._getDependencyDeletedAction();\n\n      case GANTT_RESOURCES:\n        return this._getResourceDeletedAction();\n\n      case GANTT_RESOURCE_ASSIGNMENTS:\n        return this._getResourceUnassignedAction();\n    }\n\n    return () => {};\n  }\n\n  raiseDeletedAction(optionName, key, data) {\n    var action = this._getDeletedAction(optionName);\n\n    if (action) {\n      var args = {\n        key: key,\n        values: data\n      };\n      action(args);\n    }\n  }\n\n  createTaskDeletedAction() {\n    this._taskDeletedAction = this._createActionByOption(Actions.onTaskDeleted);\n  }\n\n  taskDeletedAction(args) {\n    var action = this._getTaskDeletedAction();\n\n    action(args);\n  }\n\n  _getTaskDeletedAction() {\n    if (!this._taskDeletedAction) {\n      this.createTaskDeletedAction();\n    }\n\n    return this._taskDeletedAction;\n  }\n\n  createDependencyDeletedAction() {\n    this._dependencyDeletedAction = this._createActionByOption(Actions.onDependencyDeleted);\n  }\n\n  dependencyDeletedAction(args) {\n    var action = this._getDependencyDeletedAction();\n\n    action(args);\n  }\n\n  _getDependencyDeletedAction() {\n    if (!this._dependencyDeletedAction) {\n      this.createDependencyDeletedAction();\n    }\n\n    return this._dependencyDeletedAction;\n  }\n\n  createResourceDeletedAction() {\n    this._resourceDeletedAction = this._createActionByOption(Actions.onResourceDeleted);\n  }\n\n  resourceDeletedAction(args) {\n    var action = this._getResourceDeletedAction();\n\n    action(args);\n  }\n\n  _getResourceDeletedAction() {\n    if (!this._resourceDeletedAction) {\n      this.createResourceDeletedAction();\n    }\n\n    return this._resourceDeletedAction;\n  }\n\n  createResourceUnassignedAction() {\n    this._resourceUnassignedAction = this._createActionByOption(Actions.onResourceUnassigned);\n  }\n\n  resourceUnassignedAction(args) {\n    var action = this._getResourceUnassignedAction();\n\n    action(args);\n  }\n\n  _getResourceUnassignedAction() {\n    if (!this._resourceUnassignedAction) {\n      this.createResourceUnassignedAction();\n    }\n\n    return this._resourceUnassignedAction;\n  }\n\n  _getUpdatingAction(optionName) {\n    switch (optionName) {\n      case GANTT_TASKS:\n        return this._getTaskUpdatingAction();\n    }\n\n    return () => {};\n  }\n\n  raiseUpdatingAction(optionName, coreArgs, action) {\n    action = action || this._getUpdatingAction(optionName);\n\n    if (action) {\n      var isTaskUpdating = optionName === GANTT_TASKS;\n      var args = {\n        cancel: false,\n        key: coreArgs.key,\n        newValues: this._convertCoreToMappedData(optionName, coreArgs.newValues),\n        values: isTaskUpdating ? this._getTaskData(coreArgs.key) : this._convertCoreToMappedData(optionName, coreArgs.values)\n      };\n\n      if (isTaskUpdating && this._customFieldsManager.cache.hasData(args.key)) {\n        this._customFieldsManager.addCustomFieldsDataFromCache(args.key, args.newValues);\n      }\n\n      action(args);\n      coreArgs.cancel = args.cancel;\n      coreArgs.newValues = this._convertMappedToCoreData(optionName, args.newValues);\n\n      if (isTaskUpdating) {\n        if (args.cancel) {\n          this._customFieldsManager.resetCustomFieldsDataCache(args.key);\n        } else {\n          var forceUpdateOnKeyExpire = !Object.keys(coreArgs.newValues).length;\n\n          this._saveCustomFieldsDataToCache(args.key, args.newValues, forceUpdateOnKeyExpire);\n        }\n      }\n    }\n  }\n\n  createTaskUpdatingAction() {\n    this._taskUpdatingAction = this._createActionByOption(Actions.onTaskUpdating);\n  }\n\n  taskUpdatingAction(args) {\n    var action = this._getTaskUpdatingAction();\n\n    action(args);\n  }\n\n  _getTaskUpdatingAction() {\n    if (!this._taskUpdatingAction) {\n      this.createTaskUpdatingAction();\n    }\n\n    return this._taskUpdatingAction;\n  }\n\n  _getUpdatedAction(optionName) {\n    switch (optionName) {\n      case GANTT_TASKS:\n        return this._getTaskUpdatedAction();\n    }\n\n    return () => {};\n  }\n\n  raiseUpdatedAction(optionName, data, key) {\n    var action = this._getUpdatedAction(optionName);\n\n    if (action) {\n      var args = {\n        values: data,\n        key: key\n      };\n      action(args);\n    }\n  }\n\n  createTaskUpdatedAction() {\n    this._taskUpdatedAction = this._createActionByOption(Actions.onTaskUpdated);\n  }\n\n  taskUpdatedAction(args) {\n    var action = this._getTaskUpdatedAction();\n\n    action(args);\n  }\n\n  _getTaskUpdatedAction() {\n    if (!this._taskUpdatedAction) {\n      this.createTaskUpdatedAction();\n    }\n\n    return this._taskUpdatedAction;\n  }\n\n  createTaskEditDialogShowingAction() {\n    this._taskEditDialogShowingAction = this._createActionByOption(Actions.onTaskEditDialogShowing);\n  }\n\n  taskEditDialogShowingAction(args) {\n    var action = this._getTaskEditDialogShowingAction();\n\n    action(args);\n  }\n\n  _getTaskEditDialogShowingAction() {\n    if (!this._taskEditDialogShowingAction) {\n      this.createTaskEditDialogShowingAction();\n    }\n\n    return this._taskEditDialogShowingAction;\n  }\n\n  raiseTaskEditDialogShowingAction(coreArgs) {\n    var action = this._getTaskEditDialogShowingAction();\n\n    if (action) {\n      var args = {\n        cancel: false,\n        key: coreArgs.key,\n        values: this._convertCoreToMappedData(GANTT_TASKS, coreArgs.values),\n        readOnlyFields: this._convertCoreToMappedFields(GANTT_TASKS, coreArgs.readOnlyFields),\n        hiddenFields: this._convertCoreToMappedFields(GANTT_TASKS, coreArgs.hiddenFields)\n      };\n      action(args);\n      coreArgs.cancel = args.cancel;\n      coreArgs.values = this._convertMappedToCoreData(GANTT_TASKS, args.values);\n      coreArgs.readOnlyFields = this._convertMappedToCoreFields(GANTT_TASKS, args.readOnlyFields);\n      coreArgs.hiddenFields = this._convertMappedToCoreFields(GANTT_TASKS, args.hiddenFields);\n    }\n  }\n\n  createResourceManagerDialogShowingAction() {\n    this._resourceManagerDialogShowingAction = this._createActionByOption(Actions.onResourceManagerDialogShowing);\n  }\n\n  resourceManagerDialogShowingAction(args) {\n    var action = this._getResourceManagerDialogShowingAction();\n\n    action(args);\n  }\n\n  _getResourceManagerDialogShowingAction() {\n    if (!this._resourceManagerDialogShowingAction) {\n      this.createResourceManagerDialogShowingAction();\n    }\n\n    return this._resourceManagerDialogShowingAction;\n  }\n\n  raiseResourceManagerDialogShowingAction(coreArgs) {\n    var action = this._getResourceManagerDialogShowingAction();\n\n    if (action) {\n      var mappedResources = coreArgs.values.resources.items.map(r => this._convertMappedToCoreData(GANTT_RESOURCES, r));\n      var args = {\n        cancel: false,\n        values: mappedResources\n      };\n      action(args);\n      coreArgs.cancel = args.cancel;\n    }\n  }\n\n  createTaskMovingAction() {\n    this._taskMovingAction = this._createActionByOption(Actions.onTaskMoving);\n  }\n\n  taskMovingAction(args) {\n    var action = this.getTaskMovingAction();\n    action(args);\n  }\n\n  getTaskMovingAction() {\n    if (!this._taskMovingAction) {\n      this.createTaskMovingAction();\n    }\n\n    return this._taskMovingAction;\n  }\n\n  getScaleCellPreparedAction() {\n    if (!this._scaleCellPreparedAction) {\n      this.createScaleCellPreparedAction();\n    }\n\n    return this._scaleCellPreparedAction;\n  }\n\n  createScaleCellPreparedAction() {\n    this._scaleCellPreparedAction = this._createActionByOption(Actions.onScaleCellPrepared);\n  }\n\n  raiseScaleCellPreparedAction(data) {\n    var action = this.getScaleCellPreparedAction();\n\n    if (action) {\n      var args = {\n        scaleIndex: data.scaleIndex,\n        scaleType: this._getScaleType(data.scaleType),\n        scaleElement: getPublicElement($(data.scaleElement)),\n        separatorElement: getPublicElement($(data.separatorElement)),\n        startDate: new Date(data.start),\n        endDate: new Date(data.end)\n      };\n      action(args);\n    }\n  }\n\n  _getScaleType(viewType) {\n    switch (viewType) {\n      case 0:\n        return \"minutes\";\n\n      case 1:\n        return \"hours\";\n\n      case 2:\n        return \"sixHours\";\n\n      case 3:\n        return \"days\";\n\n      case 4:\n        return \"weeks\";\n\n      case 5:\n        return \"months\";\n\n      case 6:\n        return \"quarters\";\n\n      case 7:\n        return \"years\";\n\n      case 8:\n        return \"fiveYears\";\n\n      default:\n        return;\n    }\n  }\n\n}","map":{"version":3,"names":["$","getPublicElement","Actions","onContextMenuPreparing","onCustomCommand","onDependencyDeleted","onDependencyDeleting","onDependencyInserted","onDependencyInserting","onResourceAssigned","onResourceAssigning","onResourceDeleted","onResourceDeleting","onResourceInserted","onResourceInserting","onResourceManagerDialogShowing","onResourceUnassigned","onResourceUnassigning","onSelectionChanged","onTaskClick","onTaskDblClick","onTaskDeleted","onTaskDeleting","onTaskEditDialogShowing","onTaskInserted","onTaskInserting","onTaskMoving","onTaskUpdated","onTaskUpdating","onScaleCellPrepared","GANTT_TASKS","GANTT_DEPENDENCIES","GANTT_RESOURCES","GANTT_RESOURCE_ASSIGNMENTS","GANTT_NEW_TASK_CACHE_KEY","GanttActionsManager","constructor","gantt","_gantt","_mappingHelper","_customFieldsManager","_createActionByOption","optionName","_getTaskData","key","getTaskData","_convertCoreToMappedData","coreData","convertCoreToMappedData","_convertMappedToCoreData","mappedData","convertMappedToCoreData","_convertMappedToCoreFields","fields","convertMappedToCoreFields","_convertCoreToMappedFields","convertCoreToMappedFields","_saveCustomFieldsDataToCache","data","forceUpdateOnKeyExpire","arguments","length","isCustomFieldsUpdateOnly","saveCustomFieldsDataToCache","createTaskDblClickAction","_taskDblClickAction","taskDblClickAction","args","raiseTaskDblClickAction","event","cancel","createTaskClickAction","_taskClickAction","taskClickAction","raiseTaskClickAction","createSelectionChangedAction","_selectionChangedAction","selectionChangedAction","raiseSelectionChangedAction","selectedRowKey","createCustomCommandAction","_customCommandAction","customCommandAction","raiseCustomCommand","commandName","name","createContextMenuPreparingAction","_contextMenuPreparingAction","contextMenuPreparingAction","raiseContextMenuPreparing","options","_getInsertingAction","_getTaskInsertingAction","_getDependencyInsertingAction","_getResourceInsertingAction","_getResourceAssigningAction","raiseInsertingAction","coreArgs","action","values","createTaskInsertingAction","_taskInsertingAction","taskInsertingAction","createDependencyInsertingAction","_dependencyInsertingAction","dependencyInsertingAction","createResourceInsertingAction","_resourceInsertingAction","resourceInsertingAction","createResourceAssigningAction","_resourceAssigningAction","resourceAssigningAction","_getInsertedAction","_getTaskInsertedAction","_getDependencyInsertedAction","_getResourceInsertedAction","_getResourceAssignedAction","raiseInsertedAction","createTaskInsertedAction","_taskInsertedAction","taskInsertedAction","createDependencyInsertedAction","_dependencyInsertedAction","dependencyInsertedAction","createResourceInsertedAction","_resourceInsertedAction","resourceInsertedAction","createResourceAssignedAction","_resourceAssignedAction","resourceAssignedAction","_getDeletingAction","_getTaskDeletingAction","_getDependencyDeletingAction","_getResourceDeletingAction","_getResourceUnassigningAction","raiseDeletingAction","createTaskDeletingAction","_taskDeletingAction","taskDeletingAction","createDependencyDeletingAction","_dependencyDeletingAction","dependencyDeletingAction","createResourceDeletingAction","_resourceDeletingAction","resourceDeletingAction","createResourceUnassigningAction","_resourceUnassigningAction","resourceUnassigningAction","_getDeletedAction","_getTaskDeletedAction","_getDependencyDeletedAction","_getResourceDeletedAction","_getResourceUnassignedAction","raiseDeletedAction","createTaskDeletedAction","_taskDeletedAction","taskDeletedAction","createDependencyDeletedAction","_dependencyDeletedAction","dependencyDeletedAction","createResourceDeletedAction","_resourceDeletedAction","resourceDeletedAction","createResourceUnassignedAction","_resourceUnassignedAction","resourceUnassignedAction","_getUpdatingAction","_getTaskUpdatingAction","raiseUpdatingAction","isTaskUpdating","newValues","cache","hasData","addCustomFieldsDataFromCache","resetCustomFieldsDataCache","Object","keys","createTaskUpdatingAction","_taskUpdatingAction","taskUpdatingAction","_getUpdatedAction","_getTaskUpdatedAction","raiseUpdatedAction","createTaskUpdatedAction","_taskUpdatedAction","taskUpdatedAction","createTaskEditDialogShowingAction","_taskEditDialogShowingAction","taskEditDialogShowingAction","_getTaskEditDialogShowingAction","raiseTaskEditDialogShowingAction","readOnlyFields","hiddenFields","createResourceManagerDialogShowingAction","_resourceManagerDialogShowingAction","resourceManagerDialogShowingAction","_getResourceManagerDialogShowingAction","raiseResourceManagerDialogShowingAction","mappedResources","resources","items","map","r","createTaskMovingAction","_taskMovingAction","taskMovingAction","getTaskMovingAction","getScaleCellPreparedAction","_scaleCellPreparedAction","createScaleCellPreparedAction","raiseScaleCellPreparedAction","scaleIndex","scaleType","_getScaleType","scaleElement","separatorElement","startDate","Date","start","endDate","end","viewType"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/gantt/ui.gantt.actions.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.actions.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nvar Actions = {\r\n    onContextMenuPreparing: \"onContextMenuPreparing\",\r\n    onCustomCommand: \"onCustomCommand\",\r\n    onDependencyDeleted: \"onDependencyDeleted\",\r\n    onDependencyDeleting: \"onDependencyDeleting\",\r\n    onDependencyInserted: \"onDependencyInserted\",\r\n    onDependencyInserting: \"onDependencyInserting\",\r\n    onResourceAssigned: \"onResourceAssigned\",\r\n    onResourceAssigning: \"onResourceAssigning\",\r\n    onResourceDeleted: \"onResourceDeleted\",\r\n    onResourceDeleting: \"onResourceDeleting\",\r\n    onResourceInserted: \"onResourceInserted\",\r\n    onResourceInserting: \"onResourceInserting\",\r\n    onResourceManagerDialogShowing: \"onResourceManagerDialogShowing\",\r\n    onResourceUnassigned: \"onResourceUnassigned\",\r\n    onResourceUnassigning: \"onResourceUnassigning\",\r\n    onSelectionChanged: \"onSelectionChanged\",\r\n    onTaskClick: \"onTaskClick\",\r\n    onTaskDblClick: \"onTaskDblClick\",\r\n    onTaskDeleted: \"onTaskDeleted\",\r\n    onTaskDeleting: \"onTaskDeleting\",\r\n    onTaskEditDialogShowing: \"onTaskEditDialogShowing\",\r\n    onTaskInserted: \"onTaskInserted\",\r\n    onTaskInserting: \"onTaskInserting\",\r\n    onTaskMoving: \"onTaskMoving\",\r\n    onTaskUpdated: \"onTaskUpdated\",\r\n    onTaskUpdating: \"onTaskUpdating\",\r\n    onScaleCellPrepared: \"onScaleCellPrepared\"\r\n};\r\nvar GANTT_TASKS = \"tasks\";\r\nvar GANTT_DEPENDENCIES = \"dependencies\";\r\nvar GANTT_RESOURCES = \"resources\";\r\nvar GANTT_RESOURCE_ASSIGNMENTS = \"resourceAssignments\";\r\nvar GANTT_NEW_TASK_CACHE_KEY = \"gantt_new_task_key\";\r\nexport class GanttActionsManager {\r\n    constructor(gantt) {\r\n        this._gantt = gantt;\r\n        this._mappingHelper = gantt._mappingHelper;\r\n        this._customFieldsManager = gantt._customFieldsManager\r\n    }\r\n    _createActionByOption(optionName) {\r\n        return this._gantt._createActionByOption(optionName)\r\n    }\r\n    _getTaskData(key) {\r\n        return this._gantt.getTaskData(key)\r\n    }\r\n    _convertCoreToMappedData(optionName, coreData) {\r\n        return this._mappingHelper.convertCoreToMappedData(optionName, coreData)\r\n    }\r\n    _convertMappedToCoreData(optionName, mappedData) {\r\n        return this._mappingHelper.convertMappedToCoreData(optionName, mappedData)\r\n    }\r\n    _convertMappedToCoreFields(optionName, fields) {\r\n        return this._mappingHelper.convertMappedToCoreFields(optionName, fields)\r\n    }\r\n    _convertCoreToMappedFields(optionName, fields) {\r\n        return this._mappingHelper.convertCoreToMappedFields(optionName, fields)\r\n    }\r\n    _saveCustomFieldsDataToCache(key, data) {\r\n        var forceUpdateOnKeyExpire = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : false;\r\n        var isCustomFieldsUpdateOnly = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : false;\r\n        this._customFieldsManager.saveCustomFieldsDataToCache(key, data, forceUpdateOnKeyExpire, isCustomFieldsUpdateOnly)\r\n    }\r\n    createTaskDblClickAction() {\r\n        this._taskDblClickAction = this._createActionByOption(Actions.onTaskDblClick)\r\n    }\r\n    taskDblClickAction(args) {\r\n        if (!this._taskDblClickAction) {\r\n            this.createTaskDblClickAction()\r\n        }\r\n        this._taskDblClickAction(args)\r\n    }\r\n    raiseTaskDblClickAction(key, event) {\r\n        var args = {\r\n            cancel: false,\r\n            data: this._getTaskData(key),\r\n            event: event,\r\n            key: key\r\n        };\r\n        this.taskDblClickAction(args);\r\n        return !args.cancel\r\n    }\r\n    createTaskClickAction() {\r\n        this._taskClickAction = this._createActionByOption(Actions.onTaskClick)\r\n    }\r\n    taskClickAction(args) {\r\n        if (!this._taskClickAction) {\r\n            this.createTaskClickAction()\r\n        }\r\n        this._taskClickAction(args)\r\n    }\r\n    raiseTaskClickAction(key, event) {\r\n        var args = {\r\n            key: key,\r\n            event: event,\r\n            data: this._getTaskData(key)\r\n        };\r\n        this.taskClickAction(args)\r\n    }\r\n    createSelectionChangedAction() {\r\n        this._selectionChangedAction = this._createActionByOption(Actions.onSelectionChanged)\r\n    }\r\n    selectionChangedAction(args) {\r\n        if (!this._selectionChangedAction) {\r\n            this.createSelectionChangedAction()\r\n        }\r\n        this._selectionChangedAction(args)\r\n    }\r\n    raiseSelectionChangedAction(selectedRowKey) {\r\n        this.selectionChangedAction({\r\n            selectedRowKey: selectedRowKey\r\n        })\r\n    }\r\n    createCustomCommandAction() {\r\n        this._customCommandAction = this._createActionByOption(Actions.onCustomCommand)\r\n    }\r\n    customCommandAction(args) {\r\n        if (!this._customCommandAction) {\r\n            this.createCustomCommandAction()\r\n        }\r\n        this._customCommandAction(args)\r\n    }\r\n    raiseCustomCommand(commandName) {\r\n        this.customCommandAction({\r\n            name: commandName\r\n        })\r\n    }\r\n    createContextMenuPreparingAction() {\r\n        this._contextMenuPreparingAction = this._createActionByOption(Actions.onContextMenuPreparing)\r\n    }\r\n    contextMenuPreparingAction(args) {\r\n        if (!this._contextMenuPreparingAction) {\r\n            this.createContextMenuPreparingAction()\r\n        }\r\n        this._contextMenuPreparingAction(args)\r\n    }\r\n    raiseContextMenuPreparing(options) {\r\n        this.contextMenuPreparingAction(options)\r\n    }\r\n    _getInsertingAction(optionName) {\r\n        switch (optionName) {\r\n            case GANTT_TASKS:\r\n                return this._getTaskInsertingAction();\r\n            case GANTT_DEPENDENCIES:\r\n                return this._getDependencyInsertingAction();\r\n            case GANTT_RESOURCES:\r\n                return this._getResourceInsertingAction();\r\n            case GANTT_RESOURCE_ASSIGNMENTS:\r\n                return this._getResourceAssigningAction()\r\n        }\r\n        return () => {}\r\n    }\r\n    raiseInsertingAction(optionName, coreArgs) {\r\n        var action = this._getInsertingAction(optionName);\r\n        if (action) {\r\n            var args = {\r\n                cancel: false,\r\n                values: this._convertCoreToMappedData(optionName, coreArgs.values)\r\n            };\r\n            action(args);\r\n            coreArgs.cancel = args.cancel;\r\n            coreArgs.values = this._convertMappedToCoreData(optionName, args.values);\r\n            if (optionName === GANTT_TASKS) {\r\n                this._saveCustomFieldsDataToCache(GANTT_NEW_TASK_CACHE_KEY, args.values)\r\n            }\r\n        }\r\n    }\r\n    createTaskInsertingAction() {\r\n        this._taskInsertingAction = this._createActionByOption(Actions.onTaskInserting)\r\n    }\r\n    taskInsertingAction(args) {\r\n        var action = this._getTaskInsertingAction();\r\n        action(args)\r\n    }\r\n    _getTaskInsertingAction() {\r\n        if (!this._taskInsertingAction) {\r\n            this.createTaskInsertingAction()\r\n        }\r\n        return this._taskInsertingAction\r\n    }\r\n    createDependencyInsertingAction() {\r\n        this._dependencyInsertingAction = this._createActionByOption(Actions.onDependencyInserting)\r\n    }\r\n    dependencyInsertingAction(args) {\r\n        var action = this._getDependencyInsertingAction();\r\n        action(args)\r\n    }\r\n    _getDependencyInsertingAction() {\r\n        if (!this._dependencyInsertingAction) {\r\n            this.createDependencyInsertingAction()\r\n        }\r\n        return this._dependencyInsertingAction\r\n    }\r\n    createResourceInsertingAction() {\r\n        this._resourceInsertingAction = this._createActionByOption(Actions.onResourceInserting)\r\n    }\r\n    resourceInsertingAction(args) {\r\n        var action = this._getResourceInsertingAction();\r\n        action(args)\r\n    }\r\n    _getResourceInsertingAction() {\r\n        if (!this._resourceInsertingAction) {\r\n            this.createResourceInsertingAction()\r\n        }\r\n        return this._resourceInsertingAction\r\n    }\r\n    createResourceAssigningAction() {\r\n        this._resourceAssigningAction = this._createActionByOption(Actions.onResourceAssigning)\r\n    }\r\n    resourceAssigningAction(args) {\r\n        var action = this._getResourceAssigningAction();\r\n        action(args)\r\n    }\r\n    _getResourceAssigningAction() {\r\n        if (!this._resourceAssigningAction) {\r\n            this.createResourceAssigningAction()\r\n        }\r\n        return this._resourceAssigningAction\r\n    }\r\n    _getInsertedAction(optionName) {\r\n        switch (optionName) {\r\n            case GANTT_TASKS:\r\n                return this._getTaskInsertedAction();\r\n            case GANTT_DEPENDENCIES:\r\n                return this._getDependencyInsertedAction();\r\n            case GANTT_RESOURCES:\r\n                return this._getResourceInsertedAction();\r\n            case GANTT_RESOURCE_ASSIGNMENTS:\r\n                return this._getResourceAssignedAction()\r\n        }\r\n        return () => {}\r\n    }\r\n    raiseInsertedAction(optionName, data, key) {\r\n        var action = this._getInsertedAction(optionName);\r\n        if (action) {\r\n            var args = {\r\n                values: data,\r\n                key: key\r\n            };\r\n            action(args)\r\n        }\r\n    }\r\n    createTaskInsertedAction() {\r\n        this._taskInsertedAction = this._createActionByOption(Actions.onTaskInserted)\r\n    }\r\n    taskInsertedAction(args) {\r\n        var action = this._getTaskInsertedAction();\r\n        action(args)\r\n    }\r\n    _getTaskInsertedAction() {\r\n        if (!this._taskInsertedAction) {\r\n            this.createTaskInsertedAction()\r\n        }\r\n        return this._taskInsertedAction\r\n    }\r\n    createDependencyInsertedAction() {\r\n        this._dependencyInsertedAction = this._createActionByOption(Actions.onDependencyInserted)\r\n    }\r\n    dependencyInsertedAction(args) {\r\n        var action = this._getDependencyInsertedAction();\r\n        action(args)\r\n    }\r\n    _getDependencyInsertedAction() {\r\n        if (!this._dependencyInsertedAction) {\r\n            this.createDependencyInsertedAction()\r\n        }\r\n        return this._dependencyInsertedAction\r\n    }\r\n    createResourceInsertedAction() {\r\n        this._resourceInsertedAction = this._createActionByOption(Actions.onResourceInserted)\r\n    }\r\n    resourceInsertedAction(args) {\r\n        var action = this._getResourceInsertedAction();\r\n        action(args)\r\n    }\r\n    _getResourceInsertedAction() {\r\n        if (!this._resourceInsertedAction) {\r\n            this.createResourceInsertedAction()\r\n        }\r\n        return this._resourceInsertedAction\r\n    }\r\n    createResourceAssignedAction() {\r\n        this._resourceAssignedAction = this._createActionByOption(Actions.onResourceAssigned)\r\n    }\r\n    resourceAssignedAction(args) {\r\n        var action = this._getResourceAssignedAction();\r\n        action(args)\r\n    }\r\n    _getResourceAssignedAction() {\r\n        if (!this._resourceAssignedAction) {\r\n            this.createResourceAssignedAction()\r\n        }\r\n        return this._resourceAssignedAction\r\n    }\r\n    _getDeletingAction(optionName) {\r\n        switch (optionName) {\r\n            case GANTT_TASKS:\r\n                return this._getTaskDeletingAction();\r\n            case GANTT_DEPENDENCIES:\r\n                return this._getDependencyDeletingAction();\r\n            case GANTT_RESOURCES:\r\n                return this._getResourceDeletingAction();\r\n            case GANTT_RESOURCE_ASSIGNMENTS:\r\n                return this._getResourceUnassigningAction()\r\n        }\r\n        return () => {}\r\n    }\r\n    raiseDeletingAction(optionName, coreArgs) {\r\n        var action = this._getDeletingAction(optionName);\r\n        if (action) {\r\n            var args = {\r\n                cancel: false,\r\n                key: coreArgs.key,\r\n                values: this._convertCoreToMappedData(optionName, coreArgs.values)\r\n            };\r\n            action(args);\r\n            coreArgs.cancel = args.cancel\r\n        }\r\n    }\r\n    createTaskDeletingAction() {\r\n        this._taskDeletingAction = this._createActionByOption(Actions.onTaskDeleting)\r\n    }\r\n    taskDeletingAction(args) {\r\n        var action = this._getTaskDeletingAction();\r\n        action(args)\r\n    }\r\n    _getTaskDeletingAction() {\r\n        if (!this._taskDeletingAction) {\r\n            this.createTaskDeletingAction()\r\n        }\r\n        return this._taskDeletingAction\r\n    }\r\n    createDependencyDeletingAction() {\r\n        this._dependencyDeletingAction = this._createActionByOption(Actions.onDependencyDeleting)\r\n    }\r\n    dependencyDeletingAction(args) {\r\n        var action = this._getDependencyDeletingAction();\r\n        action(args)\r\n    }\r\n    _getDependencyDeletingAction() {\r\n        if (!this._dependencyDeletingAction) {\r\n            this.createDependencyDeletingAction()\r\n        }\r\n        return this._dependencyDeletingAction\r\n    }\r\n    createResourceDeletingAction() {\r\n        this._resourceDeletingAction = this._createActionByOption(Actions.onResourceDeleting)\r\n    }\r\n    resourceDeletingAction(args) {\r\n        var action = this._getResourceDeletingAction();\r\n        action(args)\r\n    }\r\n    _getResourceDeletingAction() {\r\n        if (!this._resourceDeletingAction) {\r\n            this.createResourceDeletingAction()\r\n        }\r\n        return this._resourceDeletingAction\r\n    }\r\n    createResourceUnassigningAction() {\r\n        this._resourceUnassigningAction = this._createActionByOption(Actions.onResourceUnassigning)\r\n    }\r\n    resourceUnassigningAction(args) {\r\n        var action = this._getResourceUnassigningAction();\r\n        action(args)\r\n    }\r\n    _getResourceUnassigningAction() {\r\n        if (!this._resourceUnassigningAction) {\r\n            this.createResourceUnassigningAction()\r\n        }\r\n        return this._resourceUnassigningAction\r\n    }\r\n    _getDeletedAction(optionName) {\r\n        switch (optionName) {\r\n            case GANTT_TASKS:\r\n                return this._getTaskDeletedAction();\r\n            case GANTT_DEPENDENCIES:\r\n                return this._getDependencyDeletedAction();\r\n            case GANTT_RESOURCES:\r\n                return this._getResourceDeletedAction();\r\n            case GANTT_RESOURCE_ASSIGNMENTS:\r\n                return this._getResourceUnassignedAction()\r\n        }\r\n        return () => {}\r\n    }\r\n    raiseDeletedAction(optionName, key, data) {\r\n        var action = this._getDeletedAction(optionName);\r\n        if (action) {\r\n            var args = {\r\n                key: key,\r\n                values: data\r\n            };\r\n            action(args)\r\n        }\r\n    }\r\n    createTaskDeletedAction() {\r\n        this._taskDeletedAction = this._createActionByOption(Actions.onTaskDeleted)\r\n    }\r\n    taskDeletedAction(args) {\r\n        var action = this._getTaskDeletedAction();\r\n        action(args)\r\n    }\r\n    _getTaskDeletedAction() {\r\n        if (!this._taskDeletedAction) {\r\n            this.createTaskDeletedAction()\r\n        }\r\n        return this._taskDeletedAction\r\n    }\r\n    createDependencyDeletedAction() {\r\n        this._dependencyDeletedAction = this._createActionByOption(Actions.onDependencyDeleted)\r\n    }\r\n    dependencyDeletedAction(args) {\r\n        var action = this._getDependencyDeletedAction();\r\n        action(args)\r\n    }\r\n    _getDependencyDeletedAction() {\r\n        if (!this._dependencyDeletedAction) {\r\n            this.createDependencyDeletedAction()\r\n        }\r\n        return this._dependencyDeletedAction\r\n    }\r\n    createResourceDeletedAction() {\r\n        this._resourceDeletedAction = this._createActionByOption(Actions.onResourceDeleted)\r\n    }\r\n    resourceDeletedAction(args) {\r\n        var action = this._getResourceDeletedAction();\r\n        action(args)\r\n    }\r\n    _getResourceDeletedAction() {\r\n        if (!this._resourceDeletedAction) {\r\n            this.createResourceDeletedAction()\r\n        }\r\n        return this._resourceDeletedAction\r\n    }\r\n    createResourceUnassignedAction() {\r\n        this._resourceUnassignedAction = this._createActionByOption(Actions.onResourceUnassigned)\r\n    }\r\n    resourceUnassignedAction(args) {\r\n        var action = this._getResourceUnassignedAction();\r\n        action(args)\r\n    }\r\n    _getResourceUnassignedAction() {\r\n        if (!this._resourceUnassignedAction) {\r\n            this.createResourceUnassignedAction()\r\n        }\r\n        return this._resourceUnassignedAction\r\n    }\r\n    _getUpdatingAction(optionName) {\r\n        switch (optionName) {\r\n            case GANTT_TASKS:\r\n                return this._getTaskUpdatingAction()\r\n        }\r\n        return () => {}\r\n    }\r\n    raiseUpdatingAction(optionName, coreArgs, action) {\r\n        action = action || this._getUpdatingAction(optionName);\r\n        if (action) {\r\n            var isTaskUpdating = optionName === GANTT_TASKS;\r\n            var args = {\r\n                cancel: false,\r\n                key: coreArgs.key,\r\n                newValues: this._convertCoreToMappedData(optionName, coreArgs.newValues),\r\n                values: isTaskUpdating ? this._getTaskData(coreArgs.key) : this._convertCoreToMappedData(optionName, coreArgs.values)\r\n            };\r\n            if (isTaskUpdating && this._customFieldsManager.cache.hasData(args.key)) {\r\n                this._customFieldsManager.addCustomFieldsDataFromCache(args.key, args.newValues)\r\n            }\r\n            action(args);\r\n            coreArgs.cancel = args.cancel;\r\n            coreArgs.newValues = this._convertMappedToCoreData(optionName, args.newValues);\r\n            if (isTaskUpdating) {\r\n                if (args.cancel) {\r\n                    this._customFieldsManager.resetCustomFieldsDataCache(args.key)\r\n                } else {\r\n                    var forceUpdateOnKeyExpire = !Object.keys(coreArgs.newValues).length;\r\n                    this._saveCustomFieldsDataToCache(args.key, args.newValues, forceUpdateOnKeyExpire)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    createTaskUpdatingAction() {\r\n        this._taskUpdatingAction = this._createActionByOption(Actions.onTaskUpdating)\r\n    }\r\n    taskUpdatingAction(args) {\r\n        var action = this._getTaskUpdatingAction();\r\n        action(args)\r\n    }\r\n    _getTaskUpdatingAction() {\r\n        if (!this._taskUpdatingAction) {\r\n            this.createTaskUpdatingAction()\r\n        }\r\n        return this._taskUpdatingAction\r\n    }\r\n    _getUpdatedAction(optionName) {\r\n        switch (optionName) {\r\n            case GANTT_TASKS:\r\n                return this._getTaskUpdatedAction()\r\n        }\r\n        return () => {}\r\n    }\r\n    raiseUpdatedAction(optionName, data, key) {\r\n        var action = this._getUpdatedAction(optionName);\r\n        if (action) {\r\n            var args = {\r\n                values: data,\r\n                key: key\r\n            };\r\n            action(args)\r\n        }\r\n    }\r\n    createTaskUpdatedAction() {\r\n        this._taskUpdatedAction = this._createActionByOption(Actions.onTaskUpdated)\r\n    }\r\n    taskUpdatedAction(args) {\r\n        var action = this._getTaskUpdatedAction();\r\n        action(args)\r\n    }\r\n    _getTaskUpdatedAction() {\r\n        if (!this._taskUpdatedAction) {\r\n            this.createTaskUpdatedAction()\r\n        }\r\n        return this._taskUpdatedAction\r\n    }\r\n    createTaskEditDialogShowingAction() {\r\n        this._taskEditDialogShowingAction = this._createActionByOption(Actions.onTaskEditDialogShowing)\r\n    }\r\n    taskEditDialogShowingAction(args) {\r\n        var action = this._getTaskEditDialogShowingAction();\r\n        action(args)\r\n    }\r\n    _getTaskEditDialogShowingAction() {\r\n        if (!this._taskEditDialogShowingAction) {\r\n            this.createTaskEditDialogShowingAction()\r\n        }\r\n        return this._taskEditDialogShowingAction\r\n    }\r\n    raiseTaskEditDialogShowingAction(coreArgs) {\r\n        var action = this._getTaskEditDialogShowingAction();\r\n        if (action) {\r\n            var args = {\r\n                cancel: false,\r\n                key: coreArgs.key,\r\n                values: this._convertCoreToMappedData(GANTT_TASKS, coreArgs.values),\r\n                readOnlyFields: this._convertCoreToMappedFields(GANTT_TASKS, coreArgs.readOnlyFields),\r\n                hiddenFields: this._convertCoreToMappedFields(GANTT_TASKS, coreArgs.hiddenFields)\r\n            };\r\n            action(args);\r\n            coreArgs.cancel = args.cancel;\r\n            coreArgs.values = this._convertMappedToCoreData(GANTT_TASKS, args.values);\r\n            coreArgs.readOnlyFields = this._convertMappedToCoreFields(GANTT_TASKS, args.readOnlyFields);\r\n            coreArgs.hiddenFields = this._convertMappedToCoreFields(GANTT_TASKS, args.hiddenFields)\r\n        }\r\n    }\r\n    createResourceManagerDialogShowingAction() {\r\n        this._resourceManagerDialogShowingAction = this._createActionByOption(Actions.onResourceManagerDialogShowing)\r\n    }\r\n    resourceManagerDialogShowingAction(args) {\r\n        var action = this._getResourceManagerDialogShowingAction();\r\n        action(args)\r\n    }\r\n    _getResourceManagerDialogShowingAction() {\r\n        if (!this._resourceManagerDialogShowingAction) {\r\n            this.createResourceManagerDialogShowingAction()\r\n        }\r\n        return this._resourceManagerDialogShowingAction\r\n    }\r\n    raiseResourceManagerDialogShowingAction(coreArgs) {\r\n        var action = this._getResourceManagerDialogShowingAction();\r\n        if (action) {\r\n            var mappedResources = coreArgs.values.resources.items.map(r => this._convertMappedToCoreData(GANTT_RESOURCES, r));\r\n            var args = {\r\n                cancel: false,\r\n                values: mappedResources\r\n            };\r\n            action(args);\r\n            coreArgs.cancel = args.cancel\r\n        }\r\n    }\r\n    createTaskMovingAction() {\r\n        this._taskMovingAction = this._createActionByOption(Actions.onTaskMoving)\r\n    }\r\n    taskMovingAction(args) {\r\n        var action = this.getTaskMovingAction();\r\n        action(args)\r\n    }\r\n    getTaskMovingAction() {\r\n        if (!this._taskMovingAction) {\r\n            this.createTaskMovingAction()\r\n        }\r\n        return this._taskMovingAction\r\n    }\r\n    getScaleCellPreparedAction() {\r\n        if (!this._scaleCellPreparedAction) {\r\n            this.createScaleCellPreparedAction()\r\n        }\r\n        return this._scaleCellPreparedAction\r\n    }\r\n    createScaleCellPreparedAction() {\r\n        this._scaleCellPreparedAction = this._createActionByOption(Actions.onScaleCellPrepared)\r\n    }\r\n    raiseScaleCellPreparedAction(data) {\r\n        var action = this.getScaleCellPreparedAction();\r\n        if (action) {\r\n            var args = {\r\n                scaleIndex: data.scaleIndex,\r\n                scaleType: this._getScaleType(data.scaleType),\r\n                scaleElement: getPublicElement($(data.scaleElement)),\r\n                separatorElement: getPublicElement($(data.separatorElement)),\r\n                startDate: new Date(data.start),\r\n                endDate: new Date(data.end)\r\n            };\r\n            action(args)\r\n        }\r\n    }\r\n    _getScaleType(viewType) {\r\n        switch (viewType) {\r\n            case 0:\r\n                return \"minutes\";\r\n            case 1:\r\n                return \"hours\";\r\n            case 2:\r\n                return \"sixHours\";\r\n            case 3:\r\n                return \"days\";\r\n            case 4:\r\n                return \"weeks\";\r\n            case 5:\r\n                return \"months\";\r\n            case 6:\r\n                return \"quarters\";\r\n            case 7:\r\n                return \"years\";\r\n            case 8:\r\n                return \"fiveYears\";\r\n            default:\r\n                return\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/series/bubble_series.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { chart as lineChart } from \"./line_series\";\nimport { chart as scatterSeries } from \"./scatter_series\";\nimport { chart as areaChart } from \"./area_series\";\nimport { chart as barChart, polar as barPolar } from \"./bar_series\";\nimport { extend } from \"../../core/utils/extend\";\nimport { each } from \"../../core/utils/iterator\";\nimport { noop } from \"../../core/utils/common\";\nvar lineSeries = lineChart.line;\nvar areaSeries = areaChart.area;\nvar chartBarSeries = barChart.bar;\nvar polarBarSeries = barPolar.bar;\nvar _extend = extend;\nvar _each = each;\nvar _noop = noop;\nvar chart = {};\nchart.bubble = _extend({}, scatterSeries, {\n  _calculateErrorBars: _noop,\n  _getMainColor: chartBarSeries._getMainColor,\n  _createPointStyles: chartBarSeries._createPointStyles,\n  _updatePointsVisibility: chartBarSeries._updatePointsVisibility,\n  _getOptionsForPoint: chartBarSeries._getOptionsForPoint,\n  _applyMarkerClipRect: lineSeries._applyElementsClipRect,\n  _parsePointStyle: polarBarSeries._parsePointStyle,\n  _createLegendState: areaSeries._createLegendState,\n  _setMarkerGroupSettings: polarBarSeries._setMarkerGroupSettings,\n  areErrorBarsVisible: _noop,\n  _createErrorBarGroup: _noop,\n  _checkData: function (data, skippedFields) {\n    return scatterSeries._checkData.call(this, data, skippedFields, {\n      value: this.getValueFields()[0],\n      size: this.getSizeField()\n    });\n  },\n  _getPointDataSelector: function (data, options) {\n    var sizeField = this.getSizeField();\n\n    var baseGetter = scatterSeries._getPointDataSelector.call(this);\n\n    return data => {\n      var pointData = baseGetter(data);\n      pointData.size = data[sizeField];\n      return pointData;\n    };\n  },\n  _aggregators: {\n    avg(_ref, series) {\n      var {\n        data: data,\n        intervalStart: intervalStart,\n        intervalEnd: intervalEnd\n      } = _ref;\n\n      if (!data.length) {\n        return;\n      }\n\n      var valueField = series.getValueFields()[0];\n      var sizeField = series.getSizeField();\n      var aggregate = data.reduce((result, item) => {\n        result[0] += item[valueField];\n        result[1] += item[sizeField];\n        result[2]++;\n        return result;\n      }, [0, 0, 0]);\n      return {\n        [valueField]: aggregate[0] / aggregate[2],\n        [sizeField]: aggregate[1] / aggregate[2],\n        [series.getArgumentField()]: series._getIntervalCenter(intervalStart, intervalEnd)\n      };\n    }\n\n  },\n  getValueFields: function () {\n    return [this._options.valueField || \"val\"];\n  },\n  getSizeField: function () {\n    return this._options.sizeField || \"size\";\n  },\n  _animate: function () {\n    var that = this;\n    var lastPointIndex = that._drawnPoints.length - 1;\n    var labelsGroup = that._labelsGroup;\n\n    var labelAnimFunc = function () {\n      labelsGroup && labelsGroup.animate({\n        opacity: 1\n      }, {\n        duration: that._defaultDuration\n      });\n    };\n\n    _each(that._drawnPoints || [], function (i, p) {\n      p.animate(i === lastPointIndex ? labelAnimFunc : void 0, {\n        r: p.bubbleSize,\n        translateX: p.x,\n        translateY: p.y\n      });\n    });\n  },\n  _patchMarginOptions: function (options) {\n    options.processBubbleSize = true;\n    return options;\n  }\n});\nexport { chart };","map":{"version":3,"names":["chart","lineChart","scatterSeries","areaChart","barChart","polar","barPolar","extend","each","noop","lineSeries","line","areaSeries","area","chartBarSeries","bar","polarBarSeries","_extend","_each","_noop","bubble","_calculateErrorBars","_getMainColor","_createPointStyles","_updatePointsVisibility","_getOptionsForPoint","_applyMarkerClipRect","_applyElementsClipRect","_parsePointStyle","_createLegendState","_setMarkerGroupSettings","areErrorBarsVisible","_createErrorBarGroup","_checkData","data","skippedFields","call","value","getValueFields","size","getSizeField","_getPointDataSelector","options","sizeField","baseGetter","pointData","_aggregators","avg","_ref","series","intervalStart","intervalEnd","length","valueField","aggregate","reduce","result","item","getArgumentField","_getIntervalCenter","_options","_animate","that","lastPointIndex","_drawnPoints","labelsGroup","_labelsGroup","labelAnimFunc","animate","opacity","duration","_defaultDuration","i","p","r","bubbleSize","translateX","x","translateY","y","_patchMarginOptions","processBubbleSize"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/series/bubble_series.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/series/bubble_series.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    chart as lineChart\r\n} from \"./line_series\";\r\nimport {\r\n    chart as scatterSeries\r\n} from \"./scatter_series\";\r\nimport {\r\n    chart as areaChart\r\n} from \"./area_series\";\r\nimport {\r\n    chart as barChart,\r\n    polar as barPolar\r\n} from \"./bar_series\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nvar lineSeries = lineChart.line;\r\nvar areaSeries = areaChart.area;\r\nvar chartBarSeries = barChart.bar;\r\nvar polarBarSeries = barPolar.bar;\r\nvar _extend = extend;\r\nvar _each = each;\r\nvar _noop = noop;\r\nvar chart = {};\r\nchart.bubble = _extend({}, scatterSeries, {\r\n    _calculateErrorBars: _noop,\r\n    _getMainColor: chartBarSeries._getMainColor,\r\n    _createPointStyles: chartBarSeries._createPointStyles,\r\n    _updatePointsVisibility: chartBarSeries._updatePointsVisibility,\r\n    _getOptionsForPoint: chartBarSeries._getOptionsForPoint,\r\n    _applyMarkerClipRect: lineSeries._applyElementsClipRect,\r\n    _parsePointStyle: polarBarSeries._parsePointStyle,\r\n    _createLegendState: areaSeries._createLegendState,\r\n    _setMarkerGroupSettings: polarBarSeries._setMarkerGroupSettings,\r\n    areErrorBarsVisible: _noop,\r\n    _createErrorBarGroup: _noop,\r\n    _checkData: function(data, skippedFields) {\r\n        return scatterSeries._checkData.call(this, data, skippedFields, {\r\n            value: this.getValueFields()[0],\r\n            size: this.getSizeField()\r\n        })\r\n    },\r\n    _getPointDataSelector: function(data, options) {\r\n        var sizeField = this.getSizeField();\r\n        var baseGetter = scatterSeries._getPointDataSelector.call(this);\r\n        return data => {\r\n            var pointData = baseGetter(data);\r\n            pointData.size = data[sizeField];\r\n            return pointData\r\n        }\r\n    },\r\n    _aggregators: {\r\n        avg(_ref, series) {\r\n            var {\r\n                data: data,\r\n                intervalStart: intervalStart,\r\n                intervalEnd: intervalEnd\r\n            } = _ref;\r\n            if (!data.length) {\r\n                return\r\n            }\r\n            var valueField = series.getValueFields()[0];\r\n            var sizeField = series.getSizeField();\r\n            var aggregate = data.reduce((result, item) => {\r\n                result[0] += item[valueField];\r\n                result[1] += item[sizeField];\r\n                result[2]++;\r\n                return result\r\n            }, [0, 0, 0]);\r\n            return {\r\n                [valueField]: aggregate[0] / aggregate[2],\r\n                [sizeField]: aggregate[1] / aggregate[2],\r\n                [series.getArgumentField()]: series._getIntervalCenter(intervalStart, intervalEnd)\r\n            }\r\n        }\r\n    },\r\n    getValueFields: function() {\r\n        return [this._options.valueField || \"val\"]\r\n    },\r\n    getSizeField: function() {\r\n        return this._options.sizeField || \"size\"\r\n    },\r\n    _animate: function() {\r\n        var that = this;\r\n        var lastPointIndex = that._drawnPoints.length - 1;\r\n        var labelsGroup = that._labelsGroup;\r\n        var labelAnimFunc = function() {\r\n            labelsGroup && labelsGroup.animate({\r\n                opacity: 1\r\n            }, {\r\n                duration: that._defaultDuration\r\n            })\r\n        };\r\n        _each(that._drawnPoints || [], (function(i, p) {\r\n            p.animate(i === lastPointIndex ? labelAnimFunc : void 0, {\r\n                r: p.bubbleSize,\r\n                translateX: p.x,\r\n                translateY: p.y\r\n            })\r\n        }))\r\n    },\r\n    _patchMarginOptions: function(options) {\r\n        options.processBubbleSize = true;\r\n        return options\r\n    }\r\n});\r\nexport {\r\n    chart\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/**\r\n * DevExtreme (esm/events/core/keyboard_processor.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport Class from \"../../core/class\";\nimport { addNamespace, normalizeKeyName } from \"../../events/utils/index\";\nvar COMPOSITION_START_EVENT = \"compositionstart\";\nvar COMPOSITION_END_EVENT = \"compositionend\";\nvar KEYDOWN_EVENT = \"keydown\";\nvar NAMESPACE = \"KeyboardProcessor\";\n\nvar createKeyDownOptions = e => ({\n  keyName: normalizeKeyName(e),\n  key: e.key,\n  code: e.code,\n  ctrl: e.ctrlKey,\n  location: e.location,\n  metaKey: e.metaKey,\n  shift: e.shiftKey,\n  alt: e.altKey,\n  which: e.which,\n  originalEvent: e\n});\n\nvar KeyboardProcessor = Class.inherit({\n  _keydown: addNamespace(KEYDOWN_EVENT, NAMESPACE),\n  _compositionStart: addNamespace(COMPOSITION_START_EVENT, NAMESPACE),\n  _compositionEnd: addNamespace(COMPOSITION_END_EVENT, NAMESPACE),\n  ctor: function (options) {\n    options = options || {};\n\n    if (options.element) {\n      this._element = $(options.element);\n    }\n\n    if (options.focusTarget) {\n      this._focusTarget = options.focusTarget;\n    }\n\n    this._handler = options.handler;\n\n    if (this._element) {\n      this._processFunction = e => {\n        var focusTargets = $(this._focusTarget).toArray();\n        var isNotFocusTarget = this._focusTarget && this._focusTarget !== e.target && !focusTargets.includes(e.target);\n        var shouldSkipProcessing = this._isComposingJustFinished && 229 === e.which || this._isComposing || isNotFocusTarget;\n        this._isComposingJustFinished = false;\n\n        if (!shouldSkipProcessing) {\n          this.process(e);\n        }\n      };\n\n      this._toggleProcessingWithContext = this.toggleProcessing.bind(this);\n      eventsEngine.on(this._element, this._keydown, this._processFunction);\n      eventsEngine.on(this._element, this._compositionStart, this._toggleProcessingWithContext);\n      eventsEngine.on(this._element, this._compositionEnd, this._toggleProcessingWithContext);\n    }\n  },\n  dispose: function () {\n    if (this._element) {\n      eventsEngine.off(this._element, this._keydown, this._processFunction);\n      eventsEngine.off(this._element, this._compositionStart, this._toggleProcessingWithContext);\n      eventsEngine.off(this._element, this._compositionEnd, this._toggleProcessingWithContext);\n    }\n\n    this._element = void 0;\n    this._handler = void 0;\n  },\n  process: function (e) {\n    this._handler(createKeyDownOptions(e));\n  },\n  toggleProcessing: function (_ref) {\n    var {\n      type: type\n    } = _ref;\n    this._isComposing = type === COMPOSITION_START_EVENT;\n    this._isComposingJustFinished = !this._isComposing;\n  }\n});\nKeyboardProcessor.createKeyDownOptions = createKeyDownOptions;\nexport default KeyboardProcessor;","map":{"version":3,"names":["$","eventsEngine","Class","addNamespace","normalizeKeyName","COMPOSITION_START_EVENT","COMPOSITION_END_EVENT","KEYDOWN_EVENT","NAMESPACE","createKeyDownOptions","e","keyName","key","code","ctrl","ctrlKey","location","metaKey","shift","shiftKey","alt","altKey","which","originalEvent","KeyboardProcessor","inherit","_keydown","_compositionStart","_compositionEnd","ctor","options","element","_element","focusTarget","_focusTarget","_handler","handler","_processFunction","focusTargets","toArray","isNotFocusTarget","target","includes","shouldSkipProcessing","_isComposingJustFinished","_isComposing","process","_toggleProcessingWithContext","toggleProcessing","bind","on","dispose","off","_ref","type"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/events/core/keyboard_processor.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/events/core/keyboard_processor.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    addNamespace,\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nvar COMPOSITION_START_EVENT = \"compositionstart\";\r\nvar COMPOSITION_END_EVENT = \"compositionend\";\r\nvar KEYDOWN_EVENT = \"keydown\";\r\nvar NAMESPACE = \"KeyboardProcessor\";\r\nvar createKeyDownOptions = e => ({\r\n    keyName: normalizeKeyName(e),\r\n    key: e.key,\r\n    code: e.code,\r\n    ctrl: e.ctrlKey,\r\n    location: e.location,\r\n    metaKey: e.metaKey,\r\n    shift: e.shiftKey,\r\n    alt: e.altKey,\r\n    which: e.which,\r\n    originalEvent: e\r\n});\r\nvar KeyboardProcessor = Class.inherit({\r\n    _keydown: addNamespace(KEYDOWN_EVENT, NAMESPACE),\r\n    _compositionStart: addNamespace(COMPOSITION_START_EVENT, NAMESPACE),\r\n    _compositionEnd: addNamespace(COMPOSITION_END_EVENT, NAMESPACE),\r\n    ctor: function(options) {\r\n        options = options || {};\r\n        if (options.element) {\r\n            this._element = $(options.element)\r\n        }\r\n        if (options.focusTarget) {\r\n            this._focusTarget = options.focusTarget\r\n        }\r\n        this._handler = options.handler;\r\n        if (this._element) {\r\n            this._processFunction = e => {\r\n                var focusTargets = $(this._focusTarget).toArray();\r\n                var isNotFocusTarget = this._focusTarget && this._focusTarget !== e.target && !focusTargets.includes(e.target);\r\n                var shouldSkipProcessing = this._isComposingJustFinished && 229 === e.which || this._isComposing || isNotFocusTarget;\r\n                this._isComposingJustFinished = false;\r\n                if (!shouldSkipProcessing) {\r\n                    this.process(e)\r\n                }\r\n            };\r\n            this._toggleProcessingWithContext = this.toggleProcessing.bind(this);\r\n            eventsEngine.on(this._element, this._keydown, this._processFunction);\r\n            eventsEngine.on(this._element, this._compositionStart, this._toggleProcessingWithContext);\r\n            eventsEngine.on(this._element, this._compositionEnd, this._toggleProcessingWithContext)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        if (this._element) {\r\n            eventsEngine.off(this._element, this._keydown, this._processFunction);\r\n            eventsEngine.off(this._element, this._compositionStart, this._toggleProcessingWithContext);\r\n            eventsEngine.off(this._element, this._compositionEnd, this._toggleProcessingWithContext)\r\n        }\r\n        this._element = void 0;\r\n        this._handler = void 0\r\n    },\r\n    process: function(e) {\r\n        this._handler(createKeyDownOptions(e))\r\n    },\r\n    toggleProcessing: function(_ref) {\r\n        var {\r\n            type: type\r\n        } = _ref;\r\n        this._isComposing = type === COMPOSITION_START_EVENT;\r\n        this._isComposingJustFinished = !this._isComposing\r\n    }\r\n});\r\nKeyboardProcessor.createKeyDownOptions = createKeyDownOptions;\r\nexport default KeyboardProcessor;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
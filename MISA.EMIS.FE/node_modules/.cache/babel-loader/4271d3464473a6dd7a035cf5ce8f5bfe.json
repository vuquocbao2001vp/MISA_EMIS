{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/list/ui.list.edit.decorator.reorder.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { setWidth, getWidth } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { extend } from \"../../core/utils/extend\";\nimport { isMouseEvent } from \"../../events/utils/index\";\nimport { register as registerDecorator } from \"./ui.list.edit.decorator_registry\";\nimport EditDecorator from \"./ui.list.edit.decorator\";\nimport Sortable from \"../sortable\";\nvar REORDER_HANDLE_CONTAINER_CLASS = \"dx-list-reorder-handle-container\";\nvar REORDER_HANDLE_CLASS = \"dx-list-reorder-handle\";\nvar REORDERING_ITEM_GHOST_CLASS = \"dx-list-item-ghost-reordering\";\nvar STATE_HOVER_CLASS = \"dx-state-hover\";\nregisterDecorator(\"reorder\", \"default\", EditDecorator.inherit({\n  _init: function () {\n    var list = this._list;\n    this._groupedEnabled = this._list.option(\"grouped\");\n    this._lockedDrag = false;\n    var filter = this._groupedEnabled ? \"> .dx-list-group > .dx-list-group-body > .dx-list-item\" : \"> .dx-list-item\";\n    this._sortable = list._createComponent(list._scrollView.content(), Sortable, extend({\n      component: list,\n      contentTemplate: null,\n      allowReordering: false,\n      filter: filter,\n      container: list.$element(),\n      dragDirection: list.option(\"itemDragging.group\") ? \"both\" : \"vertical\",\n      handle: \".\".concat(REORDER_HANDLE_CLASS),\n      dragTemplate: this._dragTemplate,\n      onDragStart: this._dragStartHandler.bind(this),\n      onDragChange: this._dragChangeHandler.bind(this),\n      onReorder: this._reorderHandler.bind(this)\n    }, list.option(\"itemDragging\")));\n  },\n  afterRender: function () {\n    this._sortable.update();\n  },\n  _dragTemplate: function (e) {\n    var result = $(e.itemElement).clone().addClass(REORDERING_ITEM_GHOST_CLASS).addClass(STATE_HOVER_CLASS);\n    setWidth(result, getWidth(e.itemElement));\n    return result;\n  },\n  _dragStartHandler: function (e) {\n    if (this._lockedDrag) {\n      e.cancel = true;\n      return;\n    }\n  },\n  _dragChangeHandler: function (e) {\n    if (this._groupedEnabled && !this._sameParent(e.fromIndex, e.toIndex)) {\n      e.cancel = true;\n      return;\n    }\n  },\n  _sameParent: function (fromIndex, toIndex) {\n    var $dragging = this._list.getItemElementByFlatIndex(fromIndex);\n\n    var $over = this._list.getItemElementByFlatIndex(toIndex);\n\n    return $over.parent().get(0) === $dragging.parent().get(0);\n  },\n  _reorderHandler: function (e) {\n    var $targetElement = this._list.getItemElementByFlatIndex(e.toIndex);\n\n    this._list.reorderItem($(e.itemElement), $targetElement);\n  },\n  afterBag: function (config) {\n    var $handle = $(\"<div>\").addClass(REORDER_HANDLE_CLASS);\n    eventsEngine.on($handle, \"dxpointerdown\", e => {\n      this._lockedDrag = !isMouseEvent(e);\n    });\n    eventsEngine.on($handle, \"dxhold\", {\n      timeout: 30\n    }, e => {\n      e.cancel = true;\n      this._lockedDrag = false;\n    });\n    config.$container.addClass(REORDER_HANDLE_CONTAINER_CLASS).append($handle);\n  }\n}));","map":{"version":3,"names":["setWidth","getWidth","$","eventsEngine","extend","isMouseEvent","register","registerDecorator","EditDecorator","Sortable","REORDER_HANDLE_CONTAINER_CLASS","REORDER_HANDLE_CLASS","REORDERING_ITEM_GHOST_CLASS","STATE_HOVER_CLASS","inherit","_init","list","_list","_groupedEnabled","option","_lockedDrag","filter","_sortable","_createComponent","_scrollView","content","component","contentTemplate","allowReordering","container","$element","dragDirection","handle","concat","dragTemplate","_dragTemplate","onDragStart","_dragStartHandler","bind","onDragChange","_dragChangeHandler","onReorder","_reorderHandler","afterRender","update","e","result","itemElement","clone","addClass","cancel","_sameParent","fromIndex","toIndex","$dragging","getItemElementByFlatIndex","$over","parent","get","$targetElement","reorderItem","afterBag","config","$handle","on","timeout","$container","append"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/list/ui.list.edit.decorator.reorder.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/list/ui.list.edit.decorator.reorder.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    setWidth,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isMouseEvent\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    register as registerDecorator\r\n} from \"./ui.list.edit.decorator_registry\";\r\nimport EditDecorator from \"./ui.list.edit.decorator\";\r\nimport Sortable from \"../sortable\";\r\nvar REORDER_HANDLE_CONTAINER_CLASS = \"dx-list-reorder-handle-container\";\r\nvar REORDER_HANDLE_CLASS = \"dx-list-reorder-handle\";\r\nvar REORDERING_ITEM_GHOST_CLASS = \"dx-list-item-ghost-reordering\";\r\nvar STATE_HOVER_CLASS = \"dx-state-hover\";\r\nregisterDecorator(\"reorder\", \"default\", EditDecorator.inherit({\r\n    _init: function() {\r\n        var list = this._list;\r\n        this._groupedEnabled = this._list.option(\"grouped\");\r\n        this._lockedDrag = false;\r\n        var filter = this._groupedEnabled ? \"> .dx-list-group > .dx-list-group-body > .dx-list-item\" : \"> .dx-list-item\";\r\n        this._sortable = list._createComponent(list._scrollView.content(), Sortable, extend({\r\n            component: list,\r\n            contentTemplate: null,\r\n            allowReordering: false,\r\n            filter: filter,\r\n            container: list.$element(),\r\n            dragDirection: list.option(\"itemDragging.group\") ? \"both\" : \"vertical\",\r\n            handle: \".\".concat(REORDER_HANDLE_CLASS),\r\n            dragTemplate: this._dragTemplate,\r\n            onDragStart: this._dragStartHandler.bind(this),\r\n            onDragChange: this._dragChangeHandler.bind(this),\r\n            onReorder: this._reorderHandler.bind(this)\r\n        }, list.option(\"itemDragging\")))\r\n    },\r\n    afterRender: function() {\r\n        this._sortable.update()\r\n    },\r\n    _dragTemplate: function(e) {\r\n        var result = $(e.itemElement).clone().addClass(REORDERING_ITEM_GHOST_CLASS).addClass(STATE_HOVER_CLASS);\r\n        setWidth(result, getWidth(e.itemElement));\r\n        return result\r\n    },\r\n    _dragStartHandler: function(e) {\r\n        if (this._lockedDrag) {\r\n            e.cancel = true;\r\n            return\r\n        }\r\n    },\r\n    _dragChangeHandler: function(e) {\r\n        if (this._groupedEnabled && !this._sameParent(e.fromIndex, e.toIndex)) {\r\n            e.cancel = true;\r\n            return\r\n        }\r\n    },\r\n    _sameParent: function(fromIndex, toIndex) {\r\n        var $dragging = this._list.getItemElementByFlatIndex(fromIndex);\r\n        var $over = this._list.getItemElementByFlatIndex(toIndex);\r\n        return $over.parent().get(0) === $dragging.parent().get(0)\r\n    },\r\n    _reorderHandler: function(e) {\r\n        var $targetElement = this._list.getItemElementByFlatIndex(e.toIndex);\r\n        this._list.reorderItem($(e.itemElement), $targetElement)\r\n    },\r\n    afterBag: function(config) {\r\n        var $handle = $(\"<div>\").addClass(REORDER_HANDLE_CLASS);\r\n        eventsEngine.on($handle, \"dxpointerdown\", e => {\r\n            this._lockedDrag = !isMouseEvent(e)\r\n        });\r\n        eventsEngine.on($handle, \"dxhold\", {\r\n            timeout: 30\r\n        }, e => {\r\n            e.cancel = true;\r\n            this._lockedDrag = false\r\n        });\r\n        config.$container.addClass(REORDER_HANDLE_CONTAINER_CLASS).append($handle)\r\n    }\r\n}));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/renovation/component_wrapper/common/template_wrapper.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { InfernoComponent, InfernoEffect } from \"@devextreme/runtime/inferno\";\nimport { findDOMfromVNode } from \"inferno\";\nimport { shallowEquals } from \"../../utils/shallow_equals\";\nimport { replaceWith } from \"../../../core/utils/dom\";\nimport $ from \"../../../core/renderer\";\nimport domAdapter from \"../../../core/dom_adapter\";\nimport { getPublicElement } from \"../../../core/element\";\nimport { removeDifferentElements } from \"../utils/utils\";\nimport { isDefined } from \"../../../core/utils/type\";\nexport class TemplateWrapper extends InfernoComponent {\n  constructor(props) {\n    super(props);\n    this.renderTemplate = this.renderTemplate.bind(this);\n  }\n\n  renderTemplate() {\n    var _this$props$model;\n\n    var node = findDOMfromVNode(this.$LI, true);\n    var parentNode = node.parentNode;\n    var $parent = $(parentNode);\n    var $children = $parent.contents();\n    var {\n      data: data,\n      index: index\n    } = null !== (_this$props$model = this.props.model) && void 0 !== _this$props$model ? _this$props$model : {\n      data: {}\n    };\n\n    if (data) {\n      Object.keys(data).forEach(name => {\n        if (data[name] && domAdapter.isNode(data[name])) {\n          data[name] = getPublicElement($(data[name]));\n        }\n      });\n    }\n\n    var $result = $(this.props.template.render(_extends({\n      container: getPublicElement($parent),\n      transclude: this.props.transclude\n    }, {\n      renovated: this.props.renovated\n    }, !this.props.transclude ? {\n      model: data\n    } : {}, !this.props.transclude && Number.isFinite(index) ? {\n      index: index\n    } : {})));\n    replaceWith($(node), $result);\n    return () => {\n      removeDifferentElements($children, $parent.contents());\n      parentNode.appendChild(node);\n    };\n  }\n\n  shouldComponentUpdate(nextProps) {\n    var {\n      model: model,\n      template: template\n    } = this.props;\n    var {\n      model: nextModel,\n      template: nextTemplate\n    } = nextProps;\n    var sameTemplate = template === nextTemplate;\n\n    if (!sameTemplate) {\n      return true;\n    }\n\n    if (isDefined(model) && isDefined(nextModel)) {\n      var {\n        data: data,\n        index: index\n      } = model;\n      var {\n        data: nextData,\n        index: nextIndex\n      } = nextModel;\n      return index !== nextIndex || !shallowEquals(data, nextData);\n    }\n\n    var sameModel = model === nextModel;\n    return !sameModel;\n  }\n\n  createEffects() {\n    return [new InfernoEffect(this.renderTemplate, [this.props.template, this.props.model])];\n  }\n\n  updateEffects() {\n    this._effects[0].update([this.props.template, this.props.model]);\n  }\n\n  componentWillUnmount() {}\n\n  render() {\n    return null;\n  }\n\n}","map":{"version":3,"names":["_extends","InfernoComponent","InfernoEffect","findDOMfromVNode","shallowEquals","replaceWith","$","domAdapter","getPublicElement","removeDifferentElements","isDefined","TemplateWrapper","constructor","props","renderTemplate","bind","_this$props$model","node","$LI","parentNode","$parent","$children","contents","data","index","model","Object","keys","forEach","name","isNode","$result","template","render","container","transclude","renovated","Number","isFinite","appendChild","shouldComponentUpdate","nextProps","nextModel","nextTemplate","sameTemplate","nextData","nextIndex","sameModel","createEffects","updateEffects","_effects","update","componentWillUnmount"],"sources":["E:/MisaProject/MISA_EMIS/MISA.EMIS.FE/node_modules/devextreme/esm/renovation/component_wrapper/common/template_wrapper.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/renovation/component_wrapper/common/template_wrapper.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport {\r\n    InfernoComponent,\r\n    InfernoEffect\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    findDOMfromVNode\r\n} from \"inferno\";\r\nimport {\r\n    shallowEquals\r\n} from \"../../utils/shallow_equals\";\r\nimport {\r\n    replaceWith\r\n} from \"../../../core/utils/dom\";\r\nimport $ from \"../../../core/renderer\";\r\nimport domAdapter from \"../../../core/dom_adapter\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../../core/element\";\r\nimport {\r\n    removeDifferentElements\r\n} from \"../utils/utils\";\r\nimport {\r\n    isDefined\r\n} from \"../../../core/utils/type\";\r\nexport class TemplateWrapper extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.renderTemplate = this.renderTemplate.bind(this)\r\n    }\r\n    renderTemplate() {\r\n        var _this$props$model;\r\n        var node = findDOMfromVNode(this.$LI, true);\r\n        var parentNode = node.parentNode;\r\n        var $parent = $(parentNode);\r\n        var $children = $parent.contents();\r\n        var {\r\n            data: data,\r\n            index: index\r\n        } = null !== (_this$props$model = this.props.model) && void 0 !== _this$props$model ? _this$props$model : {\r\n            data: {}\r\n        };\r\n        if (data) {\r\n            Object.keys(data).forEach(name => {\r\n                if (data[name] && domAdapter.isNode(data[name])) {\r\n                    data[name] = getPublicElement($(data[name]))\r\n                }\r\n            })\r\n        }\r\n        var $result = $(this.props.template.render(_extends({\r\n            container: getPublicElement($parent),\r\n            transclude: this.props.transclude\r\n        }, {\r\n            renovated: this.props.renovated\r\n        }, !this.props.transclude ? {\r\n            model: data\r\n        } : {}, !this.props.transclude && Number.isFinite(index) ? {\r\n            index: index\r\n        } : {})));\r\n        replaceWith($(node), $result);\r\n        return () => {\r\n            removeDifferentElements($children, $parent.contents());\r\n            parentNode.appendChild(node)\r\n        }\r\n    }\r\n    shouldComponentUpdate(nextProps) {\r\n        var {\r\n            model: model,\r\n            template: template\r\n        } = this.props;\r\n        var {\r\n            model: nextModel,\r\n            template: nextTemplate\r\n        } = nextProps;\r\n        var sameTemplate = template === nextTemplate;\r\n        if (!sameTemplate) {\r\n            return true\r\n        }\r\n        if (isDefined(model) && isDefined(nextModel)) {\r\n            var {\r\n                data: data,\r\n                index: index\r\n            } = model;\r\n            var {\r\n                data: nextData,\r\n                index: nextIndex\r\n            } = nextModel;\r\n            return index !== nextIndex || !shallowEquals(data, nextData)\r\n        }\r\n        var sameModel = model === nextModel;\r\n        return !sameModel\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.renderTemplate, [this.props.template, this.props.model])]\r\n    }\r\n    updateEffects() {\r\n        this._effects[0].update([this.props.template, this.props.model])\r\n    }\r\n    componentWillUnmount() {}\r\n    render() {\r\n        return null\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
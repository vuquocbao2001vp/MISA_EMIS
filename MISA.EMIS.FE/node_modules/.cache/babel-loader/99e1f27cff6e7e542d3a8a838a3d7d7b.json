{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/**\r\n * DevExtreme (esm/ui/html_editor/utils/table_helper.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../../core/renderer\";\nimport { each } from \"../../../core/utils/iterator\";\nimport { camelize } from \"../../../core/utils/inflector\";\nvar TABLE_FORMATS = [\"table\", \"tableHeaderCell\"];\nvar TABLE_OPERATIONS = [\"insertTable\", \"insertHeaderRow\", \"insertRowAbove\", \"insertRowBelow\", \"insertColumnLeft\", \"insertColumnRight\", \"deleteColumn\", \"deleteRow\", \"deleteTable\", \"cellProperties\", \"tableProperties\"];\n\nfunction getTableFormats(quill) {\n  var tableModule = quill.getModule(\"table\");\n  return null !== tableModule && void 0 !== tableModule && tableModule.tableFormats ? tableModule.tableFormats() : TABLE_FORMATS;\n}\n\nfunction hasEmbedContent(module, selection) {\n  return !!selection && module.quill.getText(selection).trim().length < selection.length;\n}\n\nfunction unfixTableWidth($table, _ref) {\n  var {\n    tableBlot: tableBlot,\n    quill: quill\n  } = _ref;\n  var formatBlot = null !== tableBlot && void 0 !== tableBlot ? tableBlot : quill.scroll.find($table.get(0));\n  formatBlot.format(\"tableWidth\", \"initial\");\n}\n\nfunction getColumnElements($table) {\n  var index = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\n  return $table.find(\"tr\").eq(index).find(\"th, td\");\n}\n\nfunction getAutoSizedElements($table) {\n  var direction = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"horizontal\";\n  var result = [];\n  var isHorizontal = \"horizontal\" === direction;\n  var $lineElements = isHorizontal ? getColumnElements($table) : getRowElements($table);\n  $lineElements.each((index, element) => {\n    var $element = $(element);\n\n    if (\"\" === $element.get(0).style[isHorizontal ? \"width\" : \"height\"]) {\n      result.push($element);\n    }\n  });\n  return result;\n}\n\nfunction setLineElementsFormat(module, _ref2) {\n  var {\n    elements: elements,\n    property: property,\n    value: value\n  } = _ref2;\n  var tableBlotNames = module.quill.getModule(\"table\").tableBlots;\n  var fullPropertyName = \"cell\".concat(camelize(property, true));\n  each(elements, (i, element) => {\n    var _formatBlot;\n\n    var formatBlot = module.quill.scroll.find(element);\n\n    if (!tableBlotNames.includes(formatBlot.statics.blotName)) {\n      var descendBlot = formatBlot.descendant(blot => tableBlotNames.includes(blot.statics.blotName));\n      formatBlot = descendBlot ? descendBlot[0] : null;\n    }\n\n    null === (_formatBlot = formatBlot) || void 0 === _formatBlot ? void 0 : _formatBlot.format(fullPropertyName, value + \"px\");\n  });\n}\n\nfunction getLineElements($table, index) {\n  var direction = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"horizontal\";\n  return \"horizontal\" === direction ? getRowElements($table, index) : getColumnElements($table, index);\n}\n\nfunction getRowElements($table) {\n  var index = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\n  return $table.find(\"th:nth-child(\".concat(1 + index, \"), td:nth-child(\").concat(1 + index, \")\"));\n}\n\nfunction getTableOperationHandler(quill, operationName) {\n  for (var _len = arguments.length, rest = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    rest[_key - 2] = arguments[_key];\n  }\n\n  return () => {\n    var table = quill.getModule(\"table\");\n\n    if (!table) {\n      return;\n    }\n\n    quill.focus();\n    return table[operationName](...rest);\n  };\n}\n\nexport { TABLE_OPERATIONS, getTableFormats, getTableOperationHandler, unfixTableWidth, getColumnElements, getAutoSizedElements, setLineElementsFormat, getLineElements, getRowElements, hasEmbedContent };","map":{"version":3,"names":["$","each","camelize","TABLE_FORMATS","TABLE_OPERATIONS","getTableFormats","quill","tableModule","getModule","tableFormats","hasEmbedContent","module","selection","getText","trim","length","unfixTableWidth","$table","_ref","tableBlot","formatBlot","scroll","find","get","format","getColumnElements","index","arguments","eq","getAutoSizedElements","direction","result","isHorizontal","$lineElements","getRowElements","element","$element","style","push","setLineElementsFormat","_ref2","elements","property","value","tableBlotNames","tableBlots","fullPropertyName","concat","i","_formatBlot","includes","statics","blotName","descendBlot","descendant","blot","getLineElements","getTableOperationHandler","operationName","_len","rest","Array","_key","table","focus"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/html_editor/utils/table_helper.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/html_editor/utils/table_helper.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    each\r\n} from \"../../../core/utils/iterator\";\r\nimport {\r\n    camelize\r\n} from \"../../../core/utils/inflector\";\r\nvar TABLE_FORMATS = [\"table\", \"tableHeaderCell\"];\r\nvar TABLE_OPERATIONS = [\"insertTable\", \"insertHeaderRow\", \"insertRowAbove\", \"insertRowBelow\", \"insertColumnLeft\", \"insertColumnRight\", \"deleteColumn\", \"deleteRow\", \"deleteTable\", \"cellProperties\", \"tableProperties\"];\r\n\r\nfunction getTableFormats(quill) {\r\n    var tableModule = quill.getModule(\"table\");\r\n    return null !== tableModule && void 0 !== tableModule && tableModule.tableFormats ? tableModule.tableFormats() : TABLE_FORMATS\r\n}\r\n\r\nfunction hasEmbedContent(module, selection) {\r\n    return !!selection && module.quill.getText(selection).trim().length < selection.length\r\n}\r\n\r\nfunction unfixTableWidth($table, _ref) {\r\n    var {\r\n        tableBlot: tableBlot,\r\n        quill: quill\r\n    } = _ref;\r\n    var formatBlot = null !== tableBlot && void 0 !== tableBlot ? tableBlot : quill.scroll.find($table.get(0));\r\n    formatBlot.format(\"tableWidth\", \"initial\")\r\n}\r\n\r\nfunction getColumnElements($table) {\r\n    var index = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\r\n    return $table.find(\"tr\").eq(index).find(\"th, td\")\r\n}\r\n\r\nfunction getAutoSizedElements($table) {\r\n    var direction = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"horizontal\";\r\n    var result = [];\r\n    var isHorizontal = \"horizontal\" === direction;\r\n    var $lineElements = isHorizontal ? getColumnElements($table) : getRowElements($table);\r\n    $lineElements.each((index, element) => {\r\n        var $element = $(element);\r\n        if (\"\" === $element.get(0).style[isHorizontal ? \"width\" : \"height\"]) {\r\n            result.push($element)\r\n        }\r\n    });\r\n    return result\r\n}\r\n\r\nfunction setLineElementsFormat(module, _ref2) {\r\n    var {\r\n        elements: elements,\r\n        property: property,\r\n        value: value\r\n    } = _ref2;\r\n    var tableBlotNames = module.quill.getModule(\"table\").tableBlots;\r\n    var fullPropertyName = \"cell\".concat(camelize(property, true));\r\n    each(elements, (i, element) => {\r\n        var _formatBlot;\r\n        var formatBlot = module.quill.scroll.find(element);\r\n        if (!tableBlotNames.includes(formatBlot.statics.blotName)) {\r\n            var descendBlot = formatBlot.descendant(blot => tableBlotNames.includes(blot.statics.blotName));\r\n            formatBlot = descendBlot ? descendBlot[0] : null\r\n        }\r\n        null === (_formatBlot = formatBlot) || void 0 === _formatBlot ? void 0 : _formatBlot.format(fullPropertyName, value + \"px\")\r\n    })\r\n}\r\n\r\nfunction getLineElements($table, index) {\r\n    var direction = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"horizontal\";\r\n    return \"horizontal\" === direction ? getRowElements($table, index) : getColumnElements($table, index)\r\n}\r\n\r\nfunction getRowElements($table) {\r\n    var index = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\r\n    return $table.find(\"th:nth-child(\".concat(1 + index, \"), td:nth-child(\").concat(1 + index, \")\"))\r\n}\r\n\r\nfunction getTableOperationHandler(quill, operationName) {\r\n    for (var _len = arguments.length, rest = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\r\n        rest[_key - 2] = arguments[_key]\r\n    }\r\n    return () => {\r\n        var table = quill.getModule(\"table\");\r\n        if (!table) {\r\n            return\r\n        }\r\n        quill.focus();\r\n        return table[operationName](...rest)\r\n    }\r\n}\r\nexport {\r\n    TABLE_OPERATIONS,\r\n    getTableFormats,\r\n    getTableOperationHandler,\r\n    unfixTableWidth,\r\n    getColumnElements,\r\n    getAutoSizedElements,\r\n    setLineElementsFormat,\r\n    getLineElements,\r\n    getRowElements,\r\n    hasEmbedContent\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
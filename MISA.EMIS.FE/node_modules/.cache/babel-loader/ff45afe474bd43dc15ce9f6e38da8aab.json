{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/gauges/common.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { BaseGauge, compareArrays as _compareArrays } from \"./base_gauge\";\nimport { isDefined as _isDefined, isNumeric as _isNumber } from \"../../core/utils/type\";\nimport { extend } from \"../../core/utils/extend\";\nvar _isArray = Array.isArray;\nimport { Axis } from \"../axes/base_axis\";\nimport { map as _map, normalizeEnum as _normalizeEnum } from \"../core/utils\";\nvar _isFinite = isFinite;\nvar _Number = Number;\nvar _min = Math.min;\nvar _max = Math.max;\nvar _extend = extend;\nimport { noop as _noop } from \"../../core/utils/common\";\nvar SHIFT_ANGLE = 90;\nvar OPTION_VALUE = \"value\";\nvar OPTION_SUBVALUES = \"subvalues\";\nvar DEFAULT_MINOR_AXIS_DIVISION_FACTOR = 5;\nvar DEFAULT_NUMBER_MULTIPLIERS = [1, 2, 5];\n\nfunction processValue(value, fallbackValue) {\n  if (null === value) {\n    return value;\n  }\n\n  return _isFinite(value) ? _Number(value) : fallbackValue;\n}\n\nfunction parseArrayOfNumbers(arg) {\n  return _isArray(arg) ? arg : _isNumber(arg) ? [arg] : null;\n}\n\nexport var dxGauge = BaseGauge.inherit({\n  _initCore: function () {\n    var that = this;\n    var renderer = that._renderer;\n\n    that._setupValue(that.option(OPTION_VALUE));\n\n    that.__subvalues = parseArrayOfNumbers(that.option(OPTION_SUBVALUES));\n\n    that._setupSubvalues(that.__subvalues);\n\n    selectMode(that);\n    that.callBase.apply(that, arguments);\n    that._rangeContainer = new that._factory.RangeContainer({\n      renderer: renderer,\n      container: renderer.root,\n      translator: that._translator,\n      themeManager: that._themeManager\n    });\n\n    that._initScale();\n\n    that._subvalueIndicatorContainer = that._renderer.g().attr({\n      class: \"dxg-subvalue-indicators\"\n    }).linkOn(that._renderer.root, \"valueIndicator\").enableLinks();\n  },\n  _fontFields: [\"scale.label.font\", \"valueIndicators.rangebar.text.font\", \"valueIndicators.textcloud.text.font\", \"indicator.text.font\"],\n  _initScale: function () {\n    this._scaleGroup = this._renderer.g().attr({\n      class: \"dxg-scale\"\n    }).linkOn(this._renderer.root, \"scale\");\n    this._labelsAxesGroup = this._renderer.g().attr({\n      class: \"dxg-scale-elements\"\n    }).linkOn(this._renderer.root, \"scale-elements\");\n    this._scale = new Axis({\n      incidentOccurred: this._incidentOccurred,\n      renderer: this._renderer,\n      axesContainerGroup: this._scaleGroup,\n      labelsAxesGroup: this._labelsAxesGroup,\n      axisType: this._scaleTypes.type,\n      drawingType: this._scaleTypes.drawingType,\n      widgetClass: \"dxg\",\n\n      getTemplate() {}\n\n    });\n  },\n  _disposeCore: function () {\n    var that = this;\n    that.callBase.apply(that, arguments);\n\n    that._scale.dispose();\n\n    that._scaleGroup.linkOff();\n\n    that._labelsAxesGroup.linkOff();\n\n    that._rangeContainer.dispose();\n\n    that._disposeValueIndicators();\n\n    that._subvalueIndicatorContainer.linkOff();\n\n    that._scale = that._scaleGroup = that._labelsAxesGroup = that._rangeContainer = null;\n  },\n  _disposeValueIndicators: function () {\n    this._valueIndicator && this._valueIndicator.dispose();\n    this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.dispose();\n    this._valueIndicator = this._subvalueIndicatorsSet = null;\n  },\n  _setupDomainCore: function () {\n    var scaleOption = this.option(\"scale\") || {};\n    var startValue = this.option(\"startValue\");\n    var endValue = this.option(\"endValue\");\n    startValue = _isNumber(startValue) ? _Number(startValue) : _isNumber(scaleOption.startValue) ? _Number(scaleOption.startValue) : 0;\n    endValue = _isNumber(endValue) ? _Number(endValue) : _isNumber(scaleOption.endValue) ? _Number(scaleOption.endValue) : 100;\n    this._baseValue = startValue < endValue ? startValue : endValue;\n\n    this._translator.setDomain(startValue, endValue);\n  },\n  _cleanContent: function () {\n    this._rangeContainer.clean();\n\n    this._cleanValueIndicators();\n  },\n  _measureScale: function (scaleOptions) {\n    var majorTick = scaleOptions.tick;\n    var majorTickEnabled = majorTick.visible && majorTick.length > 0 && majorTick.width > 0;\n    var minorTick = scaleOptions.minorTick;\n    var minorTickEnabled = minorTick.visible && minorTick.length > 0 && minorTick.width > 0;\n    var label = scaleOptions.label;\n    var indentFromTick = Number(label.indentFromTick);\n\n    if (!majorTickEnabled && !minorTickEnabled && !label.visible) {\n      return {};\n    }\n\n    var textParams = this._scale.measureLabels(extend({}, this._canvas));\n\n    var layoutValue = this._getScaleLayoutValue();\n\n    var result = {\n      min: layoutValue,\n      max: layoutValue\n    };\n\n    var coefs = this._getTicksCoefficients(scaleOptions);\n\n    var innerCoef = coefs.inner;\n    var outerCoef = coefs.outer;\n\n    if (majorTickEnabled) {\n      result.min = _min(result.min, layoutValue - innerCoef * majorTick.length);\n      result.max = _max(result.max, layoutValue + outerCoef * majorTick.length);\n    }\n\n    if (minorTickEnabled) {\n      result.min = _min(result.min, layoutValue - innerCoef * minorTick.length);\n      result.max = _max(result.max, layoutValue + outerCoef * minorTick.length);\n    }\n\n    label.visible && this._correctScaleIndents(result, indentFromTick, textParams);\n    return result;\n  },\n  _renderContent: function () {\n    var that = this;\n\n    var scaleOptions = that._prepareScaleSettings();\n\n    that._rangeContainer.render(_extend(that._getOption(\"rangeContainer\"), {\n      vertical: that._area.vertical\n    }));\n\n    that._renderScale(scaleOptions);\n\n    that._subvalueIndicatorContainer.linkAppend();\n\n    var elements = _map([that._rangeContainer].concat(that._prepareValueIndicators()), function (element) {\n      return element && element.enabled ? element : null;\n    });\n\n    that._applyMainLayout(elements, that._measureScale(scaleOptions));\n\n    elements.forEach(element => element.resize(that._getElementLayout(element.getOffset())));\n\n    that._shiftScale(that._getElementLayout(0), scaleOptions);\n\n    that._beginValueChanging();\n\n    that._updateActiveElements();\n\n    that._endValueChanging();\n  },\n  _prepareScaleSettings: function () {\n    var that = this;\n    var userOptions = that.option(\"scale\");\n    var scaleOptions = extend(true, {}, that._themeManager.theme(\"scale\"), userOptions);\n    scaleOptions.label.indentFromAxis = 0;\n    scaleOptions.isHorizontal = !that._area.vertical;\n    scaleOptions.forceUserTickInterval |= _isDefined(userOptions) && _isDefined(userOptions.tickInterval) && !_isDefined(userOptions.scaleDivisionFactor);\n    scaleOptions.axisDivisionFactor = scaleOptions.scaleDivisionFactor || that._gridSpacingFactor;\n    scaleOptions.minorAxisDivisionFactor = scaleOptions.minorScaleDivisionFactor || DEFAULT_MINOR_AXIS_DIVISION_FACTOR;\n    scaleOptions.numberMultipliers = DEFAULT_NUMBER_MULTIPLIERS;\n    scaleOptions.tickOrientation = that._getTicksOrientation(scaleOptions);\n\n    if (scaleOptions.label.useRangeColors) {\n      scaleOptions.label.customizeColor = function () {\n        return that._rangeContainer.getColorForValue(this.value);\n      };\n    }\n\n    return scaleOptions;\n  },\n  _renderScale: function (scaleOptions) {\n    var bounds = this._translator.getDomain();\n\n    var startValue = bounds[0];\n    var endValue = bounds[1];\n\n    var angles = this._translator.getCodomain();\n\n    var invert = !!(startValue > endValue ^ scaleOptions.inverted);\n\n    var min = _min(startValue, endValue);\n\n    var max = _max(startValue, endValue);\n\n    scaleOptions.min = min;\n    scaleOptions.max = max;\n    scaleOptions.startAngle = SHIFT_ANGLE - angles[0];\n    scaleOptions.endAngle = SHIFT_ANGLE - angles[1];\n    scaleOptions.skipViewportExtending = true;\n    scaleOptions.inverted = invert;\n\n    this._scale.updateOptions(scaleOptions);\n\n    this._scale.setBusinessRange({\n      axisType: \"continuous\",\n      dataType: \"numeric\",\n      min: min,\n      max: max,\n      invert: invert\n    });\n\n    this._updateScaleTickIndent(scaleOptions);\n\n    this._scaleGroup.linkAppend();\n\n    this._labelsAxesGroup.linkAppend();\n\n    this._scale.draw(extend({}, this._canvas));\n  },\n  _updateIndicatorSettings: function (settings) {\n    settings.currentValue = settings.baseValue = _isFinite(this._translator.translate(settings.baseValue)) ? _Number(settings.baseValue) : this._baseValue;\n    settings.vertical = this._area.vertical;\n\n    if (settings.text && !settings.text.format) {\n      settings.text.format = this._defaultFormatOptions;\n    }\n  },\n  _prepareIndicatorSettings: function (options, defaultTypeField) {\n    var theme = this._themeManager.theme(\"valueIndicators\");\n\n    var type = _normalizeEnum(options.type || this._themeManager.theme(defaultTypeField));\n\n    var settings = _extend(true, {}, theme._default, theme[type], options);\n\n    settings.type = type;\n    settings.animation = this._animationSettings;\n    settings.containerBackgroundColor = this._containerBackgroundColor;\n\n    this._updateIndicatorSettings(settings);\n\n    return settings;\n  },\n  _cleanValueIndicators: function () {\n    this._valueIndicator && this._valueIndicator.clean();\n    this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.clean();\n  },\n  _prepareValueIndicators: function () {\n    this._prepareValueIndicator();\n\n    null !== this.__subvalues && this._prepareSubvalueIndicators();\n    return [this._valueIndicator, this._subvalueIndicatorsSet];\n  },\n  _updateActiveElements: function () {\n    this._updateValueIndicator();\n\n    this._updateSubvalueIndicators();\n  },\n  _prepareValueIndicator: function () {\n    var target = this._valueIndicator;\n\n    var settings = this._prepareIndicatorSettings(this.option(\"valueIndicator\") || {}, \"valueIndicatorType\");\n\n    if (target && target.type !== settings.type) {\n      target.dispose();\n      target = null;\n    }\n\n    if (!target) {\n      target = this._valueIndicator = this._createIndicator(settings.type, this._renderer.root, \"dxg-value-indicator\", \"value-indicator\");\n    }\n\n    target.render(settings);\n  },\n  _createSubvalueIndicatorsSet: function () {\n    var that = this;\n    var root = that._subvalueIndicatorContainer;\n    return new ValueIndicatorsSet({\n      createIndicator: function (type, i) {\n        return that._createIndicator(type, root, \"dxg-subvalue-indicator\", \"subvalue-indicator\", i);\n      },\n      createPalette: function (palette) {\n        return that._themeManager.createPalette(palette);\n      }\n    });\n  },\n  _prepareSubvalueIndicators: function () {\n    var target = this._subvalueIndicatorsSet;\n\n    var settings = this._prepareIndicatorSettings(this.option(\"subvalueIndicator\") || {}, \"subvalueIndicatorType\");\n\n    if (!target) {\n      target = this._subvalueIndicatorsSet = this._createSubvalueIndicatorsSet();\n    }\n\n    var isRecreate = settings.type !== target.type;\n    target.type = settings.type;\n\n    var dummy = this._createIndicator(settings.type, this._renderer.root);\n\n    if (dummy) {\n      dummy.dispose();\n      target.render(settings, isRecreate);\n    }\n  },\n  _setupValue: function (value) {\n    this.__value = processValue(value, this.__value);\n  },\n  _setupSubvalues: function (subvalues) {\n    var vals = void 0 === subvalues ? this.__subvalues : parseArrayOfNumbers(subvalues);\n    var i;\n    var ii;\n    var list;\n\n    if (null === vals) {\n      return;\n    }\n\n    for (i = 0, ii = vals.length, list = []; i < ii; ++i) {\n      list.push(processValue(vals[i], this.__subvalues[i]));\n    }\n\n    this.__subvalues = list;\n  },\n  _updateValueIndicator: function () {\n    this._valueIndicator && this._valueIndicator.value(this.__value, this._noAnimation);\n  },\n  _updateSubvalueIndicators: function () {\n    this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.values(this.__subvalues, this._noAnimation);\n  },\n  value: function (arg) {\n    if (void 0 !== arg) {\n      this._changeValue(arg);\n\n      return this;\n    }\n\n    return this.__value;\n  },\n  subvalues: function (arg) {\n    if (void 0 !== arg) {\n      this._changeSubvalues(arg);\n\n      return this;\n    }\n\n    return null !== this.__subvalues ? this.__subvalues.slice() : void 0;\n  },\n  _changeValue: function (value) {\n    this._setupValue(value);\n\n    this._beginValueChanging();\n\n    this._updateValueIndicator();\n\n    if (this.__value !== this.option(OPTION_VALUE)) {\n      this.option(OPTION_VALUE, this.__value);\n    }\n\n    this._endValueChanging();\n  },\n  _changeSubvalues: function (subvalues) {\n    if (null !== this.__subvalues) {\n      this._setupSubvalues(subvalues);\n\n      this._beginValueChanging();\n\n      this._updateSubvalueIndicators();\n\n      this._endValueChanging();\n    } else {\n      this.__subvalues = parseArrayOfNumbers(subvalues);\n\n      this._setContentSize();\n\n      this._renderContent();\n    }\n\n    if (!_compareArrays(this.__subvalues, this.option(OPTION_SUBVALUES))) {\n      this.option(OPTION_SUBVALUES, this.__subvalues);\n    }\n  },\n  _optionChangesMap: {\n    scale: \"DOMAIN\",\n    rangeContainer: \"MOSTLY_TOTAL\",\n    valueIndicator: \"MOSTLY_TOTAL\",\n    subvalueIndicator: \"MOSTLY_TOTAL\",\n    containerBackgroundColor: \"MOSTLY_TOTAL\",\n    value: \"VALUE\",\n    subvalues: \"SUBVALUES\",\n    valueIndicators: \"MOSTLY_TOTAL\"\n  },\n  _customChangesOrder: [\"VALUE\", \"SUBVALUES\"],\n  _change_VALUE: function () {\n    this._changeValue(this.option(OPTION_VALUE));\n  },\n  _change_SUBVALUES: function () {\n    this._changeSubvalues(this.option(OPTION_SUBVALUES));\n  },\n  _applyMainLayout: null,\n  _getElementLayout: null,\n  _createIndicator: function (type, owner, className, trackerType, trackerIndex, _strict) {\n    var indicator = this._factory.createIndicator({\n      renderer: this._renderer,\n      translator: this._translator,\n      owner: owner,\n      tracker: this._tracker,\n      className: className\n    }, type, _strict);\n\n    if (indicator) {\n      indicator.type = type;\n      indicator._trackerInfo = {\n        type: trackerType,\n        index: trackerIndex\n      };\n    }\n\n    return indicator;\n  },\n  _getApproximateScreenRange: null\n});\n\nfunction valueGetter(arg) {\n  return arg ? arg.value : null;\n}\n\nfunction setupValues(that, fieldName, optionItems) {\n  var currentValues = that[fieldName];\n  var newValues = _isArray(optionItems) ? _map(optionItems, valueGetter) : [];\n  var i = 0;\n  var ii = newValues.length;\n  var list = [];\n\n  for (; i < ii; ++i) {\n    list.push(processValue(newValues[i], currentValues[i]));\n  }\n\n  that[fieldName] = list;\n}\n\nfunction selectMode(gauge) {\n  if (void 0 === gauge.option(OPTION_VALUE) && void 0 === gauge.option(OPTION_SUBVALUES)) {\n    if (void 0 !== gauge.option(\"valueIndicators\")) {\n      disableDefaultMode(gauge);\n      selectHardMode(gauge);\n    }\n  }\n}\n\nfunction disableDefaultMode(that) {\n  that.value = that.subvalues = _noop;\n  that._setupValue = that._setupSubvalues = that._updateValueIndicator = that._updateSubvalueIndicators = null;\n}\n\nfunction selectHardMode(that) {\n  that._indicatorValues = [];\n  setupValues(that, \"_indicatorValues\", that.option(\"valueIndicators\"));\n  that._valueIndicators = [];\n  var _applyMostlyTotalChange = that._applyMostlyTotalChange;\n\n  that._applyMostlyTotalChange = function () {\n    setupValues(this, \"_indicatorValues\", this.option(\"valueIndicators\"));\n\n    _applyMostlyTotalChange.call(this);\n  };\n\n  that._updateActiveElements = updateActiveElements_hardMode;\n  that._prepareValueIndicators = prepareValueIndicators_hardMode;\n  that._disposeValueIndicators = disposeValueIndicators_hardMode;\n  that._cleanValueIndicators = cleanValueIndicators_hardMode;\n  that.indicatorValue = indicatorValue_hardMode;\n}\n\nfunction updateActiveElements_hardMode() {\n  var that = this;\n\n  that._valueIndicators.forEach(valueIndicator => {\n    valueIndicator.value(that._indicatorValues[valueIndicator.index], that._noAnimation);\n  });\n}\n\nfunction prepareValueIndicators_hardMode() {\n  var that = this;\n  var valueIndicators = that._valueIndicators || [];\n  var userOptions = that.option(\"valueIndicators\");\n  var optionList = [];\n  var i = 0;\n  var ii;\n\n  for (ii = _isArray(userOptions) ? userOptions.length : 0; i < ii; ++i) {\n    optionList.push(userOptions[i]);\n  }\n\n  for (ii = valueIndicators.length; i < ii; ++i) {\n    optionList.push(null);\n  }\n\n  var newValueIndicators = [];\n  optionList.forEach((userSettings, i) => {\n    var valueIndicator = valueIndicators[i];\n\n    if (!userSettings) {\n      valueIndicator && valueIndicator.dispose();\n      return;\n    }\n\n    var settings = that._prepareIndicatorSettings(userSettings, \"valueIndicatorType\");\n\n    if (valueIndicator && valueIndicator.type !== settings.type) {\n      valueIndicator.dispose();\n      valueIndicator = null;\n    }\n\n    if (!valueIndicator) {\n      valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\", i, true);\n    }\n\n    if (valueIndicator) {\n      valueIndicator.index = i;\n      valueIndicator.render(settings);\n      newValueIndicators.push(valueIndicator);\n    }\n  });\n  that._valueIndicators = newValueIndicators;\n  return that._valueIndicators;\n}\n\nfunction disposeValueIndicators_hardMode() {\n  this._valueIndicators.forEach(valueIndicator => valueIndicator.dispose());\n\n  this._valueIndicators = null;\n}\n\nfunction cleanValueIndicators_hardMode() {\n  this._valueIndicators.forEach(valueIndicator => valueIndicator.clean());\n}\n\nfunction indicatorValue_hardMode(index, value) {\n  return accessPointerValue(this, this._valueIndicators, this._indicatorValues, index, value);\n}\n\nfunction accessPointerValue(that, pointers, values, index, value) {\n  if (void 0 !== value) {\n    if (void 0 !== values[index]) {\n      values[index] = processValue(value, values[index]);\n      pointers[index] && pointers[index].value(values[index]);\n    }\n\n    return that;\n  } else {\n    return values[index];\n  }\n}\n\nfunction ValueIndicatorsSet(parameters) {\n  this._parameters = parameters;\n  this._indicators = [];\n}\n\nValueIndicatorsSet.prototype = {\n  constructor: ValueIndicatorsSet,\n  dispose: function () {\n    this._indicators.forEach(indicator => indicator.dispose());\n\n    this._parameters = this._options = this._indicators = this._colorPalette = this._palette = null;\n    return this;\n  },\n  clean: function () {\n    this._sample && this._sample.clean().dispose();\n\n    this._indicators.forEach(indicator => indicator.clean());\n\n    this._sample = this._options = this._palette = null;\n    return this;\n  },\n  render: function (options, isRecreate) {\n    var that = this;\n    that._options = options;\n    that._sample = that._parameters.createIndicator(that.type);\n\n    that._sample.render(options);\n\n    that.enabled = that._sample.enabled;\n    that._palette = _isDefined(options.palette) ? that._parameters.createPalette(options.palette) : null;\n\n    if (that.enabled) {\n      that._generatePalette(that._indicators.length);\n\n      that._indicators = _map(that._indicators, function (indicator, i) {\n        if (isRecreate) {\n          indicator.dispose();\n          indicator = that._parameters.createIndicator(that.type, i);\n        }\n\n        indicator.render(that._getIndicatorOptions(i));\n        return indicator;\n      });\n    }\n\n    return that;\n  },\n  getOffset: function () {\n    return this._sample.getOffset();\n  },\n  resize: function (layout) {\n    this._layout = layout;\n\n    this._indicators.forEach(indicator => indicator.resize(layout));\n\n    return this;\n  },\n  measure: function (layout) {\n    return this._sample.measure(layout);\n  },\n  _getIndicatorOptions: function (index) {\n    var result = this._options;\n\n    if (this._colorPalette) {\n      result = _extend({}, result, {\n        color: this._colorPalette[index]\n      });\n    }\n\n    return result;\n  },\n  _generatePalette: function (count) {\n    var colors = null;\n\n    if (this._palette) {\n      this._palette.reset();\n\n      colors = this._palette.generateColors(count, {\n        repeat: true\n      });\n    }\n\n    this._colorPalette = colors;\n  },\n  _adjustIndicatorsCount: function (count) {\n    var indicators = this._indicators;\n    var i;\n    var ii;\n    var indicator;\n    var indicatorsLen = indicators.length;\n\n    if (indicatorsLen > count) {\n      for (i = count, ii = indicatorsLen; i < ii; ++i) {\n        indicators[i].clean().dispose();\n      }\n\n      this._indicators = indicators.slice(0, count);\n\n      this._generatePalette(indicators.length);\n    } else if (indicatorsLen < count) {\n      this._generatePalette(count);\n\n      for (i = indicatorsLen, ii = count; i < ii; ++i) {\n        indicator = this._parameters.createIndicator(this.type, i);\n        indicator.render(this._getIndicatorOptions(i)).resize(this._layout);\n        indicators.push(indicator);\n      }\n    }\n  },\n  values: function (arg, _noAnimation) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (void 0 !== arg) {\n      if (!_isArray(arg)) {\n        arg = _isFinite(arg) ? [Number(arg)] : null;\n      }\n\n      if (arg) {\n        this._adjustIndicatorsCount(arg.length);\n\n        this._indicators.forEach((indicator, i) => indicator.value(arg[i], _noAnimation));\n      }\n\n      return this;\n    }\n\n    return _map(this._indicators, function (indicator) {\n      return indicator.value();\n    });\n  }\n};\nexport function createIndicatorCreator(indicators) {\n  return function (parameters, type, _strict) {\n    var indicatorType = indicators[_normalizeEnum(type)] || !_strict && indicators._default;\n\n    return indicatorType ? new indicatorType(parameters) : null;\n  };\n}","map":{"version":3,"names":["BaseGauge","compareArrays","_compareArrays","isDefined","_isDefined","isNumeric","_isNumber","extend","_isArray","Array","isArray","Axis","map","_map","normalizeEnum","_normalizeEnum","_isFinite","isFinite","_Number","Number","_min","Math","min","_max","max","_extend","noop","_noop","SHIFT_ANGLE","OPTION_VALUE","OPTION_SUBVALUES","DEFAULT_MINOR_AXIS_DIVISION_FACTOR","DEFAULT_NUMBER_MULTIPLIERS","processValue","value","fallbackValue","parseArrayOfNumbers","arg","dxGauge","inherit","_initCore","that","renderer","_renderer","_setupValue","option","__subvalues","_setupSubvalues","selectMode","callBase","apply","arguments","_rangeContainer","_factory","RangeContainer","container","root","translator","_translator","themeManager","_themeManager","_initScale","_subvalueIndicatorContainer","g","attr","class","linkOn","enableLinks","_fontFields","_scaleGroup","_labelsAxesGroup","_scale","incidentOccurred","_incidentOccurred","axesContainerGroup","labelsAxesGroup","axisType","_scaleTypes","type","drawingType","widgetClass","getTemplate","_disposeCore","dispose","linkOff","_disposeValueIndicators","_valueIndicator","_subvalueIndicatorsSet","_setupDomainCore","scaleOption","startValue","endValue","_baseValue","setDomain","_cleanContent","clean","_cleanValueIndicators","_measureScale","scaleOptions","majorTick","tick","majorTickEnabled","visible","length","width","minorTick","minorTickEnabled","label","indentFromTick","textParams","measureLabels","_canvas","layoutValue","_getScaleLayoutValue","result","coefs","_getTicksCoefficients","innerCoef","inner","outerCoef","outer","_correctScaleIndents","_renderContent","_prepareScaleSettings","render","_getOption","vertical","_area","_renderScale","linkAppend","elements","concat","_prepareValueIndicators","element","enabled","_applyMainLayout","forEach","resize","_getElementLayout","getOffset","_shiftScale","_beginValueChanging","_updateActiveElements","_endValueChanging","userOptions","theme","indentFromAxis","isHorizontal","forceUserTickInterval","tickInterval","scaleDivisionFactor","axisDivisionFactor","_gridSpacingFactor","minorAxisDivisionFactor","minorScaleDivisionFactor","numberMultipliers","tickOrientation","_getTicksOrientation","useRangeColors","customizeColor","getColorForValue","bounds","getDomain","angles","getCodomain","invert","inverted","startAngle","endAngle","skipViewportExtending","updateOptions","setBusinessRange","dataType","_updateScaleTickIndent","draw","_updateIndicatorSettings","settings","currentValue","baseValue","translate","text","format","_defaultFormatOptions","_prepareIndicatorSettings","options","defaultTypeField","_default","animation","_animationSettings","containerBackgroundColor","_containerBackgroundColor","_prepareValueIndicator","_prepareSubvalueIndicators","_updateValueIndicator","_updateSubvalueIndicators","target","_createIndicator","_createSubvalueIndicatorsSet","ValueIndicatorsSet","createIndicator","i","createPalette","palette","isRecreate","dummy","__value","subvalues","vals","ii","list","push","_noAnimation","values","_changeValue","_changeSubvalues","slice","_setContentSize","_optionChangesMap","scale","rangeContainer","valueIndicator","subvalueIndicator","valueIndicators","_customChangesOrder","_change_VALUE","_change_SUBVALUES","owner","className","trackerType","trackerIndex","_strict","indicator","tracker","_tracker","_trackerInfo","index","_getApproximateScreenRange","valueGetter","setupValues","fieldName","optionItems","currentValues","newValues","gauge","disableDefaultMode","selectHardMode","_indicatorValues","_valueIndicators","_applyMostlyTotalChange","call","updateActiveElements_hardMode","prepareValueIndicators_hardMode","disposeValueIndicators_hardMode","cleanValueIndicators_hardMode","indicatorValue","indicatorValue_hardMode","optionList","newValueIndicators","userSettings","accessPointerValue","pointers","parameters","_parameters","_indicators","prototype","constructor","_options","_colorPalette","_palette","_sample","_generatePalette","_getIndicatorOptions","layout","_layout","measure","color","count","colors","reset","generateColors","repeat","_adjustIndicatorsCount","indicators","indicatorsLen","createIndicatorCreator","indicatorType"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/gauges/common.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/gauges/common.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    BaseGauge,\r\n    compareArrays as _compareArrays\r\n} from \"./base_gauge\";\r\nimport {\r\n    isDefined as _isDefined,\r\n    isNumeric as _isNumber\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nvar _isArray = Array.isArray;\r\nimport {\r\n    Axis\r\n} from \"../axes/base_axis\";\r\nimport {\r\n    map as _map,\r\n    normalizeEnum as _normalizeEnum\r\n} from \"../core/utils\";\r\nvar _isFinite = isFinite;\r\nvar _Number = Number;\r\nvar _min = Math.min;\r\nvar _max = Math.max;\r\nvar _extend = extend;\r\nimport {\r\n    noop as _noop\r\n} from \"../../core/utils/common\";\r\nvar SHIFT_ANGLE = 90;\r\nvar OPTION_VALUE = \"value\";\r\nvar OPTION_SUBVALUES = \"subvalues\";\r\nvar DEFAULT_MINOR_AXIS_DIVISION_FACTOR = 5;\r\nvar DEFAULT_NUMBER_MULTIPLIERS = [1, 2, 5];\r\n\r\nfunction processValue(value, fallbackValue) {\r\n    if (null === value) {\r\n        return value\r\n    }\r\n    return _isFinite(value) ? _Number(value) : fallbackValue\r\n}\r\n\r\nfunction parseArrayOfNumbers(arg) {\r\n    return _isArray(arg) ? arg : _isNumber(arg) ? [arg] : null\r\n}\r\nexport var dxGauge = BaseGauge.inherit({\r\n    _initCore: function() {\r\n        var that = this;\r\n        var renderer = that._renderer;\r\n        that._setupValue(that.option(OPTION_VALUE));\r\n        that.__subvalues = parseArrayOfNumbers(that.option(OPTION_SUBVALUES));\r\n        that._setupSubvalues(that.__subvalues);\r\n        selectMode(that);\r\n        that.callBase.apply(that, arguments);\r\n        that._rangeContainer = new that._factory.RangeContainer({\r\n            renderer: renderer,\r\n            container: renderer.root,\r\n            translator: that._translator,\r\n            themeManager: that._themeManager\r\n        });\r\n        that._initScale();\r\n        that._subvalueIndicatorContainer = that._renderer.g().attr({\r\n            class: \"dxg-subvalue-indicators\"\r\n        }).linkOn(that._renderer.root, \"valueIndicator\").enableLinks()\r\n    },\r\n    _fontFields: [\"scale.label.font\", \"valueIndicators.rangebar.text.font\", \"valueIndicators.textcloud.text.font\", \"indicator.text.font\"],\r\n    _initScale: function() {\r\n        this._scaleGroup = this._renderer.g().attr({\r\n            class: \"dxg-scale\"\r\n        }).linkOn(this._renderer.root, \"scale\");\r\n        this._labelsAxesGroup = this._renderer.g().attr({\r\n            class: \"dxg-scale-elements\"\r\n        }).linkOn(this._renderer.root, \"scale-elements\");\r\n        this._scale = new Axis({\r\n            incidentOccurred: this._incidentOccurred,\r\n            renderer: this._renderer,\r\n            axesContainerGroup: this._scaleGroup,\r\n            labelsAxesGroup: this._labelsAxesGroup,\r\n            axisType: this._scaleTypes.type,\r\n            drawingType: this._scaleTypes.drawingType,\r\n            widgetClass: \"dxg\",\r\n            getTemplate() {}\r\n        })\r\n    },\r\n    _disposeCore: function() {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        that._scale.dispose();\r\n        that._scaleGroup.linkOff();\r\n        that._labelsAxesGroup.linkOff();\r\n        that._rangeContainer.dispose();\r\n        that._disposeValueIndicators();\r\n        that._subvalueIndicatorContainer.linkOff();\r\n        that._scale = that._scaleGroup = that._labelsAxesGroup = that._rangeContainer = null\r\n    },\r\n    _disposeValueIndicators: function() {\r\n        this._valueIndicator && this._valueIndicator.dispose();\r\n        this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.dispose();\r\n        this._valueIndicator = this._subvalueIndicatorsSet = null\r\n    },\r\n    _setupDomainCore: function() {\r\n        var scaleOption = this.option(\"scale\") || {};\r\n        var startValue = this.option(\"startValue\");\r\n        var endValue = this.option(\"endValue\");\r\n        startValue = _isNumber(startValue) ? _Number(startValue) : _isNumber(scaleOption.startValue) ? _Number(scaleOption.startValue) : 0;\r\n        endValue = _isNumber(endValue) ? _Number(endValue) : _isNumber(scaleOption.endValue) ? _Number(scaleOption.endValue) : 100;\r\n        this._baseValue = startValue < endValue ? startValue : endValue;\r\n        this._translator.setDomain(startValue, endValue)\r\n    },\r\n    _cleanContent: function() {\r\n        this._rangeContainer.clean();\r\n        this._cleanValueIndicators()\r\n    },\r\n    _measureScale: function(scaleOptions) {\r\n        var majorTick = scaleOptions.tick;\r\n        var majorTickEnabled = majorTick.visible && majorTick.length > 0 && majorTick.width > 0;\r\n        var minorTick = scaleOptions.minorTick;\r\n        var minorTickEnabled = minorTick.visible && minorTick.length > 0 && minorTick.width > 0;\r\n        var label = scaleOptions.label;\r\n        var indentFromTick = Number(label.indentFromTick);\r\n        if (!majorTickEnabled && !minorTickEnabled && !label.visible) {\r\n            return {}\r\n        }\r\n        var textParams = this._scale.measureLabels(extend({}, this._canvas));\r\n        var layoutValue = this._getScaleLayoutValue();\r\n        var result = {\r\n            min: layoutValue,\r\n            max: layoutValue\r\n        };\r\n        var coefs = this._getTicksCoefficients(scaleOptions);\r\n        var innerCoef = coefs.inner;\r\n        var outerCoef = coefs.outer;\r\n        if (majorTickEnabled) {\r\n            result.min = _min(result.min, layoutValue - innerCoef * majorTick.length);\r\n            result.max = _max(result.max, layoutValue + outerCoef * majorTick.length)\r\n        }\r\n        if (minorTickEnabled) {\r\n            result.min = _min(result.min, layoutValue - innerCoef * minorTick.length);\r\n            result.max = _max(result.max, layoutValue + outerCoef * minorTick.length)\r\n        }\r\n        label.visible && this._correctScaleIndents(result, indentFromTick, textParams);\r\n        return result\r\n    },\r\n    _renderContent: function() {\r\n        var that = this;\r\n        var scaleOptions = that._prepareScaleSettings();\r\n        that._rangeContainer.render(_extend(that._getOption(\"rangeContainer\"), {\r\n            vertical: that._area.vertical\r\n        }));\r\n        that._renderScale(scaleOptions);\r\n        that._subvalueIndicatorContainer.linkAppend();\r\n        var elements = _map([that._rangeContainer].concat(that._prepareValueIndicators()), (function(element) {\r\n            return element && element.enabled ? element : null\r\n        }));\r\n        that._applyMainLayout(elements, that._measureScale(scaleOptions));\r\n        elements.forEach(element => element.resize(that._getElementLayout(element.getOffset())));\r\n        that._shiftScale(that._getElementLayout(0), scaleOptions);\r\n        that._beginValueChanging();\r\n        that._updateActiveElements();\r\n        that._endValueChanging()\r\n    },\r\n    _prepareScaleSettings: function() {\r\n        var that = this;\r\n        var userOptions = that.option(\"scale\");\r\n        var scaleOptions = extend(true, {}, that._themeManager.theme(\"scale\"), userOptions);\r\n        scaleOptions.label.indentFromAxis = 0;\r\n        scaleOptions.isHorizontal = !that._area.vertical;\r\n        scaleOptions.forceUserTickInterval |= _isDefined(userOptions) && _isDefined(userOptions.tickInterval) && !_isDefined(userOptions.scaleDivisionFactor);\r\n        scaleOptions.axisDivisionFactor = scaleOptions.scaleDivisionFactor || that._gridSpacingFactor;\r\n        scaleOptions.minorAxisDivisionFactor = scaleOptions.minorScaleDivisionFactor || DEFAULT_MINOR_AXIS_DIVISION_FACTOR;\r\n        scaleOptions.numberMultipliers = DEFAULT_NUMBER_MULTIPLIERS;\r\n        scaleOptions.tickOrientation = that._getTicksOrientation(scaleOptions);\r\n        if (scaleOptions.label.useRangeColors) {\r\n            scaleOptions.label.customizeColor = function() {\r\n                return that._rangeContainer.getColorForValue(this.value)\r\n            }\r\n        }\r\n        return scaleOptions\r\n    },\r\n    _renderScale: function(scaleOptions) {\r\n        var bounds = this._translator.getDomain();\r\n        var startValue = bounds[0];\r\n        var endValue = bounds[1];\r\n        var angles = this._translator.getCodomain();\r\n        var invert = !!(startValue > endValue ^ scaleOptions.inverted);\r\n        var min = _min(startValue, endValue);\r\n        var max = _max(startValue, endValue);\r\n        scaleOptions.min = min;\r\n        scaleOptions.max = max;\r\n        scaleOptions.startAngle = SHIFT_ANGLE - angles[0];\r\n        scaleOptions.endAngle = SHIFT_ANGLE - angles[1];\r\n        scaleOptions.skipViewportExtending = true;\r\n        scaleOptions.inverted = invert;\r\n        this._scale.updateOptions(scaleOptions);\r\n        this._scale.setBusinessRange({\r\n            axisType: \"continuous\",\r\n            dataType: \"numeric\",\r\n            min: min,\r\n            max: max,\r\n            invert: invert\r\n        });\r\n        this._updateScaleTickIndent(scaleOptions);\r\n        this._scaleGroup.linkAppend();\r\n        this._labelsAxesGroup.linkAppend();\r\n        this._scale.draw(extend({}, this._canvas))\r\n    },\r\n    _updateIndicatorSettings: function(settings) {\r\n        settings.currentValue = settings.baseValue = _isFinite(this._translator.translate(settings.baseValue)) ? _Number(settings.baseValue) : this._baseValue;\r\n        settings.vertical = this._area.vertical;\r\n        if (settings.text && !settings.text.format) {\r\n            settings.text.format = this._defaultFormatOptions\r\n        }\r\n    },\r\n    _prepareIndicatorSettings: function(options, defaultTypeField) {\r\n        var theme = this._themeManager.theme(\"valueIndicators\");\r\n        var type = _normalizeEnum(options.type || this._themeManager.theme(defaultTypeField));\r\n        var settings = _extend(true, {}, theme._default, theme[type], options);\r\n        settings.type = type;\r\n        settings.animation = this._animationSettings;\r\n        settings.containerBackgroundColor = this._containerBackgroundColor;\r\n        this._updateIndicatorSettings(settings);\r\n        return settings\r\n    },\r\n    _cleanValueIndicators: function() {\r\n        this._valueIndicator && this._valueIndicator.clean();\r\n        this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.clean()\r\n    },\r\n    _prepareValueIndicators: function() {\r\n        this._prepareValueIndicator();\r\n        null !== this.__subvalues && this._prepareSubvalueIndicators();\r\n        return [this._valueIndicator, this._subvalueIndicatorsSet]\r\n    },\r\n    _updateActiveElements: function() {\r\n        this._updateValueIndicator();\r\n        this._updateSubvalueIndicators()\r\n    },\r\n    _prepareValueIndicator: function() {\r\n        var target = this._valueIndicator;\r\n        var settings = this._prepareIndicatorSettings(this.option(\"valueIndicator\") || {}, \"valueIndicatorType\");\r\n        if (target && target.type !== settings.type) {\r\n            target.dispose();\r\n            target = null\r\n        }\r\n        if (!target) {\r\n            target = this._valueIndicator = this._createIndicator(settings.type, this._renderer.root, \"dxg-value-indicator\", \"value-indicator\")\r\n        }\r\n        target.render(settings)\r\n    },\r\n    _createSubvalueIndicatorsSet: function() {\r\n        var that = this;\r\n        var root = that._subvalueIndicatorContainer;\r\n        return new ValueIndicatorsSet({\r\n            createIndicator: function(type, i) {\r\n                return that._createIndicator(type, root, \"dxg-subvalue-indicator\", \"subvalue-indicator\", i)\r\n            },\r\n            createPalette: function(palette) {\r\n                return that._themeManager.createPalette(palette)\r\n            }\r\n        })\r\n    },\r\n    _prepareSubvalueIndicators: function() {\r\n        var target = this._subvalueIndicatorsSet;\r\n        var settings = this._prepareIndicatorSettings(this.option(\"subvalueIndicator\") || {}, \"subvalueIndicatorType\");\r\n        if (!target) {\r\n            target = this._subvalueIndicatorsSet = this._createSubvalueIndicatorsSet()\r\n        }\r\n        var isRecreate = settings.type !== target.type;\r\n        target.type = settings.type;\r\n        var dummy = this._createIndicator(settings.type, this._renderer.root);\r\n        if (dummy) {\r\n            dummy.dispose();\r\n            target.render(settings, isRecreate)\r\n        }\r\n    },\r\n    _setupValue: function(value) {\r\n        this.__value = processValue(value, this.__value)\r\n    },\r\n    _setupSubvalues: function(subvalues) {\r\n        var vals = void 0 === subvalues ? this.__subvalues : parseArrayOfNumbers(subvalues);\r\n        var i;\r\n        var ii;\r\n        var list;\r\n        if (null === vals) {\r\n            return\r\n        }\r\n        for (i = 0, ii = vals.length, list = []; i < ii; ++i) {\r\n            list.push(processValue(vals[i], this.__subvalues[i]))\r\n        }\r\n        this.__subvalues = list\r\n    },\r\n    _updateValueIndicator: function() {\r\n        this._valueIndicator && this._valueIndicator.value(this.__value, this._noAnimation)\r\n    },\r\n    _updateSubvalueIndicators: function() {\r\n        this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.values(this.__subvalues, this._noAnimation)\r\n    },\r\n    value: function(arg) {\r\n        if (void 0 !== arg) {\r\n            this._changeValue(arg);\r\n            return this\r\n        }\r\n        return this.__value\r\n    },\r\n    subvalues: function(arg) {\r\n        if (void 0 !== arg) {\r\n            this._changeSubvalues(arg);\r\n            return this\r\n        }\r\n        return null !== this.__subvalues ? this.__subvalues.slice() : void 0\r\n    },\r\n    _changeValue: function(value) {\r\n        this._setupValue(value);\r\n        this._beginValueChanging();\r\n        this._updateValueIndicator();\r\n        if (this.__value !== this.option(OPTION_VALUE)) {\r\n            this.option(OPTION_VALUE, this.__value)\r\n        }\r\n        this._endValueChanging()\r\n    },\r\n    _changeSubvalues: function(subvalues) {\r\n        if (null !== this.__subvalues) {\r\n            this._setupSubvalues(subvalues);\r\n            this._beginValueChanging();\r\n            this._updateSubvalueIndicators();\r\n            this._endValueChanging()\r\n        } else {\r\n            this.__subvalues = parseArrayOfNumbers(subvalues);\r\n            this._setContentSize();\r\n            this._renderContent()\r\n        }\r\n        if (!_compareArrays(this.__subvalues, this.option(OPTION_SUBVALUES))) {\r\n            this.option(OPTION_SUBVALUES, this.__subvalues)\r\n        }\r\n    },\r\n    _optionChangesMap: {\r\n        scale: \"DOMAIN\",\r\n        rangeContainer: \"MOSTLY_TOTAL\",\r\n        valueIndicator: \"MOSTLY_TOTAL\",\r\n        subvalueIndicator: \"MOSTLY_TOTAL\",\r\n        containerBackgroundColor: \"MOSTLY_TOTAL\",\r\n        value: \"VALUE\",\r\n        subvalues: \"SUBVALUES\",\r\n        valueIndicators: \"MOSTLY_TOTAL\"\r\n    },\r\n    _customChangesOrder: [\"VALUE\", \"SUBVALUES\"],\r\n    _change_VALUE: function() {\r\n        this._changeValue(this.option(OPTION_VALUE))\r\n    },\r\n    _change_SUBVALUES: function() {\r\n        this._changeSubvalues(this.option(OPTION_SUBVALUES))\r\n    },\r\n    _applyMainLayout: null,\r\n    _getElementLayout: null,\r\n    _createIndicator: function(type, owner, className, trackerType, trackerIndex, _strict) {\r\n        var indicator = this._factory.createIndicator({\r\n            renderer: this._renderer,\r\n            translator: this._translator,\r\n            owner: owner,\r\n            tracker: this._tracker,\r\n            className: className\r\n        }, type, _strict);\r\n        if (indicator) {\r\n            indicator.type = type;\r\n            indicator._trackerInfo = {\r\n                type: trackerType,\r\n                index: trackerIndex\r\n            }\r\n        }\r\n        return indicator\r\n    },\r\n    _getApproximateScreenRange: null\r\n});\r\n\r\nfunction valueGetter(arg) {\r\n    return arg ? arg.value : null\r\n}\r\n\r\nfunction setupValues(that, fieldName, optionItems) {\r\n    var currentValues = that[fieldName];\r\n    var newValues = _isArray(optionItems) ? _map(optionItems, valueGetter) : [];\r\n    var i = 0;\r\n    var ii = newValues.length;\r\n    var list = [];\r\n    for (; i < ii; ++i) {\r\n        list.push(processValue(newValues[i], currentValues[i]))\r\n    }\r\n    that[fieldName] = list\r\n}\r\n\r\nfunction selectMode(gauge) {\r\n    if (void 0 === gauge.option(OPTION_VALUE) && void 0 === gauge.option(OPTION_SUBVALUES)) {\r\n        if (void 0 !== gauge.option(\"valueIndicators\")) {\r\n            disableDefaultMode(gauge);\r\n            selectHardMode(gauge)\r\n        }\r\n    }\r\n}\r\n\r\nfunction disableDefaultMode(that) {\r\n    that.value = that.subvalues = _noop;\r\n    that._setupValue = that._setupSubvalues = that._updateValueIndicator = that._updateSubvalueIndicators = null\r\n}\r\n\r\nfunction selectHardMode(that) {\r\n    that._indicatorValues = [];\r\n    setupValues(that, \"_indicatorValues\", that.option(\"valueIndicators\"));\r\n    that._valueIndicators = [];\r\n    var _applyMostlyTotalChange = that._applyMostlyTotalChange;\r\n    that._applyMostlyTotalChange = function() {\r\n        setupValues(this, \"_indicatorValues\", this.option(\"valueIndicators\"));\r\n        _applyMostlyTotalChange.call(this)\r\n    };\r\n    that._updateActiveElements = updateActiveElements_hardMode;\r\n    that._prepareValueIndicators = prepareValueIndicators_hardMode;\r\n    that._disposeValueIndicators = disposeValueIndicators_hardMode;\r\n    that._cleanValueIndicators = cleanValueIndicators_hardMode;\r\n    that.indicatorValue = indicatorValue_hardMode\r\n}\r\n\r\nfunction updateActiveElements_hardMode() {\r\n    var that = this;\r\n    that._valueIndicators.forEach(valueIndicator => {\r\n        valueIndicator.value(that._indicatorValues[valueIndicator.index], that._noAnimation)\r\n    })\r\n}\r\n\r\nfunction prepareValueIndicators_hardMode() {\r\n    var that = this;\r\n    var valueIndicators = that._valueIndicators || [];\r\n    var userOptions = that.option(\"valueIndicators\");\r\n    var optionList = [];\r\n    var i = 0;\r\n    var ii;\r\n    for (ii = _isArray(userOptions) ? userOptions.length : 0; i < ii; ++i) {\r\n        optionList.push(userOptions[i])\r\n    }\r\n    for (ii = valueIndicators.length; i < ii; ++i) {\r\n        optionList.push(null)\r\n    }\r\n    var newValueIndicators = [];\r\n    optionList.forEach((userSettings, i) => {\r\n        var valueIndicator = valueIndicators[i];\r\n        if (!userSettings) {\r\n            valueIndicator && valueIndicator.dispose();\r\n            return\r\n        }\r\n        var settings = that._prepareIndicatorSettings(userSettings, \"valueIndicatorType\");\r\n        if (valueIndicator && valueIndicator.type !== settings.type) {\r\n            valueIndicator.dispose();\r\n            valueIndicator = null\r\n        }\r\n        if (!valueIndicator) {\r\n            valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\", i, true)\r\n        }\r\n        if (valueIndicator) {\r\n            valueIndicator.index = i;\r\n            valueIndicator.render(settings);\r\n            newValueIndicators.push(valueIndicator)\r\n        }\r\n    });\r\n    that._valueIndicators = newValueIndicators;\r\n    return that._valueIndicators\r\n}\r\n\r\nfunction disposeValueIndicators_hardMode() {\r\n    this._valueIndicators.forEach(valueIndicator => valueIndicator.dispose());\r\n    this._valueIndicators = null\r\n}\r\n\r\nfunction cleanValueIndicators_hardMode() {\r\n    this._valueIndicators.forEach(valueIndicator => valueIndicator.clean())\r\n}\r\n\r\nfunction indicatorValue_hardMode(index, value) {\r\n    return accessPointerValue(this, this._valueIndicators, this._indicatorValues, index, value)\r\n}\r\n\r\nfunction accessPointerValue(that, pointers, values, index, value) {\r\n    if (void 0 !== value) {\r\n        if (void 0 !== values[index]) {\r\n            values[index] = processValue(value, values[index]);\r\n            pointers[index] && pointers[index].value(values[index])\r\n        }\r\n        return that\r\n    } else {\r\n        return values[index]\r\n    }\r\n}\r\n\r\nfunction ValueIndicatorsSet(parameters) {\r\n    this._parameters = parameters;\r\n    this._indicators = []\r\n}\r\nValueIndicatorsSet.prototype = {\r\n    constructor: ValueIndicatorsSet,\r\n    dispose: function() {\r\n        this._indicators.forEach(indicator => indicator.dispose());\r\n        this._parameters = this._options = this._indicators = this._colorPalette = this._palette = null;\r\n        return this\r\n    },\r\n    clean: function() {\r\n        this._sample && this._sample.clean().dispose();\r\n        this._indicators.forEach(indicator => indicator.clean());\r\n        this._sample = this._options = this._palette = null;\r\n        return this\r\n    },\r\n    render: function(options, isRecreate) {\r\n        var that = this;\r\n        that._options = options;\r\n        that._sample = that._parameters.createIndicator(that.type);\r\n        that._sample.render(options);\r\n        that.enabled = that._sample.enabled;\r\n        that._palette = _isDefined(options.palette) ? that._parameters.createPalette(options.palette) : null;\r\n        if (that.enabled) {\r\n            that._generatePalette(that._indicators.length);\r\n            that._indicators = _map(that._indicators, (function(indicator, i) {\r\n                if (isRecreate) {\r\n                    indicator.dispose();\r\n                    indicator = that._parameters.createIndicator(that.type, i)\r\n                }\r\n                indicator.render(that._getIndicatorOptions(i));\r\n                return indicator\r\n            }))\r\n        }\r\n        return that\r\n    },\r\n    getOffset: function() {\r\n        return this._sample.getOffset()\r\n    },\r\n    resize: function(layout) {\r\n        this._layout = layout;\r\n        this._indicators.forEach(indicator => indicator.resize(layout));\r\n        return this\r\n    },\r\n    measure: function(layout) {\r\n        return this._sample.measure(layout)\r\n    },\r\n    _getIndicatorOptions: function(index) {\r\n        var result = this._options;\r\n        if (this._colorPalette) {\r\n            result = _extend({}, result, {\r\n                color: this._colorPalette[index]\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _generatePalette: function(count) {\r\n        var colors = null;\r\n        if (this._palette) {\r\n            this._palette.reset();\r\n            colors = this._palette.generateColors(count, {\r\n                repeat: true\r\n            })\r\n        }\r\n        this._colorPalette = colors\r\n    },\r\n    _adjustIndicatorsCount: function(count) {\r\n        var indicators = this._indicators;\r\n        var i;\r\n        var ii;\r\n        var indicator;\r\n        var indicatorsLen = indicators.length;\r\n        if (indicatorsLen > count) {\r\n            for (i = count, ii = indicatorsLen; i < ii; ++i) {\r\n                indicators[i].clean().dispose()\r\n            }\r\n            this._indicators = indicators.slice(0, count);\r\n            this._generatePalette(indicators.length)\r\n        } else if (indicatorsLen < count) {\r\n            this._generatePalette(count);\r\n            for (i = indicatorsLen, ii = count; i < ii; ++i) {\r\n                indicator = this._parameters.createIndicator(this.type, i);\r\n                indicator.render(this._getIndicatorOptions(i)).resize(this._layout);\r\n                indicators.push(indicator)\r\n            }\r\n        }\r\n    },\r\n    values: function(arg, _noAnimation) {\r\n        if (!this.enabled) {\r\n            return\r\n        }\r\n        if (void 0 !== arg) {\r\n            if (!_isArray(arg)) {\r\n                arg = _isFinite(arg) ? [Number(arg)] : null\r\n            }\r\n            if (arg) {\r\n                this._adjustIndicatorsCount(arg.length);\r\n                this._indicators.forEach((indicator, i) => indicator.value(arg[i], _noAnimation))\r\n            }\r\n            return this\r\n        }\r\n        return _map(this._indicators, (function(indicator) {\r\n            return indicator.value()\r\n        }))\r\n    }\r\n};\r\nexport function createIndicatorCreator(indicators) {\r\n    return function(parameters, type, _strict) {\r\n        var indicatorType = indicators[_normalizeEnum(type)] || !_strict && indicators._default;\r\n        return indicatorType ? new indicatorType(parameters) : null\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
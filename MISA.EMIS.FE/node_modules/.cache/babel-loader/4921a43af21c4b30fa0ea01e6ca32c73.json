{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/text_box/texteditor_button_collection/index.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../../core/renderer\";\nimport CustomButton from \"./custom\";\nimport { extend } from \"../../../core/utils/extend\";\nimport errors from \"../../widget/ui.errors\";\nvar TEXTEDITOR_BUTTONS_CONTAINER_CLASS = \"dx-texteditor-buttons-container\";\n\nfunction checkButtonInfo(buttonInfo) {\n  (() => {\n    if (!buttonInfo || \"object\" !== typeof buttonInfo || Array.isArray(buttonInfo)) {\n      throw errors.Error(\"E1053\");\n    }\n  })();\n\n  (() => {\n    if (!(\"name\" in buttonInfo)) {\n      throw errors.Error(\"E1054\");\n    }\n  })();\n\n  (() => {\n    var {\n      name: name\n    } = buttonInfo;\n\n    if (\"string\" !== typeof name) {\n      throw errors.Error(\"E1055\");\n    }\n  })();\n\n  (() => {\n    var {\n      location: location\n    } = buttonInfo;\n\n    if (\"location\" in buttonInfo && \"after\" !== location && \"before\" !== location) {\n      buttonInfo.location = \"after\";\n    }\n  })();\n}\n\nfunction checkNamesUniqueness(existingNames, newName) {\n  if (-1 !== existingNames.indexOf(newName)) {\n    throw errors.Error(\"E1055\", newName);\n  }\n\n  existingNames.push(newName);\n}\n\nfunction isPredefinedButtonName(name, predefinedButtonsInfo) {\n  return !!predefinedButtonsInfo.find(info => info.name === name);\n}\n\nexport default class TextEditorButtonCollection {\n  constructor(editor, defaultButtonsInfo) {\n    this.buttons = [];\n    this.defaultButtonsInfo = defaultButtonsInfo;\n    this.editor = editor;\n  }\n\n  _compileButtonInfo(buttons) {\n    var names = [];\n    return buttons.map(button => {\n      var isStringButton = \"string\" === typeof button;\n\n      if (!isStringButton) {\n        checkButtonInfo(button);\n      }\n\n      var isDefaultButton = isStringButton || isPredefinedButtonName(button.name, this.defaultButtonsInfo);\n\n      if (isDefaultButton) {\n        var defaultButtonInfo = this.defaultButtonsInfo.find(_ref => {\n          var {\n            name: name\n          } = _ref;\n          return name === button || name === button.name;\n        });\n\n        if (!defaultButtonInfo) {\n          throw errors.Error(\"E1056\", this.editor.NAME, button);\n        }\n\n        checkNamesUniqueness(names, button);\n        return defaultButtonInfo;\n      } else {\n        var {\n          name: name\n        } = button;\n        checkNamesUniqueness(names, name);\n        return extend(button, {\n          Ctor: CustomButton\n        });\n      }\n    });\n  }\n\n  _createButton(buttonsInfo) {\n    var {\n      Ctor: Ctor,\n      options: options,\n      name: name\n    } = buttonsInfo;\n    var button = new Ctor(name, this.editor, options);\n    this.buttons.push(button);\n    return button;\n  }\n\n  _renderButtons(buttons, $container, targetLocation) {\n    var $buttonsContainer = null;\n    var buttonsInfo = buttons ? this._compileButtonInfo(buttons) : this.defaultButtonsInfo;\n    buttonsInfo.forEach(buttonsInfo => {\n      var {\n        location = \"after\"\n      } = buttonsInfo;\n\n      if (location === targetLocation) {\n        this._createButton(buttonsInfo).render((() => {\n          $buttonsContainer = $buttonsContainer || $(\"<div>\").addClass(TEXTEDITOR_BUTTONS_CONTAINER_CLASS);\n          \"before\" === targetLocation ? $container.prepend($buttonsContainer) : $container.append($buttonsContainer);\n          return $buttonsContainer;\n        })());\n      }\n    });\n    return $buttonsContainer;\n  }\n\n  clean() {\n    this.buttons.forEach(button => button.dispose());\n    this.buttons = [];\n  }\n\n  getButton(buttonName) {\n    var button = this.buttons.find(_ref2 => {\n      var {\n        name: name\n      } = _ref2;\n      return name === buttonName;\n    });\n    return button && button.instance;\n  }\n\n  renderAfterButtons(buttons, $container) {\n    return this._renderButtons(buttons, $container, \"after\");\n  }\n\n  renderBeforeButtons(buttons, $container) {\n    return this._renderButtons(buttons, $container, \"before\");\n  }\n\n  updateButtons(names) {\n    this.buttons.forEach(button => {\n      if (!names || -1 !== names.indexOf(button.name)) {\n        button.update();\n      }\n    });\n  }\n\n}","map":{"version":3,"names":["$","CustomButton","extend","errors","TEXTEDITOR_BUTTONS_CONTAINER_CLASS","checkButtonInfo","buttonInfo","Array","isArray","Error","name","location","checkNamesUniqueness","existingNames","newName","indexOf","push","isPredefinedButtonName","predefinedButtonsInfo","find","info","TextEditorButtonCollection","constructor","editor","defaultButtonsInfo","buttons","_compileButtonInfo","names","map","button","isStringButton","isDefaultButton","defaultButtonInfo","_ref","NAME","Ctor","_createButton","buttonsInfo","options","_renderButtons","$container","targetLocation","$buttonsContainer","forEach","render","addClass","prepend","append","clean","dispose","getButton","buttonName","_ref2","instance","renderAfterButtons","renderBeforeButtons","updateButtons","update"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/text_box/texteditor_button_collection/index.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/text_box/texteditor_button_collection/index.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nimport CustomButton from \"./custom\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport errors from \"../../widget/ui.errors\";\r\nvar TEXTEDITOR_BUTTONS_CONTAINER_CLASS = \"dx-texteditor-buttons-container\";\r\n\r\nfunction checkButtonInfo(buttonInfo) {\r\n    (() => {\r\n        if (!buttonInfo || \"object\" !== typeof buttonInfo || Array.isArray(buttonInfo)) {\r\n            throw errors.Error(\"E1053\")\r\n        }\r\n    })();\r\n    (() => {\r\n        if (!(\"name\" in buttonInfo)) {\r\n            throw errors.Error(\"E1054\")\r\n        }\r\n    })();\r\n    (() => {\r\n        var {\r\n            name: name\r\n        } = buttonInfo;\r\n        if (\"string\" !== typeof name) {\r\n            throw errors.Error(\"E1055\")\r\n        }\r\n    })();\r\n    (() => {\r\n        var {\r\n            location: location\r\n        } = buttonInfo;\r\n        if (\"location\" in buttonInfo && \"after\" !== location && \"before\" !== location) {\r\n            buttonInfo.location = \"after\"\r\n        }\r\n    })()\r\n}\r\n\r\nfunction checkNamesUniqueness(existingNames, newName) {\r\n    if (-1 !== existingNames.indexOf(newName)) {\r\n        throw errors.Error(\"E1055\", newName)\r\n    }\r\n    existingNames.push(newName)\r\n}\r\n\r\nfunction isPredefinedButtonName(name, predefinedButtonsInfo) {\r\n    return !!predefinedButtonsInfo.find(info => info.name === name)\r\n}\r\nexport default class TextEditorButtonCollection {\r\n    constructor(editor, defaultButtonsInfo) {\r\n        this.buttons = [];\r\n        this.defaultButtonsInfo = defaultButtonsInfo;\r\n        this.editor = editor\r\n    }\r\n    _compileButtonInfo(buttons) {\r\n        var names = [];\r\n        return buttons.map(button => {\r\n            var isStringButton = \"string\" === typeof button;\r\n            if (!isStringButton) {\r\n                checkButtonInfo(button)\r\n            }\r\n            var isDefaultButton = isStringButton || isPredefinedButtonName(button.name, this.defaultButtonsInfo);\r\n            if (isDefaultButton) {\r\n                var defaultButtonInfo = this.defaultButtonsInfo.find(_ref => {\r\n                    var {\r\n                        name: name\r\n                    } = _ref;\r\n                    return name === button || name === button.name\r\n                });\r\n                if (!defaultButtonInfo) {\r\n                    throw errors.Error(\"E1056\", this.editor.NAME, button)\r\n                }\r\n                checkNamesUniqueness(names, button);\r\n                return defaultButtonInfo\r\n            } else {\r\n                var {\r\n                    name: name\r\n                } = button;\r\n                checkNamesUniqueness(names, name);\r\n                return extend(button, {\r\n                    Ctor: CustomButton\r\n                })\r\n            }\r\n        })\r\n    }\r\n    _createButton(buttonsInfo) {\r\n        var {\r\n            Ctor: Ctor,\r\n            options: options,\r\n            name: name\r\n        } = buttonsInfo;\r\n        var button = new Ctor(name, this.editor, options);\r\n        this.buttons.push(button);\r\n        return button\r\n    }\r\n    _renderButtons(buttons, $container, targetLocation) {\r\n        var $buttonsContainer = null;\r\n        var buttonsInfo = buttons ? this._compileButtonInfo(buttons) : this.defaultButtonsInfo;\r\n        buttonsInfo.forEach(buttonsInfo => {\r\n            var {\r\n                location: location = \"after\"\r\n            } = buttonsInfo;\r\n            if (location === targetLocation) {\r\n                this._createButton(buttonsInfo).render((() => {\r\n                    $buttonsContainer = $buttonsContainer || $(\"<div>\").addClass(TEXTEDITOR_BUTTONS_CONTAINER_CLASS);\r\n                    \"before\" === targetLocation ? $container.prepend($buttonsContainer) : $container.append($buttonsContainer);\r\n                    return $buttonsContainer\r\n                })())\r\n            }\r\n        });\r\n        return $buttonsContainer\r\n    }\r\n    clean() {\r\n        this.buttons.forEach(button => button.dispose());\r\n        this.buttons = []\r\n    }\r\n    getButton(buttonName) {\r\n        var button = this.buttons.find(_ref2 => {\r\n            var {\r\n                name: name\r\n            } = _ref2;\r\n            return name === buttonName\r\n        });\r\n        return button && button.instance\r\n    }\r\n    renderAfterButtons(buttons, $container) {\r\n        return this._renderButtons(buttons, $container, \"after\")\r\n    }\r\n    renderBeforeButtons(buttons, $container) {\r\n        return this._renderButtons(buttons, $container, \"before\")\r\n    }\r\n    updateButtons(names) {\r\n        this.buttons.forEach(button => {\r\n            if (!names || -1 !== names.indexOf(button.name)) {\r\n                button.update()\r\n            }\r\n        })\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
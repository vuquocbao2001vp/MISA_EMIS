{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/tree_map/hover.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport TreeMapBase from \"./tree_map.base\";\nimport Node from \"./node\";\nimport { expand } from \"../core/helpers\";\nimport { buildRectAppearance } from \"./common\";\nimport { parseScalar as _parseScalar } from \"../core/utils\";\nvar proto = TreeMapBase.prototype;\nvar nodeProto = Node.prototype;\nvar STATE_CODE = 1;\nimport \"./api\";\nimport \"./states\";\nproto._eventsMap.onHoverChanged = {\n  name: \"hoverChanged\"\n};\nexpand(proto._handlers, \"calculateAdditionalStates\", function (states, options) {\n  states[1] = options.hoverStyle ? buildRectAppearance(options.hoverStyle) : {};\n});\nTreeMapBase.addChange({\n  code: \"HOVER_ENABLED\",\n  handler: function () {\n    var hoverEnabled = _parseScalar(this._getOption(\"hoverEnabled\", true), true);\n\n    if (!hoverEnabled) {\n      this.clearHover();\n    }\n\n    this._hoverEnabled = hoverEnabled;\n  },\n  isThemeDependent: true,\n  isOptionChange: true,\n  option: \"hoverEnabled\"\n});\nnodeProto.statesMap[1] = 1;\nnodeProto.additionalStates.push(1);\nexpand(proto, \"_extendProxyType\", function (proto) {\n  var that = this;\n\n  proto.setHover = function () {\n    that._hoverNode(this._id);\n  };\n\n  proto.isHovered = function () {\n    return that._hoverIndex === this._id;\n  };\n});\nexpand(proto, \"_onNodesCreated\", function () {\n  this._hoverIndex = -1;\n});\nexpand(proto, \"_changeGroupSettings\", function () {\n  this._groupHoverEnabled = _parseScalar(this._getOption(\"group\").hoverEnabled, true);\n\n  if (!this._groupHoverEnabled) {\n    this.clearHover();\n  }\n});\n\nproto._applyHoverState = function (index, state) {\n  setNodeStateRecursive(this._nodes[index], STATE_CODE, state);\n\n  this._eventTrigger(\"hoverChanged\", {\n    node: this._nodes[index].proxy\n  });\n};\n\nfunction setNodeStateRecursive(node, code, state) {\n  var nodes = node.isNode() && node.nodes;\n  var i;\n  var ii = nodes && nodes.length;\n  node.setState(code, state);\n\n  for (i = 0; i < ii; ++i) {\n    setNodeStateRecursive(nodes[i], code, state);\n  }\n}\n\nproto._hoverNode = function (index) {\n  var currentIndex = this._hoverIndex;\n\n  if (this._hoverEnabled && currentIndex !== index) {\n    if (!this._groupHoverEnabled && index >= 0 && this._nodes[index].isNode()) {\n      this.clearHover();\n      return;\n    }\n\n    this._context.suspend();\n\n    this._hoverIndex = -1;\n\n    if (currentIndex >= 0) {\n      this._applyHoverState(currentIndex, false);\n    }\n\n    this._hoverIndex = index;\n\n    if (index >= 0) {\n      this._applyHoverState(index, true);\n    }\n\n    this._context.resume();\n  }\n};\n\nproto.clearHover = function () {\n  this._hoverNode(-1);\n};","map":{"version":3,"names":["TreeMapBase","Node","expand","buildRectAppearance","parseScalar","_parseScalar","proto","prototype","nodeProto","STATE_CODE","_eventsMap","onHoverChanged","name","_handlers","states","options","hoverStyle","addChange","code","handler","hoverEnabled","_getOption","clearHover","_hoverEnabled","isThemeDependent","isOptionChange","option","statesMap","additionalStates","push","that","setHover","_hoverNode","_id","isHovered","_hoverIndex","_groupHoverEnabled","_applyHoverState","index","state","setNodeStateRecursive","_nodes","_eventTrigger","node","proxy","nodes","isNode","i","ii","length","setState","currentIndex","_context","suspend","resume"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/tree_map/hover.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/tree_map/hover.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport TreeMapBase from \"./tree_map.base\";\r\nimport Node from \"./node\";\r\nimport {\r\n    expand\r\n} from \"../core/helpers\";\r\nimport {\r\n    buildRectAppearance\r\n} from \"./common\";\r\nimport {\r\n    parseScalar as _parseScalar\r\n} from \"../core/utils\";\r\nvar proto = TreeMapBase.prototype;\r\nvar nodeProto = Node.prototype;\r\nvar STATE_CODE = 1;\r\nimport \"./api\";\r\nimport \"./states\";\r\nproto._eventsMap.onHoverChanged = {\r\n    name: \"hoverChanged\"\r\n};\r\nexpand(proto._handlers, \"calculateAdditionalStates\", (function(states, options) {\r\n    states[1] = options.hoverStyle ? buildRectAppearance(options.hoverStyle) : {}\r\n}));\r\nTreeMapBase.addChange({\r\n    code: \"HOVER_ENABLED\",\r\n    handler: function() {\r\n        var hoverEnabled = _parseScalar(this._getOption(\"hoverEnabled\", true), true);\r\n        if (!hoverEnabled) {\r\n            this.clearHover()\r\n        }\r\n        this._hoverEnabled = hoverEnabled\r\n    },\r\n    isThemeDependent: true,\r\n    isOptionChange: true,\r\n    option: \"hoverEnabled\"\r\n});\r\nnodeProto.statesMap[1] = 1;\r\nnodeProto.additionalStates.push(1);\r\nexpand(proto, \"_extendProxyType\", (function(proto) {\r\n    var that = this;\r\n    proto.setHover = function() {\r\n        that._hoverNode(this._id)\r\n    };\r\n    proto.isHovered = function() {\r\n        return that._hoverIndex === this._id\r\n    }\r\n}));\r\nexpand(proto, \"_onNodesCreated\", (function() {\r\n    this._hoverIndex = -1\r\n}));\r\nexpand(proto, \"_changeGroupSettings\", (function() {\r\n    this._groupHoverEnabled = _parseScalar(this._getOption(\"group\").hoverEnabled, true);\r\n    if (!this._groupHoverEnabled) {\r\n        this.clearHover()\r\n    }\r\n}));\r\nproto._applyHoverState = function(index, state) {\r\n    setNodeStateRecursive(this._nodes[index], STATE_CODE, state);\r\n    this._eventTrigger(\"hoverChanged\", {\r\n        node: this._nodes[index].proxy\r\n    })\r\n};\r\n\r\nfunction setNodeStateRecursive(node, code, state) {\r\n    var nodes = node.isNode() && node.nodes;\r\n    var i;\r\n    var ii = nodes && nodes.length;\r\n    node.setState(code, state);\r\n    for (i = 0; i < ii; ++i) {\r\n        setNodeStateRecursive(nodes[i], code, state)\r\n    }\r\n}\r\nproto._hoverNode = function(index) {\r\n    var currentIndex = this._hoverIndex;\r\n    if (this._hoverEnabled && currentIndex !== index) {\r\n        if (!this._groupHoverEnabled && index >= 0 && this._nodes[index].isNode()) {\r\n            this.clearHover();\r\n            return\r\n        }\r\n        this._context.suspend();\r\n        this._hoverIndex = -1;\r\n        if (currentIndex >= 0) {\r\n            this._applyHoverState(currentIndex, false)\r\n        }\r\n        this._hoverIndex = index;\r\n        if (index >= 0) {\r\n            this._applyHoverState(index, true)\r\n        }\r\n        this._context.resume()\r\n    }\r\n};\r\nproto.clearHover = function() {\r\n    this._hoverNode(-1)\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
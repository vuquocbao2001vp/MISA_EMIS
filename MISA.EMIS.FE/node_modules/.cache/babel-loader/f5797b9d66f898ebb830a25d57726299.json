{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/diagram/ui.diagram.scroll_view.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth, getHeight } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport Widget from \"../widget/ui.widget\";\nimport ScrollView from \"../scroll_view\";\nimport { calculateScrollbarWidth } from \"../pivot_grid/utils/calculate_scrollbar_width\";\nimport { getDiagram } from \"./diagram.importer\";\n\nclass DiagramScrollView extends Widget {\n  _init() {\n    super._init();\n\n    var {\n      EventDispatcher: EventDispatcher\n    } = getDiagram();\n    this.onScroll = new EventDispatcher();\n\n    this._createOnCreateDiagramAction();\n  }\n\n  _initMarkup() {\n    super._initMarkup();\n\n    var $scrollViewWrapper = $(\"<div>\").appendTo(this.$element());\n    var options = {\n      direction: \"both\",\n      bounceEnabled: false,\n      scrollByContent: false,\n      onScroll: _ref => {\n        var {\n          scrollOffset: scrollOffset\n        } = _ref;\n\n        this._raiseOnScroll(scrollOffset.left, scrollOffset.top);\n      }\n    };\n    var useNativeScrolling = this.option(\"useNativeScrolling\");\n\n    if (void 0 !== useNativeScrolling) {\n      options.useNative = useNativeScrolling;\n    }\n\n    this._scrollView = this._createComponent($scrollViewWrapper, ScrollView, options);\n\n    this._onCreateDiagramAction({\n      $parent: $(this._scrollView.content()),\n      scrollView: this\n    });\n  }\n\n  setScroll(left, top) {\n    this._scrollView.scrollTo({\n      left: left,\n      top: top\n    });\n\n    this._raiseOnScrollWithoutPoint();\n  }\n\n  offsetScroll(left, top) {\n    this._scrollView.scrollBy({\n      left: left,\n      top: top\n    });\n\n    this._raiseOnScrollWithoutPoint();\n  }\n\n  getSize() {\n    var {\n      Size: Size\n    } = getDiagram();\n\n    var $element = this._scrollView.$element();\n\n    return new Size(Math.floor(getWidth($element)), Math.floor(getHeight($element)));\n  }\n\n  getScrollContainer() {\n    return this._scrollView.$element()[0];\n  }\n\n  getScrollBarWidth() {\n    return this.option(\"useNativeScrolling\") ? calculateScrollbarWidth() : 0;\n  }\n\n  detachEvents() {}\n\n  _raiseOnScroll(left, top) {\n    var {\n      Point: Point\n    } = getDiagram();\n    this.onScroll.raise(\"notifyScrollChanged\", () => new Point(left, top));\n  }\n\n  _raiseOnScrollWithoutPoint() {\n    var {\n      Point: Point\n    } = getDiagram();\n    this.onScroll.raise(\"notifyScrollChanged\", () => new Point(this._scrollView.scrollLeft(), this._scrollView.scrollTop()));\n  }\n\n  _createOnCreateDiagramAction() {\n    this._onCreateDiagramAction = this._createActionByOption(\"onCreateDiagram\");\n  }\n\n  _optionChanged(args) {\n    switch (args.name) {\n      case \"onCreateDiagram\":\n        this._createOnCreateDiagramAction();\n\n        break;\n\n      case \"useNativeScrolling\":\n        break;\n\n      default:\n        super._optionChanged(args);\n\n    }\n  }\n\n}\n\nexport default DiagramScrollView;","map":{"version":3,"names":["getWidth","getHeight","$","Widget","ScrollView","calculateScrollbarWidth","getDiagram","DiagramScrollView","_init","EventDispatcher","onScroll","_createOnCreateDiagramAction","_initMarkup","$scrollViewWrapper","appendTo","$element","options","direction","bounceEnabled","scrollByContent","_ref","scrollOffset","_raiseOnScroll","left","top","useNativeScrolling","option","useNative","_scrollView","_createComponent","_onCreateDiagramAction","$parent","content","scrollView","setScroll","scrollTo","_raiseOnScrollWithoutPoint","offsetScroll","scrollBy","getSize","Size","Math","floor","getScrollContainer","getScrollBarWidth","detachEvents","Point","raise","scrollLeft","scrollTop","_createActionByOption","_optionChanged","args","name"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/diagram/ui.diagram.scroll_view.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/diagram/ui.diagram.scroll_view.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport ScrollView from \"../scroll_view\";\r\nimport {\r\n    calculateScrollbarWidth\r\n} from \"../pivot_grid/utils/calculate_scrollbar_width\";\r\nimport {\r\n    getDiagram\r\n} from \"./diagram.importer\";\r\nclass DiagramScrollView extends Widget {\r\n    _init() {\r\n        super._init();\r\n        var {\r\n            EventDispatcher: EventDispatcher\r\n        } = getDiagram();\r\n        this.onScroll = new EventDispatcher;\r\n        this._createOnCreateDiagramAction()\r\n    }\r\n    _initMarkup() {\r\n        super._initMarkup();\r\n        var $scrollViewWrapper = $(\"<div>\").appendTo(this.$element());\r\n        var options = {\r\n            direction: \"both\",\r\n            bounceEnabled: false,\r\n            scrollByContent: false,\r\n            onScroll: _ref => {\r\n                var {\r\n                    scrollOffset: scrollOffset\r\n                } = _ref;\r\n                this._raiseOnScroll(scrollOffset.left, scrollOffset.top)\r\n            }\r\n        };\r\n        var useNativeScrolling = this.option(\"useNativeScrolling\");\r\n        if (void 0 !== useNativeScrolling) {\r\n            options.useNative = useNativeScrolling\r\n        }\r\n        this._scrollView = this._createComponent($scrollViewWrapper, ScrollView, options);\r\n        this._onCreateDiagramAction({\r\n            $parent: $(this._scrollView.content()),\r\n            scrollView: this\r\n        })\r\n    }\r\n    setScroll(left, top) {\r\n        this._scrollView.scrollTo({\r\n            left: left,\r\n            top: top\r\n        });\r\n        this._raiseOnScrollWithoutPoint()\r\n    }\r\n    offsetScroll(left, top) {\r\n        this._scrollView.scrollBy({\r\n            left: left,\r\n            top: top\r\n        });\r\n        this._raiseOnScrollWithoutPoint()\r\n    }\r\n    getSize() {\r\n        var {\r\n            Size: Size\r\n        } = getDiagram();\r\n        var $element = this._scrollView.$element();\r\n        return new Size(Math.floor(getWidth($element)), Math.floor(getHeight($element)))\r\n    }\r\n    getScrollContainer() {\r\n        return this._scrollView.$element()[0]\r\n    }\r\n    getScrollBarWidth() {\r\n        return this.option(\"useNativeScrolling\") ? calculateScrollbarWidth() : 0\r\n    }\r\n    detachEvents() {}\r\n    _raiseOnScroll(left, top) {\r\n        var {\r\n            Point: Point\r\n        } = getDiagram();\r\n        this.onScroll.raise(\"notifyScrollChanged\", () => new Point(left, top))\r\n    }\r\n    _raiseOnScrollWithoutPoint() {\r\n        var {\r\n            Point: Point\r\n        } = getDiagram();\r\n        this.onScroll.raise(\"notifyScrollChanged\", () => new Point(this._scrollView.scrollLeft(), this._scrollView.scrollTop()))\r\n    }\r\n    _createOnCreateDiagramAction() {\r\n        this._onCreateDiagramAction = this._createActionByOption(\"onCreateDiagram\")\r\n    }\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"onCreateDiagram\":\r\n                this._createOnCreateDiagramAction();\r\n                break;\r\n            case \"useNativeScrolling\":\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n}\r\nexport default DiagramScrollView;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
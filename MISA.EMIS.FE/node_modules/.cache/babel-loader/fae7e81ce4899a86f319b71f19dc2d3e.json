{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/shared/grouped_data_converter_mixin.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { isObject } from \"../../core/utils/type\";\n\nvar isCorrectStructure = data => Array.isArray(data) && data.every(item => {\n  var hasTwoFields = 2 === Object.keys(item).length;\n  var hasCorrectFields = \"key\" in item && \"items\" in item;\n  return hasTwoFields && hasCorrectFields && Array.isArray(item.items);\n});\n\nexport default {\n  _getSpecificDataSourceOption: function () {\n    var dataSource = this.option(\"dataSource\");\n    var hasSimpleItems = false;\n    var data = {};\n\n    if (this._getGroupedOption() && isCorrectStructure(dataSource)) {\n      data = dataSource.reduce((accumulator, item) => {\n        var items = item.items.map(innerItem => {\n          if (!isObject(innerItem)) {\n            innerItem = {\n              text: innerItem\n            };\n            hasSimpleItems = true;\n          }\n\n          if (!(\"key\" in innerItem)) {\n            innerItem.key = item.key;\n          }\n\n          return innerItem;\n        });\n        return accumulator.concat(items);\n      }, []);\n      dataSource = {\n        store: {\n          type: \"array\",\n          data: data\n        },\n        group: {\n          selector: \"key\",\n          keepInitialKeyOrder: true\n        }\n      };\n\n      if (hasSimpleItems) {\n        dataSource.searchExpr = \"text\";\n      }\n    }\n\n    return dataSource;\n  }\n};","map":{"version":3,"names":["isObject","isCorrectStructure","data","Array","isArray","every","item","hasTwoFields","Object","keys","length","hasCorrectFields","items","_getSpecificDataSourceOption","dataSource","option","hasSimpleItems","_getGroupedOption","reduce","accumulator","map","innerItem","text","key","concat","store","type","group","selector","keepInitialKeyOrder","searchExpr"],"sources":["E:/MisaProject/W2022_06/MISA.EMIS.FE/node_modules/devextreme/esm/ui/shared/grouped_data_converter_mixin.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/shared/grouped_data_converter_mixin.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isObject\r\n} from \"../../core/utils/type\";\r\nvar isCorrectStructure = data => Array.isArray(data) && data.every(item => {\r\n    var hasTwoFields = 2 === Object.keys(item).length;\r\n    var hasCorrectFields = \"key\" in item && \"items\" in item;\r\n    return hasTwoFields && hasCorrectFields && Array.isArray(item.items)\r\n});\r\nexport default {\r\n    _getSpecificDataSourceOption: function() {\r\n        var dataSource = this.option(\"dataSource\");\r\n        var hasSimpleItems = false;\r\n        var data = {};\r\n        if (this._getGroupedOption() && isCorrectStructure(dataSource)) {\r\n            data = dataSource.reduce((accumulator, item) => {\r\n                var items = item.items.map(innerItem => {\r\n                    if (!isObject(innerItem)) {\r\n                        innerItem = {\r\n                            text: innerItem\r\n                        };\r\n                        hasSimpleItems = true\r\n                    }\r\n                    if (!(\"key\" in innerItem)) {\r\n                        innerItem.key = item.key\r\n                    }\r\n                    return innerItem\r\n                });\r\n                return accumulator.concat(items)\r\n            }, []);\r\n            dataSource = {\r\n                store: {\r\n                    type: \"array\",\r\n                    data: data\r\n                },\r\n                group: {\r\n                    selector: \"key\",\r\n                    keepInitialKeyOrder: true\r\n                }\r\n            };\r\n            if (hasSimpleItems) {\r\n                dataSource.searchExpr = \"text\"\r\n            }\r\n        }\r\n        return dataSource\r\n    }\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,QADJ,QAEO,uBAFP;;AAGA,IAAIC,kBAAkB,GAAGC,IAAI,IAAIC,KAAK,CAACC,OAAN,CAAcF,IAAd,KAAuBA,IAAI,CAACG,KAAL,CAAWC,IAAI,IAAI;EACvE,IAAIC,YAAY,GAAG,MAAMC,MAAM,CAACC,IAAP,CAAYH,IAAZ,EAAkBI,MAA3C;EACA,IAAIC,gBAAgB,GAAG,SAASL,IAAT,IAAiB,WAAWA,IAAnD;EACA,OAAOC,YAAY,IAAII,gBAAhB,IAAoCR,KAAK,CAACC,OAAN,CAAcE,IAAI,CAACM,KAAnB,CAA3C;AACH,CAJuD,CAAxD;;AAKA,eAAe;EACXC,4BAA4B,EAAE,YAAW;IACrC,IAAIC,UAAU,GAAG,KAAKC,MAAL,CAAY,YAAZ,CAAjB;IACA,IAAIC,cAAc,GAAG,KAArB;IACA,IAAId,IAAI,GAAG,EAAX;;IACA,IAAI,KAAKe,iBAAL,MAA4BhB,kBAAkB,CAACa,UAAD,CAAlD,EAAgE;MAC5DZ,IAAI,GAAGY,UAAU,CAACI,MAAX,CAAkB,CAACC,WAAD,EAAcb,IAAd,KAAuB;QAC5C,IAAIM,KAAK,GAAGN,IAAI,CAACM,KAAL,CAAWQ,GAAX,CAAeC,SAAS,IAAI;UACpC,IAAI,CAACrB,QAAQ,CAACqB,SAAD,CAAb,EAA0B;YACtBA,SAAS,GAAG;cACRC,IAAI,EAAED;YADE,CAAZ;YAGAL,cAAc,GAAG,IAAjB;UACH;;UACD,IAAI,EAAE,SAASK,SAAX,CAAJ,EAA2B;YACvBA,SAAS,CAACE,GAAV,GAAgBjB,IAAI,CAACiB,GAArB;UACH;;UACD,OAAOF,SAAP;QACH,CAXW,CAAZ;QAYA,OAAOF,WAAW,CAACK,MAAZ,CAAmBZ,KAAnB,CAAP;MACH,CAdM,EAcJ,EAdI,CAAP;MAeAE,UAAU,GAAG;QACTW,KAAK,EAAE;UACHC,IAAI,EAAE,OADH;UAEHxB,IAAI,EAAEA;QAFH,CADE;QAKTyB,KAAK,EAAE;UACHC,QAAQ,EAAE,KADP;UAEHC,mBAAmB,EAAE;QAFlB;MALE,CAAb;;MAUA,IAAIb,cAAJ,EAAoB;QAChBF,UAAU,CAACgB,UAAX,GAAwB,MAAxB;MACH;IACJ;;IACD,OAAOhB,UAAP;EACH;AApCU,CAAf"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/vector_map/layout.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { each } from \"../../core/utils/iterator\";\nvar _round = Math.round;\nvar _min = Math.min;\nvar _max = Math.max;\nvar _each = each;\nvar horizontalAlignmentMap = {\n  left: 0,\n  center: 1,\n  right: 2\n};\nvar verticalAlignmentMap = {\n  top: 0,\n  bottom: 1\n};\n\nfunction getCellIndex(options) {\n  return 3 * verticalAlignmentMap[options.verticalAlignment] + horizontalAlignmentMap[options.horizontalAlignment];\n}\n\nfunction createCells(canvas, items) {\n  var hStep = (canvas.right - canvas.left) / 3;\n  var vStep = (canvas.bottom - canvas.top) / 2;\n  var h1 = canvas.left;\n\n  var h2 = _round(h1 + hStep);\n\n  var h3 = _round(h1 + hStep + hStep);\n\n  var h4 = canvas.right;\n  var v1 = canvas.top;\n\n  var v2 = _round(v1 + vStep);\n\n  var v3 = canvas.bottom;\n  var cells = [{\n    rect: [h1, v1, h2, v2]\n  }, {\n    rect: [h2, v1, h3, v2],\n    center: true\n  }, {\n    rect: [h3, v1, h4, v2],\n    horInversion: true\n  }, {\n    rect: [h1, v2, h2, v3],\n    verInversion: true\n  }, {\n    rect: [h2, v2, h3, v3],\n    center: true,\n    verInversion: true\n  }, {\n    rect: [h3, v2, h4, v3],\n    horInversion: true,\n    verInversion: true\n  }];\n  var itemsList = [[], [], [], [], [], []];\n\n  _each(items, function (_, item) {\n    var options = item.getLayoutOptions();\n\n    if (options) {\n      itemsList[getCellIndex(options)].push({\n        item: item,\n        width: options.width,\n        height: options.height\n      });\n    }\n  });\n\n  _each(cells, function (i, cell) {\n    if (itemsList[i].length) {\n      cell.items = itemsList[i];\n    } else {\n      if (cell.center) {\n        cell.rect[0] = cell.rect[2] = (cell.rect[0] + cell.rect[2]) / 2;\n      } else {\n        cell.rect[cell.horInversion ? 0 : 2] = cell.rect[cell.horInversion ? 2 : 0];\n      }\n\n      cell.rect[cell.verInversion ? 1 : 3] = cell.rect[cell.verInversion ? 3 : 1];\n    }\n  });\n\n  return cells;\n}\n\nfunction adjustCellSizes(cells) {\n  _each([0, 1, 2, 3, 4, 5], function (_, index) {\n    var cell = cells[index];\n    var otherCell = cells[(index + 3) % 6];\n\n    if (cell.items) {\n      if (!otherCell.items) {\n        cell.rect[1] = _min(cell.rect[1], otherCell.rect[3]);\n        cell.rect[3] = _max(cell.rect[3], otherCell.rect[1]);\n      }\n    }\n  });\n\n  _each([1, 4], function (_, index) {\n    var cell = cells[index];\n    var otherCell1 = cells[index - 1];\n    var otherCell2 = cells[index + 1];\n    var size1;\n    var size2;\n\n    if (cell.items) {\n      if (!otherCell1.items && !otherCell2.items) {\n        size1 = cell.rect[0] - otherCell1.rect[2];\n        size2 = otherCell2.rect[0] - cell.rect[2];\n\n        if (size1 > size2) {\n          if (size1 / size2 >= 2) {\n            cell.rect[0] -= size1;\n            cell.right = true;\n          } else {\n            cell.rect[0] -= size2;\n            cell.rect[2] += size2;\n          }\n        } else if (size2 / size1 >= 2) {\n          cell.rect[2] += size2;\n          cell.center = null;\n        } else {\n          cell.rect[0] -= size1;\n          cell.rect[2] += size1;\n        }\n      }\n    } else {\n      if (otherCell1.items) {\n        otherCell1.rect[2] = (cell.rect[0] + cell.rect[2]) / 2;\n      }\n\n      if (otherCell2.items) {\n        otherCell2.rect[0] = (cell.rect[0] + cell.rect[2]) / 2;\n      }\n    }\n  });\n}\n\nfunction adjustCellsAndApplyLayout(cells, forceMode) {\n  var hasHiddenItems = false;\n  adjustCellSizes(cells);\n\n  _each(cells, function (_, cell) {\n    if (cell.items) {\n      hasHiddenItems = applyCellLayout(cell, forceMode) || hasHiddenItems;\n    }\n  });\n\n  return hasHiddenItems;\n}\n\nfunction applyCellLayout(cell, forceMode) {\n  var cellRect = cell.rect;\n  var cellWidth = cellRect[2] - cellRect[0];\n  var cellHeight = cellRect[3] - cellRect[1];\n  var xOffset = 0;\n  var yOffset = 0;\n  var currentHeight = 0;\n  var totalL = cellRect[2];\n  var totalT = cellRect[3];\n  var totalR = cellRect[0];\n  var totalB = cellRect[1];\n  var moves = [];\n  var hasHiddenItems = false;\n\n  _each(cell.items, function (_, item) {\n    if (item.width > cellWidth || item.height > cellHeight) {\n      moves.push(null);\n      hasHiddenItems = true;\n      return forceMode || false;\n    }\n\n    if (xOffset + item.width > cellWidth) {\n      yOffset += currentHeight;\n      xOffset = currentHeight = 0;\n    }\n\n    if (yOffset + item.height > cellHeight) {\n      moves.push(null);\n      hasHiddenItems = true;\n      return forceMode || false;\n    }\n\n    currentHeight = _max(currentHeight, item.height);\n    var dx = cell.horInversion ? cellRect[2] - item.width - xOffset : cellRect[0] + xOffset;\n    var dy = cell.verInversion ? cellRect[3] - item.height - yOffset : cellRect[1] + yOffset;\n    xOffset += item.width;\n    totalL = _min(totalL, dx);\n    totalT = _min(totalT, dy);\n    totalR = _max(totalR, dx + item.width);\n    totalB = _max(totalB, dy + item.height);\n    moves.push([dx, dy]);\n  });\n\n  if (forceMode || !hasHiddenItems) {\n    xOffset = 0;\n\n    if (cell.right) {\n      xOffset = cellRect[2] - cellRect[0] - totalR + totalL;\n    } else if (cell.center) {\n      xOffset = _round((cellRect[2] - cellRect[0] - totalR + totalL) / 2);\n    }\n\n    _each(cell.items, function (i, item) {\n      var move = moves[i];\n\n      if (move) {\n        item.item.locate(move[0] + xOffset, move[1]);\n      } else {\n        item.item.resize(null);\n      }\n    });\n\n    cell.rect = [totalL, totalT, totalR, totalB];\n    cell.items = null;\n  }\n\n  return hasHiddenItems;\n}\n\nfunction applyLayout(canvas, items) {\n  var cells = createCells(canvas, items);\n\n  if (adjustCellsAndApplyLayout(cells)) {\n    adjustCellsAndApplyLayout(cells, true);\n  }\n}\n\nexport function LayoutControl(widget) {\n  var that = this;\n  that._items = [];\n  that._suspended = 0;\n  that._widget = widget;\n\n  that._updateLayout = function () {\n    that._update();\n  };\n}\nLayoutControl.prototype = {\n  constructor: LayoutControl,\n  dispose: function () {\n    this._items = this._updateLayout = null;\n  },\n  setSize: function (canvas) {\n    this._canvas = canvas;\n\n    this._update();\n  },\n  suspend: function () {\n    ++this._suspended;\n  },\n  resume: function () {\n    if (0 === --this._suspended) {\n      this._update();\n    }\n  },\n  addItem: function (item) {\n    this._items.push(item);\n\n    item.updateLayout = this._updateLayout;\n  },\n  removeItem: function (item) {\n    var index = this._items.indexOf(item);\n\n    this._items.splice(index, 1);\n\n    item.updateLayout = null;\n  },\n  _update: function () {\n    var canvas;\n\n    if (0 === this._suspended) {\n      canvas = this._canvas;\n\n      _each(this._items, function (_, item) {\n        item.resize(canvas);\n      });\n\n      this._widget.resolveItemsDeferred(this._items.filter(el => el.getTemplatesGroups && el.getTemplatesDef));\n\n      applyLayout({\n        left: canvas.left,\n        top: canvas.top,\n        right: canvas.width + canvas.left,\n        bottom: canvas.height + canvas.top\n      }, this._items);\n    }\n  }\n};","map":{"version":3,"names":["each","_round","Math","round","_min","min","_max","max","_each","horizontalAlignmentMap","left","center","right","verticalAlignmentMap","top","bottom","getCellIndex","options","verticalAlignment","horizontalAlignment","createCells","canvas","items","hStep","vStep","h1","h2","h3","h4","v1","v2","v3","cells","rect","horInversion","verInversion","itemsList","_","item","getLayoutOptions","push","width","height","i","cell","length","adjustCellSizes","index","otherCell","otherCell1","otherCell2","size1","size2","adjustCellsAndApplyLayout","forceMode","hasHiddenItems","applyCellLayout","cellRect","cellWidth","cellHeight","xOffset","yOffset","currentHeight","totalL","totalT","totalR","totalB","moves","dx","dy","move","locate","resize","applyLayout","LayoutControl","widget","that","_items","_suspended","_widget","_updateLayout","_update","prototype","constructor","dispose","setSize","_canvas","suspend","resume","addItem","updateLayout","removeItem","indexOf","splice","resolveItemsDeferred","filter","el","getTemplatesGroups","getTemplatesDef"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/vector_map/layout.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/vector_map/layout.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nvar _round = Math.round;\r\nvar _min = Math.min;\r\nvar _max = Math.max;\r\nvar _each = each;\r\nvar horizontalAlignmentMap = {\r\n    left: 0,\r\n    center: 1,\r\n    right: 2\r\n};\r\nvar verticalAlignmentMap = {\r\n    top: 0,\r\n    bottom: 1\r\n};\r\n\r\nfunction getCellIndex(options) {\r\n    return 3 * verticalAlignmentMap[options.verticalAlignment] + horizontalAlignmentMap[options.horizontalAlignment]\r\n}\r\n\r\nfunction createCells(canvas, items) {\r\n    var hStep = (canvas.right - canvas.left) / 3;\r\n    var vStep = (canvas.bottom - canvas.top) / 2;\r\n    var h1 = canvas.left;\r\n    var h2 = _round(h1 + hStep);\r\n    var h3 = _round(h1 + hStep + hStep);\r\n    var h4 = canvas.right;\r\n    var v1 = canvas.top;\r\n    var v2 = _round(v1 + vStep);\r\n    var v3 = canvas.bottom;\r\n    var cells = [{\r\n        rect: [h1, v1, h2, v2]\r\n    }, {\r\n        rect: [h2, v1, h3, v2],\r\n        center: true\r\n    }, {\r\n        rect: [h3, v1, h4, v2],\r\n        horInversion: true\r\n    }, {\r\n        rect: [h1, v2, h2, v3],\r\n        verInversion: true\r\n    }, {\r\n        rect: [h2, v2, h3, v3],\r\n        center: true,\r\n        verInversion: true\r\n    }, {\r\n        rect: [h3, v2, h4, v3],\r\n        horInversion: true,\r\n        verInversion: true\r\n    }];\r\n    var itemsList = [\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        []\r\n    ];\r\n    _each(items, (function(_, item) {\r\n        var options = item.getLayoutOptions();\r\n        if (options) {\r\n            itemsList[getCellIndex(options)].push({\r\n                item: item,\r\n                width: options.width,\r\n                height: options.height\r\n            })\r\n        }\r\n    }));\r\n    _each(cells, (function(i, cell) {\r\n        if (itemsList[i].length) {\r\n            cell.items = itemsList[i]\r\n        } else {\r\n            if (cell.center) {\r\n                cell.rect[0] = cell.rect[2] = (cell.rect[0] + cell.rect[2]) / 2\r\n            } else {\r\n                cell.rect[cell.horInversion ? 0 : 2] = cell.rect[cell.horInversion ? 2 : 0]\r\n            }\r\n            cell.rect[cell.verInversion ? 1 : 3] = cell.rect[cell.verInversion ? 3 : 1]\r\n        }\r\n    }));\r\n    return cells\r\n}\r\n\r\nfunction adjustCellSizes(cells) {\r\n    _each([0, 1, 2, 3, 4, 5], (function(_, index) {\r\n        var cell = cells[index];\r\n        var otherCell = cells[(index + 3) % 6];\r\n        if (cell.items) {\r\n            if (!otherCell.items) {\r\n                cell.rect[1] = _min(cell.rect[1], otherCell.rect[3]);\r\n                cell.rect[3] = _max(cell.rect[3], otherCell.rect[1])\r\n            }\r\n        }\r\n    }));\r\n    _each([1, 4], (function(_, index) {\r\n        var cell = cells[index];\r\n        var otherCell1 = cells[index - 1];\r\n        var otherCell2 = cells[index + 1];\r\n        var size1;\r\n        var size2;\r\n        if (cell.items) {\r\n            if (!otherCell1.items && !otherCell2.items) {\r\n                size1 = cell.rect[0] - otherCell1.rect[2];\r\n                size2 = otherCell2.rect[0] - cell.rect[2];\r\n                if (size1 > size2) {\r\n                    if (size1 / size2 >= 2) {\r\n                        cell.rect[0] -= size1;\r\n                        cell.right = true\r\n                    } else {\r\n                        cell.rect[0] -= size2;\r\n                        cell.rect[2] += size2\r\n                    }\r\n                } else if (size2 / size1 >= 2) {\r\n                    cell.rect[2] += size2;\r\n                    cell.center = null\r\n                } else {\r\n                    cell.rect[0] -= size1;\r\n                    cell.rect[2] += size1\r\n                }\r\n            }\r\n        } else {\r\n            if (otherCell1.items) {\r\n                otherCell1.rect[2] = (cell.rect[0] + cell.rect[2]) / 2\r\n            }\r\n            if (otherCell2.items) {\r\n                otherCell2.rect[0] = (cell.rect[0] + cell.rect[2]) / 2\r\n            }\r\n        }\r\n    }))\r\n}\r\n\r\nfunction adjustCellsAndApplyLayout(cells, forceMode) {\r\n    var hasHiddenItems = false;\r\n    adjustCellSizes(cells);\r\n    _each(cells, (function(_, cell) {\r\n        if (cell.items) {\r\n            hasHiddenItems = applyCellLayout(cell, forceMode) || hasHiddenItems\r\n        }\r\n    }));\r\n    return hasHiddenItems\r\n}\r\n\r\nfunction applyCellLayout(cell, forceMode) {\r\n    var cellRect = cell.rect;\r\n    var cellWidth = cellRect[2] - cellRect[0];\r\n    var cellHeight = cellRect[3] - cellRect[1];\r\n    var xOffset = 0;\r\n    var yOffset = 0;\r\n    var currentHeight = 0;\r\n    var totalL = cellRect[2];\r\n    var totalT = cellRect[3];\r\n    var totalR = cellRect[0];\r\n    var totalB = cellRect[1];\r\n    var moves = [];\r\n    var hasHiddenItems = false;\r\n    _each(cell.items, (function(_, item) {\r\n        if (item.width > cellWidth || item.height > cellHeight) {\r\n            moves.push(null);\r\n            hasHiddenItems = true;\r\n            return forceMode || false\r\n        }\r\n        if (xOffset + item.width > cellWidth) {\r\n            yOffset += currentHeight;\r\n            xOffset = currentHeight = 0\r\n        }\r\n        if (yOffset + item.height > cellHeight) {\r\n            moves.push(null);\r\n            hasHiddenItems = true;\r\n            return forceMode || false\r\n        }\r\n        currentHeight = _max(currentHeight, item.height);\r\n        var dx = cell.horInversion ? cellRect[2] - item.width - xOffset : cellRect[0] + xOffset;\r\n        var dy = cell.verInversion ? cellRect[3] - item.height - yOffset : cellRect[1] + yOffset;\r\n        xOffset += item.width;\r\n        totalL = _min(totalL, dx);\r\n        totalT = _min(totalT, dy);\r\n        totalR = _max(totalR, dx + item.width);\r\n        totalB = _max(totalB, dy + item.height);\r\n        moves.push([dx, dy])\r\n    }));\r\n    if (forceMode || !hasHiddenItems) {\r\n        xOffset = 0;\r\n        if (cell.right) {\r\n            xOffset = cellRect[2] - cellRect[0] - totalR + totalL\r\n        } else if (cell.center) {\r\n            xOffset = _round((cellRect[2] - cellRect[0] - totalR + totalL) / 2)\r\n        }\r\n        _each(cell.items, (function(i, item) {\r\n            var move = moves[i];\r\n            if (move) {\r\n                item.item.locate(move[0] + xOffset, move[1])\r\n            } else {\r\n                item.item.resize(null)\r\n            }\r\n        }));\r\n        cell.rect = [totalL, totalT, totalR, totalB];\r\n        cell.items = null\r\n    }\r\n    return hasHiddenItems\r\n}\r\n\r\nfunction applyLayout(canvas, items) {\r\n    var cells = createCells(canvas, items);\r\n    if (adjustCellsAndApplyLayout(cells)) {\r\n        adjustCellsAndApplyLayout(cells, true)\r\n    }\r\n}\r\nexport function LayoutControl(widget) {\r\n    var that = this;\r\n    that._items = [];\r\n    that._suspended = 0;\r\n    that._widget = widget;\r\n    that._updateLayout = function() {\r\n        that._update()\r\n    }\r\n}\r\nLayoutControl.prototype = {\r\n    constructor: LayoutControl,\r\n    dispose: function() {\r\n        this._items = this._updateLayout = null\r\n    },\r\n    setSize: function(canvas) {\r\n        this._canvas = canvas;\r\n        this._update()\r\n    },\r\n    suspend: function() {\r\n        ++this._suspended\r\n    },\r\n    resume: function() {\r\n        if (0 === --this._suspended) {\r\n            this._update()\r\n        }\r\n    },\r\n    addItem: function(item) {\r\n        this._items.push(item);\r\n        item.updateLayout = this._updateLayout\r\n    },\r\n    removeItem: function(item) {\r\n        var index = this._items.indexOf(item);\r\n        this._items.splice(index, 1);\r\n        item.updateLayout = null\r\n    },\r\n    _update: function() {\r\n        var canvas;\r\n        if (0 === this._suspended) {\r\n            canvas = this._canvas;\r\n            _each(this._items, (function(_, item) {\r\n                item.resize(canvas)\r\n            }));\r\n            this._widget.resolveItemsDeferred(this._items.filter(el => el.getTemplatesGroups && el.getTemplatesDef));\r\n            applyLayout({\r\n                left: canvas.left,\r\n                top: canvas.top,\r\n                right: canvas.width + canvas.left,\r\n                bottom: canvas.height + canvas.top\r\n            }, this._items)\r\n        }\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
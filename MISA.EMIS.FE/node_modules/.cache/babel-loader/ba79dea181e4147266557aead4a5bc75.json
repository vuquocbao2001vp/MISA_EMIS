{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_columns.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth, getOuterWidth } from \"../../core/utils/size\";\nimport { hasWindow } from \"../../core/utils/window\";\nimport { createColumnsInfo } from \"./ui.grid_core.virtual_columns_core\";\nimport { isDefined } from \"../../core/utils/type\";\nvar DEFAULT_COLUMN_WIDTH = 50;\nvar VirtualScrollingRowsViewExtender = {\n  _resizeCore: function () {\n    this.callBase.apply(this, arguments);\n\n    this._columnsController.resize();\n  },\n  _handleScroll: function (e) {\n    var that = this;\n    var scrollable = this.getScrollable();\n    var left = e.scrollOffset.left;\n    that.callBase.apply(that, arguments);\n\n    if (that.option(\"rtlEnabled\") && scrollable) {\n      left = getWidth(scrollable.$content()) - getWidth(scrollable.$element()) - left;\n    }\n\n    that._columnsController.setScrollPosition(left);\n  }\n};\nvar HeaderViewExtender = {\n  _renderCore: function () {\n    this.callBase.apply(this, arguments);\n\n    if (this._columnsController.isVirtualMode()) {\n      this._updateScrollLeftPosition();\n    }\n  }\n};\n\nvar ColumnsControllerExtender = function () {\n  var getWidths = function (columns) {\n    return columns.map(column => column.visibleWidth || parseFloat(column.width) || DEFAULT_COLUMN_WIDTH);\n  };\n\n  var members = {\n    init: function () {\n      var that = this;\n      that.callBase.apply(this, arguments);\n      that._beginPageIndex = null;\n      that._endPageIndex = null;\n      that._position = 0;\n      that._virtualVisibleColumns = {};\n    },\n    resetColumnsCache: function () {\n      this.callBase();\n      this._virtualVisibleColumns = {};\n    },\n    getBeginPageIndex: function (position) {\n      var visibleColumns = this.getVisibleColumns(void 0, true);\n      var widths = getWidths(visibleColumns);\n      var currentPosition = 0;\n\n      for (var index = 0; index < widths.length; index++) {\n        if (currentPosition >= position) {\n          return Math.floor(index / this.getColumnPageSize());\n        }\n\n        currentPosition += widths[index];\n      }\n\n      return 0;\n    },\n    getTotalWidth: function () {\n      var width = this.option(\"width\");\n\n      if (\"number\" === typeof width) {\n        return width;\n      }\n\n      return this.getController(\"resizing\")._lastWidth || getOuterWidth(this.component.$element());\n    },\n    getEndPageIndex: function (position) {\n      var visibleColumns = this.getVisibleColumns(void 0, true);\n      var widths = getWidths(visibleColumns);\n      var currentPosition = 0;\n      position += this.getTotalWidth();\n\n      for (var index = 0; index < widths.length; index++) {\n        if (currentPosition >= position) {\n          return Math.ceil(index / this.getColumnPageSize());\n        }\n\n        currentPosition += widths[index];\n      }\n\n      return Math.ceil(widths.length / this.getColumnPageSize());\n    },\n    getColumnPageSize: function () {\n      return this.option(\"scrolling.columnPageSize\");\n    },\n    _fireColumnsChanged: function () {\n      var date = new Date();\n      this.columnsChanged.fire({\n        optionNames: {\n          all: true,\n          length: 1\n        },\n        changeTypes: {\n          columns: true,\n          virtualColumnsScrolling: true,\n          length: 2\n        }\n      });\n      this._renderTime = new Date() - date;\n    },\n    getScrollingTimeout: function () {\n      var renderingThreshold = this.option(\"scrolling.columnRenderingThreshold\");\n      var renderAsync = this.option(\"scrolling.renderAsync\");\n      var scrollingTimeout = 0;\n\n      if (!isDefined(renderAsync) && this._renderTime > renderingThreshold || renderAsync) {\n        scrollingTimeout = this.option(\"scrolling.timeout\");\n      }\n\n      return scrollingTimeout;\n    },\n    setScrollPosition: function (position) {\n      var scrollingTimeout = this.getScrollingTimeout();\n\n      if (scrollingTimeout > 0) {\n        clearTimeout(this._changedTimeout);\n        this._changedTimeout = setTimeout(() => {\n          this._setScrollPositionCore(position);\n        }, scrollingTimeout);\n      } else {\n        this._setScrollPositionCore(position);\n      }\n    },\n    isVirtualMode: function () {\n      return hasWindow() && \"virtual\" === this.option(\"scrolling.columnRenderingMode\");\n    },\n    resize: function () {\n      this._setScrollPositionCore(this._position);\n    },\n    _setScrollPositionCore: function (position) {\n      if (this.isVirtualMode()) {\n        var beginPageIndex = this.getBeginPageIndex(position);\n        var endPageIndex = this.getEndPageIndex(position);\n        var needColumnsChanged = position < this._position ? this._beginPageIndex > beginPageIndex : this._endPageIndex < endPageIndex;\n        this._position = position;\n\n        if (needColumnsChanged) {\n          this._beginPageIndex = beginPageIndex;\n          this._endPageIndex = endPageIndex;\n\n          this._fireColumnsChanged();\n        }\n      }\n    },\n    getFixedColumns: function (rowIndex, isBase) {\n      var fixedColumns = this.callBase(rowIndex);\n\n      if (this.isVirtualMode() && !isBase && fixedColumns.length) {\n        var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\n        fixedColumns[transparentColumnIndex].colspan = this.getVisibleColumns().length - this.callBase().length + 1;\n        return fixedColumns;\n      }\n\n      return fixedColumns;\n    },\n    getVisibleColumns: function (rowIndex, isBase) {\n      var _this$_columns;\n\n      if (isBase || !this.isVirtualMode()) {\n        return this.callBase(rowIndex);\n      }\n\n      if (null !== (_this$_columns = this._columns) && void 0 !== _this$_columns && _this$_columns.length && !isDefined(this._beginPageIndex) && !isDefined(this._endPageIndex)) {\n        this._beginPageIndex = this.getBeginPageIndex(this._position);\n        this._endPageIndex = this.getEndPageIndex(this._position);\n      }\n\n      var beginPageIndex = this._beginPageIndex;\n      var endPageIndex = this._endPageIndex;\n      var visibleColumnsHash = rowIndex + \"-\" + beginPageIndex + \"-\" + endPageIndex;\n\n      if (this._virtualVisibleColumns[visibleColumnsHash]) {\n        return this._virtualVisibleColumns[visibleColumnsHash];\n      }\n\n      var visibleColumns = this.callBase();\n      var rowCount = this.getRowCount();\n      var pageSize = this.getColumnPageSize();\n      var startIndex = beginPageIndex * pageSize;\n      var endIndex = endPageIndex * pageSize;\n      var fixedColumns = this.getFixedColumns(void 0, true);\n      var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\n      var beginFixedColumnCount = fixedColumns.length ? transparentColumnIndex : 0;\n      var beginFixedColumns = visibleColumns.slice(0, beginFixedColumnCount);\n      var beginColumns = visibleColumns.slice(beginFixedColumnCount, startIndex);\n      var beginWidth = getWidths(beginColumns).reduce((a, b) => a + b, 0);\n\n      if (!beginWidth) {\n        startIndex = 0;\n      }\n\n      var endFixedColumnCount = fixedColumns.length ? fixedColumns.length - transparentColumnIndex - 1 : 0;\n      var endFixedColumns = visibleColumns.slice(visibleColumns.length - endFixedColumnCount);\n      var endColumns = visibleColumns.slice(endIndex, visibleColumns.length - endFixedColumnCount);\n      var endWidth = getWidths(endColumns).reduce((a, b) => a + b, 0);\n\n      if (!endWidth) {\n        endIndex = visibleColumns.length;\n      }\n\n      if (rowCount > 1 && \"number\" === typeof rowIndex) {\n        var columnsInfo = [];\n\n        for (var i = 0; i < rowCount; i++) {\n          columnsInfo.push(this.callBase(i));\n        }\n\n        beginFixedColumns = createColumnsInfo(columnsInfo, 0, beginFixedColumns.length)[rowIndex] || [];\n        endFixedColumns = createColumnsInfo(columnsInfo, visibleColumns.length - endFixedColumns.length, visibleColumns.length)[rowIndex] || [];\n        visibleColumns = createColumnsInfo(columnsInfo, startIndex, endIndex)[rowIndex] || [];\n      } else {\n        visibleColumns = visibleColumns.slice(startIndex, endIndex);\n      }\n\n      if (beginWidth) {\n        visibleColumns.unshift({\n          command: \"virtual\",\n          width: beginWidth\n        });\n        visibleColumns = beginFixedColumns.concat(visibleColumns);\n      }\n\n      if (endWidth) {\n        visibleColumns.push({\n          command: \"virtual\",\n          width: endWidth\n        });\n        visibleColumns = visibleColumns.concat(endFixedColumns);\n      }\n\n      this._virtualVisibleColumns[visibleColumnsHash] = visibleColumns;\n      return visibleColumns;\n    },\n    getColumnIndexOffset: function () {\n      var offset = 0;\n\n      if (this._beginPageIndex > 0) {\n        var fixedColumns = this.getFixedColumns();\n        var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\n        var leftFixedColumnCount = transparentColumnIndex >= 0 ? transparentColumnIndex : 0;\n        offset = this._beginPageIndex * this.getColumnPageSize() - leftFixedColumnCount - 1;\n      }\n\n      return offset > 0 ? offset : 0;\n    },\n    dispose: function () {\n      clearTimeout(this._changedTimeout);\n      this.callBase.apply(this, arguments);\n    }\n  };\n  return members;\n}();\n\nexport var virtualColumnsModule = {\n  defaultOptions: function () {\n    return {\n      scrolling: {\n        columnRenderingMode: \"standard\",\n        columnPageSize: 5,\n        columnRenderingThreshold: 300\n      }\n    };\n  },\n  extenders: {\n    controllers: {\n      columns: ColumnsControllerExtender\n    },\n    views: {\n      columnHeadersView: HeaderViewExtender,\n      rowsView: VirtualScrollingRowsViewExtender\n    }\n  }\n};","map":{"version":3,"names":["getWidth","getOuterWidth","hasWindow","createColumnsInfo","isDefined","DEFAULT_COLUMN_WIDTH","VirtualScrollingRowsViewExtender","_resizeCore","callBase","apply","arguments","_columnsController","resize","_handleScroll","e","that","scrollable","getScrollable","left","scrollOffset","option","$content","$element","setScrollPosition","HeaderViewExtender","_renderCore","isVirtualMode","_updateScrollLeftPosition","ColumnsControllerExtender","getWidths","columns","map","column","visibleWidth","parseFloat","width","members","init","_beginPageIndex","_endPageIndex","_position","_virtualVisibleColumns","resetColumnsCache","getBeginPageIndex","position","visibleColumns","getVisibleColumns","widths","currentPosition","index","length","Math","floor","getColumnPageSize","getTotalWidth","getController","_lastWidth","component","getEndPageIndex","ceil","_fireColumnsChanged","date","Date","columnsChanged","fire","optionNames","all","changeTypes","virtualColumnsScrolling","_renderTime","getScrollingTimeout","renderingThreshold","renderAsync","scrollingTimeout","clearTimeout","_changedTimeout","setTimeout","_setScrollPositionCore","beginPageIndex","endPageIndex","needColumnsChanged","getFixedColumns","rowIndex","isBase","fixedColumns","transparentColumnIndex","c","command","indexOf","colspan","_this$_columns","_columns","visibleColumnsHash","rowCount","getRowCount","pageSize","startIndex","endIndex","beginFixedColumnCount","beginFixedColumns","slice","beginColumns","beginWidth","reduce","a","b","endFixedColumnCount","endFixedColumns","endColumns","endWidth","columnsInfo","i","push","unshift","concat","getColumnIndexOffset","offset","leftFixedColumnCount","dispose","virtualColumnsModule","defaultOptions","scrolling","columnRenderingMode","columnPageSize","columnRenderingThreshold","extenders","controllers","views","columnHeadersView","rowsView"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/grid_core/ui.grid_core.virtual_columns.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_columns.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    createColumnsInfo\r\n} from \"./ui.grid_core.virtual_columns_core\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nvar DEFAULT_COLUMN_WIDTH = 50;\r\nvar VirtualScrollingRowsViewExtender = {\r\n    _resizeCore: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._columnsController.resize()\r\n    },\r\n    _handleScroll: function(e) {\r\n        var that = this;\r\n        var scrollable = this.getScrollable();\r\n        var left = e.scrollOffset.left;\r\n        that.callBase.apply(that, arguments);\r\n        if (that.option(\"rtlEnabled\") && scrollable) {\r\n            left = getWidth(scrollable.$content()) - getWidth(scrollable.$element()) - left\r\n        }\r\n        that._columnsController.setScrollPosition(left)\r\n    }\r\n};\r\nvar HeaderViewExtender = {\r\n    _renderCore: function() {\r\n        this.callBase.apply(this, arguments);\r\n        if (this._columnsController.isVirtualMode()) {\r\n            this._updateScrollLeftPosition()\r\n        }\r\n    }\r\n};\r\nvar ColumnsControllerExtender = function() {\r\n    var getWidths = function(columns) {\r\n        return columns.map(column => column.visibleWidth || parseFloat(column.width) || DEFAULT_COLUMN_WIDTH)\r\n    };\r\n    var members = {\r\n        init: function() {\r\n            var that = this;\r\n            that.callBase.apply(this, arguments);\r\n            that._beginPageIndex = null;\r\n            that._endPageIndex = null;\r\n            that._position = 0;\r\n            that._virtualVisibleColumns = {}\r\n        },\r\n        resetColumnsCache: function() {\r\n            this.callBase();\r\n            this._virtualVisibleColumns = {}\r\n        },\r\n        getBeginPageIndex: function(position) {\r\n            var visibleColumns = this.getVisibleColumns(void 0, true);\r\n            var widths = getWidths(visibleColumns);\r\n            var currentPosition = 0;\r\n            for (var index = 0; index < widths.length; index++) {\r\n                if (currentPosition >= position) {\r\n                    return Math.floor(index / this.getColumnPageSize())\r\n                }\r\n                currentPosition += widths[index]\r\n            }\r\n            return 0\r\n        },\r\n        getTotalWidth: function() {\r\n            var width = this.option(\"width\");\r\n            if (\"number\" === typeof width) {\r\n                return width\r\n            }\r\n            return this.getController(\"resizing\")._lastWidth || getOuterWidth(this.component.$element())\r\n        },\r\n        getEndPageIndex: function(position) {\r\n            var visibleColumns = this.getVisibleColumns(void 0, true);\r\n            var widths = getWidths(visibleColumns);\r\n            var currentPosition = 0;\r\n            position += this.getTotalWidth();\r\n            for (var index = 0; index < widths.length; index++) {\r\n                if (currentPosition >= position) {\r\n                    return Math.ceil(index / this.getColumnPageSize())\r\n                }\r\n                currentPosition += widths[index]\r\n            }\r\n            return Math.ceil(widths.length / this.getColumnPageSize())\r\n        },\r\n        getColumnPageSize: function() {\r\n            return this.option(\"scrolling.columnPageSize\")\r\n        },\r\n        _fireColumnsChanged: function() {\r\n            var date = new Date;\r\n            this.columnsChanged.fire({\r\n                optionNames: {\r\n                    all: true,\r\n                    length: 1\r\n                },\r\n                changeTypes: {\r\n                    columns: true,\r\n                    virtualColumnsScrolling: true,\r\n                    length: 2\r\n                }\r\n            });\r\n            this._renderTime = new Date - date\r\n        },\r\n        getScrollingTimeout: function() {\r\n            var renderingThreshold = this.option(\"scrolling.columnRenderingThreshold\");\r\n            var renderAsync = this.option(\"scrolling.renderAsync\");\r\n            var scrollingTimeout = 0;\r\n            if (!isDefined(renderAsync) && this._renderTime > renderingThreshold || renderAsync) {\r\n                scrollingTimeout = this.option(\"scrolling.timeout\")\r\n            }\r\n            return scrollingTimeout\r\n        },\r\n        setScrollPosition: function(position) {\r\n            var scrollingTimeout = this.getScrollingTimeout();\r\n            if (scrollingTimeout > 0) {\r\n                clearTimeout(this._changedTimeout);\r\n                this._changedTimeout = setTimeout(() => {\r\n                    this._setScrollPositionCore(position)\r\n                }, scrollingTimeout)\r\n            } else {\r\n                this._setScrollPositionCore(position)\r\n            }\r\n        },\r\n        isVirtualMode: function() {\r\n            return hasWindow() && \"virtual\" === this.option(\"scrolling.columnRenderingMode\")\r\n        },\r\n        resize: function() {\r\n            this._setScrollPositionCore(this._position)\r\n        },\r\n        _setScrollPositionCore: function(position) {\r\n            if (this.isVirtualMode()) {\r\n                var beginPageIndex = this.getBeginPageIndex(position);\r\n                var endPageIndex = this.getEndPageIndex(position);\r\n                var needColumnsChanged = position < this._position ? this._beginPageIndex > beginPageIndex : this._endPageIndex < endPageIndex;\r\n                this._position = position;\r\n                if (needColumnsChanged) {\r\n                    this._beginPageIndex = beginPageIndex;\r\n                    this._endPageIndex = endPageIndex;\r\n                    this._fireColumnsChanged()\r\n                }\r\n            }\r\n        },\r\n        getFixedColumns: function(rowIndex, isBase) {\r\n            var fixedColumns = this.callBase(rowIndex);\r\n            if (this.isVirtualMode() && !isBase && fixedColumns.length) {\r\n                var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\r\n                fixedColumns[transparentColumnIndex].colspan = this.getVisibleColumns().length - this.callBase().length + 1;\r\n                return fixedColumns\r\n            }\r\n            return fixedColumns\r\n        },\r\n        getVisibleColumns: function(rowIndex, isBase) {\r\n            var _this$_columns;\r\n            if (isBase || !this.isVirtualMode()) {\r\n                return this.callBase(rowIndex)\r\n            }\r\n            if (null !== (_this$_columns = this._columns) && void 0 !== _this$_columns && _this$_columns.length && !isDefined(this._beginPageIndex) && !isDefined(this._endPageIndex)) {\r\n                this._beginPageIndex = this.getBeginPageIndex(this._position);\r\n                this._endPageIndex = this.getEndPageIndex(this._position)\r\n            }\r\n            var beginPageIndex = this._beginPageIndex;\r\n            var endPageIndex = this._endPageIndex;\r\n            var visibleColumnsHash = rowIndex + \"-\" + beginPageIndex + \"-\" + endPageIndex;\r\n            if (this._virtualVisibleColumns[visibleColumnsHash]) {\r\n                return this._virtualVisibleColumns[visibleColumnsHash]\r\n            }\r\n            var visibleColumns = this.callBase();\r\n            var rowCount = this.getRowCount();\r\n            var pageSize = this.getColumnPageSize();\r\n            var startIndex = beginPageIndex * pageSize;\r\n            var endIndex = endPageIndex * pageSize;\r\n            var fixedColumns = this.getFixedColumns(void 0, true);\r\n            var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\r\n            var beginFixedColumnCount = fixedColumns.length ? transparentColumnIndex : 0;\r\n            var beginFixedColumns = visibleColumns.slice(0, beginFixedColumnCount);\r\n            var beginColumns = visibleColumns.slice(beginFixedColumnCount, startIndex);\r\n            var beginWidth = getWidths(beginColumns).reduce((a, b) => a + b, 0);\r\n            if (!beginWidth) {\r\n                startIndex = 0\r\n            }\r\n            var endFixedColumnCount = fixedColumns.length ? fixedColumns.length - transparentColumnIndex - 1 : 0;\r\n            var endFixedColumns = visibleColumns.slice(visibleColumns.length - endFixedColumnCount);\r\n            var endColumns = visibleColumns.slice(endIndex, visibleColumns.length - endFixedColumnCount);\r\n            var endWidth = getWidths(endColumns).reduce((a, b) => a + b, 0);\r\n            if (!endWidth) {\r\n                endIndex = visibleColumns.length\r\n            }\r\n            if (rowCount > 1 && \"number\" === typeof rowIndex) {\r\n                var columnsInfo = [];\r\n                for (var i = 0; i < rowCount; i++) {\r\n                    columnsInfo.push(this.callBase(i))\r\n                }\r\n                beginFixedColumns = createColumnsInfo(columnsInfo, 0, beginFixedColumns.length)[rowIndex] || [];\r\n                endFixedColumns = createColumnsInfo(columnsInfo, visibleColumns.length - endFixedColumns.length, visibleColumns.length)[rowIndex] || [];\r\n                visibleColumns = createColumnsInfo(columnsInfo, startIndex, endIndex)[rowIndex] || []\r\n            } else {\r\n                visibleColumns = visibleColumns.slice(startIndex, endIndex)\r\n            }\r\n            if (beginWidth) {\r\n                visibleColumns.unshift({\r\n                    command: \"virtual\",\r\n                    width: beginWidth\r\n                });\r\n                visibleColumns = beginFixedColumns.concat(visibleColumns)\r\n            }\r\n            if (endWidth) {\r\n                visibleColumns.push({\r\n                    command: \"virtual\",\r\n                    width: endWidth\r\n                });\r\n                visibleColumns = visibleColumns.concat(endFixedColumns)\r\n            }\r\n            this._virtualVisibleColumns[visibleColumnsHash] = visibleColumns;\r\n            return visibleColumns\r\n        },\r\n        getColumnIndexOffset: function() {\r\n            var offset = 0;\r\n            if (this._beginPageIndex > 0) {\r\n                var fixedColumns = this.getFixedColumns();\r\n                var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\r\n                var leftFixedColumnCount = transparentColumnIndex >= 0 ? transparentColumnIndex : 0;\r\n                offset = this._beginPageIndex * this.getColumnPageSize() - leftFixedColumnCount - 1\r\n            }\r\n            return offset > 0 ? offset : 0\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._changedTimeout);\r\n            this.callBase.apply(this, arguments)\r\n        }\r\n    };\r\n    return members\r\n}();\r\nexport var virtualColumnsModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            scrolling: {\r\n                columnRenderingMode: \"standard\",\r\n                columnPageSize: 5,\r\n                columnRenderingThreshold: 300\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            columns: ColumnsControllerExtender\r\n        },\r\n        views: {\r\n            columnHeadersView: HeaderViewExtender,\r\n            rowsView: VirtualScrollingRowsViewExtender\r\n        }\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
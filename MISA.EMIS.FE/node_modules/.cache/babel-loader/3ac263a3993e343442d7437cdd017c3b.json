{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/file_manager/ui.file_manager.file_uploader.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getInnerHeight, setHeight, setWidth } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport { extend } from \"../../core/utils/extend\";\nimport { Deferred } from \"../../core/utils/deferred\";\nimport { hasWindow } from \"../../core/utils/window\";\nimport Guid from \"../../core/guid\";\nimport Widget from \"../widget/ui.widget\";\nimport FileUploader from \"../file_uploader\";\nimport { whenSome } from \"./ui.file_manager.common\";\nvar FILE_MANAGER_FILE_UPLOADER_CLASS = \"dx-filemanager-fileuploader\";\nvar FILE_MANAGER_FILE_UPLOADER_DROPZONE_PLACEHOLER_CLASS = \"dx-filemanager-fileuploader-dropzone-placeholder\";\n\nclass FileManagerFileUploader extends Widget {\n  _initMarkup() {\n    this._initActions();\n\n    this.$element().addClass(FILE_MANAGER_FILE_UPLOADER_CLASS);\n    this._uploaderInfos = [];\n\n    this._createInternalFileUploader();\n\n    this._createDropZonePlaceholder();\n\n    this._setDropZonePlaceholderVisible(false);\n\n    super._initMarkup();\n  }\n\n  _createInternalFileUploader() {\n    var chunkSize = this._getController().chunkSize;\n\n    var $fileUploader = $(\"<div>\").appendTo(this.$element());\n\n    var fileUploader = this._createComponent($fileUploader, FileUploader, {\n      name: \"file\",\n      multiple: true,\n      showFileList: false,\n      activeStateEnabled: false,\n      focusStateEnabled: false,\n      hoverStateEnabled: false,\n      labelText: \"\",\n      readyToUploadMessage: \"\",\n      accept: \"*\",\n      chunkSize: chunkSize,\n      dropZone: this.option(\"dropZone\"),\n      onValueChanged: e => this._onFileUploaderValueChanged(e),\n      onProgress: e => this._onFileUploaderProgress(e),\n      onUploaded: e => this._onFileUploaderUploaded(e),\n      onUploadAborted: e => this._onFileUploaderUploadAborted(e),\n      onUploadError: e => this._onFileUploaderUploadError(e),\n      onDropZoneEnter: () => this._setDropZonePlaceholderVisible(true),\n      onDropZoneLeave: () => this._setDropZonePlaceholderVisible(false)\n    });\n\n    fileUploader.option({\n      uploadChunk: (file, chunksData) => this._fileUploaderUploadChunk(fileUploader, file, chunksData),\n      abortUpload: (file, chunksData) => this._fileUploaderAbortUpload(fileUploader, file, chunksData)\n    });\n    fileUploader._shouldRaiseDragLeaveBase = fileUploader._shouldRaiseDragLeave;\n\n    fileUploader._shouldRaiseDragLeave = e => this._shouldRaiseDragLeave(e, fileUploader);\n\n    var uploaderInfo = {\n      fileUploader: fileUploader\n    };\n\n    this._uploaderInfos.push(uploaderInfo);\n  }\n\n  tryUpload() {\n    var info = this._findAndUpdateAvailableUploaderInfo();\n\n    if (info) {\n      info.fileUploader._selectButtonClickHandler();\n    }\n  }\n\n  cancelUpload(sessionId) {\n    this._cancelUpload(sessionId);\n  }\n\n  cancelFileUpload(sessionId, fileIndex) {\n    this._cancelUpload(sessionId, fileIndex);\n  }\n\n  _cancelUpload(sessionId, fileIndex) {\n    var {\n      fileUploader: fileUploader\n    } = this._findUploaderInfoBySessionId(sessionId);\n\n    fileUploader.abortUpload(fileIndex);\n  }\n\n  _fileUploaderUploadChunk(fileUploader, file, chunksInfo) {\n    var {\n      session: session,\n      fileIndex: fileIndex\n    } = this._findSessionByFile(fileUploader, file);\n\n    var controller = session.controller;\n    chunksInfo.fileIndex = fileIndex;\n    return controller.uploadFileChunk(file, chunksInfo);\n  }\n\n  _fileUploaderAbortUpload(fileUploader, file, chunksInfo) {\n    var {\n      session: session,\n      fileIndex: fileIndex\n    } = this._findSessionByFile(fileUploader, file);\n\n    var controller = session.controller;\n    chunksInfo.fileIndex = fileIndex;\n    return controller.abortFileUpload(file, chunksInfo);\n  }\n\n  _onFileUploaderValueChanged(_ref) {\n    var {\n      component: component,\n      value: value\n    } = _ref;\n\n    if (0 === value.length) {\n      return;\n    }\n\n    var files = value.slice();\n\n    var uploaderInfo = this._findUploaderInfo(component);\n\n    this._uploadFiles(uploaderInfo, files);\n\n    setTimeout(() => {\n      if (!this._findAndUpdateAvailableUploaderInfo()) {\n        this._createInternalFileUploader();\n      }\n    });\n  }\n\n  _onFileUploaderProgress(_ref2) {\n    var {\n      component: component,\n      file: file,\n      bytesLoaded: bytesLoaded,\n      bytesTotal: bytesTotal\n    } = _ref2;\n\n    var {\n      session: session,\n      fileIndex: fileIndex\n    } = this._findSessionByFile(component, file);\n\n    var fileValue = 0 !== bytesTotal ? bytesLoaded / bytesTotal : 1;\n    var commonValue = component.option(\"progress\") / 100;\n    var args = {\n      sessionId: session.id,\n      fileIndex: fileIndex,\n      commonValue: commonValue,\n      fileValue: fileValue\n    };\n\n    this._raiseUploadProgress(args);\n  }\n\n  _onFileUploaderUploaded(_ref3) {\n    var {\n      component: component,\n      file: file\n    } = _ref3;\n\n    var deferred = this._getDeferredForFile(component, file);\n\n    deferred.resolve();\n  }\n\n  _onFileUploaderUploadAborted(_ref4) {\n    var {\n      component: component,\n      file: file\n    } = _ref4;\n\n    var deferred = this._getDeferredForFile(component, file);\n\n    deferred.resolve({\n      canceled: true\n    });\n  }\n\n  _onFileUploaderUploadError(_ref5) {\n    var {\n      component: component,\n      file: file,\n      error: error\n    } = _ref5;\n\n    var deferred = this._getDeferredForFile(component, file);\n\n    deferred.reject(error);\n  }\n\n  _createDropZonePlaceholder() {\n    this._$dropZonePlaceholder = $(\"<div>\").addClass(FILE_MANAGER_FILE_UPLOADER_DROPZONE_PLACEHOLER_CLASS).appendTo(this.option(\"dropZonePlaceholderContainer\"));\n  }\n\n  _adjustDropZonePlaceholder() {\n    var $dropZoneTarget = this.option(\"dropZone\");\n\n    if (!hasWindow() || 0 === $dropZoneTarget.length) {\n      return;\n    }\n\n    var placeholderBorderTopWidth = parseFloat(this._$dropZonePlaceholder.css(\"borderTopWidth\"));\n    var placeholderBorderLeftWidth = parseFloat(this._$dropZonePlaceholder.css(\"borderLeftWidth\"));\n    var $placeholderContainer = this.option(\"dropZonePlaceholderContainer\");\n    var containerBorderBottomWidth = parseFloat($placeholderContainer.css(\"borderBottomWidth\"));\n    var containerBorderLeftWidth = parseFloat($placeholderContainer.css(\"borderLeftWidth\"));\n    var containerHeight = getInnerHeight($placeholderContainer);\n    var containerOffset = $placeholderContainer.offset();\n    var dropZoneOffset = $dropZoneTarget.offset();\n\n    this._$dropZonePlaceholder.css({\n      top: dropZoneOffset.top - containerOffset.top - containerHeight - containerBorderBottomWidth,\n      left: dropZoneOffset.left - containerOffset.left - containerBorderLeftWidth\n    });\n\n    setHeight(this._$dropZonePlaceholder, $dropZoneTarget.get(0).offsetHeight - 2 * placeholderBorderTopWidth);\n    setWidth(this._$dropZonePlaceholder, $dropZoneTarget.get(0).offsetWidth - 2 * placeholderBorderLeftWidth);\n  }\n\n  _setDropZonePlaceholderVisible(visible) {\n    if (visible) {\n      this._adjustDropZonePlaceholder();\n\n      this._$dropZonePlaceholder.css(\"display\", \"\");\n    } else {\n      this._$dropZonePlaceholder.css(\"display\", \"none\");\n    }\n  }\n\n  _shouldRaiseDragLeave(e, uploaderInstance) {\n    return uploaderInstance.isMouseOverElement(e, this.option(\"splitterElement\")) || uploaderInstance._shouldRaiseDragLeaveBase(e, true);\n  }\n\n  _uploadFiles(uploaderInfo, files) {\n    this._setDropZonePlaceholderVisible(false);\n\n    var sessionId = new Guid().toString();\n\n    var controller = this._getController();\n\n    var deferreds = files.map(() => new Deferred());\n    var session = {\n      id: sessionId,\n      controller: controller,\n      files: files,\n      deferreds: deferreds\n    };\n    uploaderInfo.session = session;\n    var sessionInfo = {\n      sessionId: sessionId,\n      deferreds: deferreds,\n      files: files\n    };\n\n    this._raiseUploadSessionStarted(sessionInfo);\n\n    return whenSome(deferreds).always(() => setTimeout(() => {\n      uploaderInfo.fileUploader.reset();\n      uploaderInfo.session = null;\n    }));\n  }\n\n  _getDeferredForFile(fileUploader, file) {\n    var {\n      session: session,\n      fileIndex: fileIndex\n    } = this._findSessionByFile(fileUploader, file);\n\n    return session.deferreds[fileIndex];\n  }\n\n  _findSessionByFile(fileUploader, file) {\n    var uploaderInfo = this._findUploaderInfo(fileUploader);\n\n    var session = uploaderInfo.session;\n    var fileIndex = session.files.indexOf(file);\n    return {\n      session: session,\n      fileIndex: fileIndex\n    };\n  }\n\n  _findUploaderInfoBySessionId(sessionId) {\n    for (var i = 0; i < this._uploaderInfos.length; i++) {\n      var uploaderInfo = this._uploaderInfos[i];\n      var session = uploaderInfo.session;\n\n      if (session && session.id === sessionId) {\n        return uploaderInfo;\n      }\n    }\n\n    return null;\n  }\n\n  _findAndUpdateAvailableUploaderInfo() {\n    var _info;\n\n    var info = null;\n\n    for (var i = 0; i < this._uploaderInfos.length; i++) {\n      var currentInfo = this._uploaderInfos[i];\n      currentInfo.fileUploader.option(\"dropZone\", \"\");\n\n      if (!info && !currentInfo.session) {\n        info = currentInfo;\n      }\n    }\n\n    null === (_info = info) || void 0 === _info ? void 0 : _info.fileUploader.option(\"dropZone\", this.option(\"dropZone\"));\n    return info;\n  }\n\n  _findUploaderInfo(fileUploader) {\n    for (var i = 0; i < this._uploaderInfos.length; i++) {\n      var info = this._uploaderInfos[i];\n\n      if (info.fileUploader === fileUploader) {\n        return info;\n      }\n    }\n\n    return null;\n  }\n\n  _getController() {\n    var controllerGetter = this.option(\"getController\");\n    return controllerGetter();\n  }\n\n  _raiseUploadSessionStarted(sessionInfo) {\n    this._actions.onUploadSessionStarted({\n      sessionInfo: sessionInfo\n    });\n  }\n\n  _raiseUploadProgress(args) {\n    this._actions.onUploadProgress(args);\n  }\n\n  _initActions() {\n    this._actions = {\n      onUploadSessionStarted: this._createActionByOption(\"onUploadSessionStarted\"),\n      onUploadProgress: this._createActionByOption(\"onUploadProgress\")\n    };\n  }\n\n  _getDefaultOptions() {\n    return extend(super._getDefaultOptions(), {\n      getController: null,\n      onUploadSessionStarted: null,\n      onUploadProgress: null,\n      splitterElement: null\n    });\n  }\n\n  _optionChanged(args) {\n    var name = args.name;\n\n    switch (name) {\n      case \"getController\":\n        this.repaint();\n        break;\n\n      case \"onUploadSessionStarted\":\n      case \"onUploadProgress\":\n        this._actions[name] = this._createActionByOption(name);\n        break;\n\n      case \"dropZone\":\n        this._findAndUpdateAvailableUploaderInfo();\n\n        this._adjustDropZonePlaceholder();\n\n        break;\n\n      case \"dropZonePlaceholderContainer\":\n        this._$dropZonePlaceholder.detach();\n\n        this._$dropZonePlaceholder.appendTo(args.value);\n\n        break;\n\n      case \"splitterElement\":\n        break;\n\n      default:\n        super._optionChanged(args);\n\n    }\n  }\n\n}\n\nexport default FileManagerFileUploader;","map":{"version":3,"names":["getInnerHeight","setHeight","setWidth","$","extend","Deferred","hasWindow","Guid","Widget","FileUploader","whenSome","FILE_MANAGER_FILE_UPLOADER_CLASS","FILE_MANAGER_FILE_UPLOADER_DROPZONE_PLACEHOLER_CLASS","FileManagerFileUploader","_initMarkup","_initActions","$element","addClass","_uploaderInfos","_createInternalFileUploader","_createDropZonePlaceholder","_setDropZonePlaceholderVisible","chunkSize","_getController","$fileUploader","appendTo","fileUploader","_createComponent","name","multiple","showFileList","activeStateEnabled","focusStateEnabled","hoverStateEnabled","labelText","readyToUploadMessage","accept","dropZone","option","onValueChanged","e","_onFileUploaderValueChanged","onProgress","_onFileUploaderProgress","onUploaded","_onFileUploaderUploaded","onUploadAborted","_onFileUploaderUploadAborted","onUploadError","_onFileUploaderUploadError","onDropZoneEnter","onDropZoneLeave","uploadChunk","file","chunksData","_fileUploaderUploadChunk","abortUpload","_fileUploaderAbortUpload","_shouldRaiseDragLeaveBase","_shouldRaiseDragLeave","uploaderInfo","push","tryUpload","info","_findAndUpdateAvailableUploaderInfo","_selectButtonClickHandler","cancelUpload","sessionId","_cancelUpload","cancelFileUpload","fileIndex","_findUploaderInfoBySessionId","chunksInfo","session","_findSessionByFile","controller","uploadFileChunk","abortFileUpload","_ref","component","value","length","files","slice","_findUploaderInfo","_uploadFiles","setTimeout","_ref2","bytesLoaded","bytesTotal","fileValue","commonValue","args","id","_raiseUploadProgress","_ref3","deferred","_getDeferredForFile","resolve","_ref4","canceled","_ref5","error","reject","_$dropZonePlaceholder","_adjustDropZonePlaceholder","$dropZoneTarget","placeholderBorderTopWidth","parseFloat","css","placeholderBorderLeftWidth","$placeholderContainer","containerBorderBottomWidth","containerBorderLeftWidth","containerHeight","containerOffset","offset","dropZoneOffset","top","left","get","offsetHeight","offsetWidth","visible","uploaderInstance","isMouseOverElement","toString","deferreds","map","sessionInfo","_raiseUploadSessionStarted","always","reset","indexOf","i","_info","currentInfo","controllerGetter","_actions","onUploadSessionStarted","onUploadProgress","_createActionByOption","_getDefaultOptions","getController","splitterElement","_optionChanged","repaint","detach"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/file_manager/ui.file_manager.file_uploader.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/file_manager/ui.file_manager.file_uploader.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getInnerHeight,\r\n    setHeight,\r\n    setWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport Guid from \"../../core/guid\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport FileUploader from \"../file_uploader\";\r\nimport {\r\n    whenSome\r\n} from \"./ui.file_manager.common\";\r\nvar FILE_MANAGER_FILE_UPLOADER_CLASS = \"dx-filemanager-fileuploader\";\r\nvar FILE_MANAGER_FILE_UPLOADER_DROPZONE_PLACEHOLER_CLASS = \"dx-filemanager-fileuploader-dropzone-placeholder\";\r\nclass FileManagerFileUploader extends Widget {\r\n    _initMarkup() {\r\n        this._initActions();\r\n        this.$element().addClass(FILE_MANAGER_FILE_UPLOADER_CLASS);\r\n        this._uploaderInfos = [];\r\n        this._createInternalFileUploader();\r\n        this._createDropZonePlaceholder();\r\n        this._setDropZonePlaceholderVisible(false);\r\n        super._initMarkup()\r\n    }\r\n    _createInternalFileUploader() {\r\n        var chunkSize = this._getController().chunkSize;\r\n        var $fileUploader = $(\"<div>\").appendTo(this.$element());\r\n        var fileUploader = this._createComponent($fileUploader, FileUploader, {\r\n            name: \"file\",\r\n            multiple: true,\r\n            showFileList: false,\r\n            activeStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            hoverStateEnabled: false,\r\n            labelText: \"\",\r\n            readyToUploadMessage: \"\",\r\n            accept: \"*\",\r\n            chunkSize: chunkSize,\r\n            dropZone: this.option(\"dropZone\"),\r\n            onValueChanged: e => this._onFileUploaderValueChanged(e),\r\n            onProgress: e => this._onFileUploaderProgress(e),\r\n            onUploaded: e => this._onFileUploaderUploaded(e),\r\n            onUploadAborted: e => this._onFileUploaderUploadAborted(e),\r\n            onUploadError: e => this._onFileUploaderUploadError(e),\r\n            onDropZoneEnter: () => this._setDropZonePlaceholderVisible(true),\r\n            onDropZoneLeave: () => this._setDropZonePlaceholderVisible(false)\r\n        });\r\n        fileUploader.option({\r\n            uploadChunk: (file, chunksData) => this._fileUploaderUploadChunk(fileUploader, file, chunksData),\r\n            abortUpload: (file, chunksData) => this._fileUploaderAbortUpload(fileUploader, file, chunksData)\r\n        });\r\n        fileUploader._shouldRaiseDragLeaveBase = fileUploader._shouldRaiseDragLeave;\r\n        fileUploader._shouldRaiseDragLeave = e => this._shouldRaiseDragLeave(e, fileUploader);\r\n        var uploaderInfo = {\r\n            fileUploader: fileUploader\r\n        };\r\n        this._uploaderInfos.push(uploaderInfo)\r\n    }\r\n    tryUpload() {\r\n        var info = this._findAndUpdateAvailableUploaderInfo();\r\n        if (info) {\r\n            info.fileUploader._selectButtonClickHandler()\r\n        }\r\n    }\r\n    cancelUpload(sessionId) {\r\n        this._cancelUpload(sessionId)\r\n    }\r\n    cancelFileUpload(sessionId, fileIndex) {\r\n        this._cancelUpload(sessionId, fileIndex)\r\n    }\r\n    _cancelUpload(sessionId, fileIndex) {\r\n        var {\r\n            fileUploader: fileUploader\r\n        } = this._findUploaderInfoBySessionId(sessionId);\r\n        fileUploader.abortUpload(fileIndex)\r\n    }\r\n    _fileUploaderUploadChunk(fileUploader, file, chunksInfo) {\r\n        var {\r\n            session: session,\r\n            fileIndex: fileIndex\r\n        } = this._findSessionByFile(fileUploader, file);\r\n        var controller = session.controller;\r\n        chunksInfo.fileIndex = fileIndex;\r\n        return controller.uploadFileChunk(file, chunksInfo)\r\n    }\r\n    _fileUploaderAbortUpload(fileUploader, file, chunksInfo) {\r\n        var {\r\n            session: session,\r\n            fileIndex: fileIndex\r\n        } = this._findSessionByFile(fileUploader, file);\r\n        var controller = session.controller;\r\n        chunksInfo.fileIndex = fileIndex;\r\n        return controller.abortFileUpload(file, chunksInfo)\r\n    }\r\n    _onFileUploaderValueChanged(_ref) {\r\n        var {\r\n            component: component,\r\n            value: value\r\n        } = _ref;\r\n        if (0 === value.length) {\r\n            return\r\n        }\r\n        var files = value.slice();\r\n        var uploaderInfo = this._findUploaderInfo(component);\r\n        this._uploadFiles(uploaderInfo, files);\r\n        setTimeout(() => {\r\n            if (!this._findAndUpdateAvailableUploaderInfo()) {\r\n                this._createInternalFileUploader()\r\n            }\r\n        })\r\n    }\r\n    _onFileUploaderProgress(_ref2) {\r\n        var {\r\n            component: component,\r\n            file: file,\r\n            bytesLoaded: bytesLoaded,\r\n            bytesTotal: bytesTotal\r\n        } = _ref2;\r\n        var {\r\n            session: session,\r\n            fileIndex: fileIndex\r\n        } = this._findSessionByFile(component, file);\r\n        var fileValue = 0 !== bytesTotal ? bytesLoaded / bytesTotal : 1;\r\n        var commonValue = component.option(\"progress\") / 100;\r\n        var args = {\r\n            sessionId: session.id,\r\n            fileIndex: fileIndex,\r\n            commonValue: commonValue,\r\n            fileValue: fileValue\r\n        };\r\n        this._raiseUploadProgress(args)\r\n    }\r\n    _onFileUploaderUploaded(_ref3) {\r\n        var {\r\n            component: component,\r\n            file: file\r\n        } = _ref3;\r\n        var deferred = this._getDeferredForFile(component, file);\r\n        deferred.resolve()\r\n    }\r\n    _onFileUploaderUploadAborted(_ref4) {\r\n        var {\r\n            component: component,\r\n            file: file\r\n        } = _ref4;\r\n        var deferred = this._getDeferredForFile(component, file);\r\n        deferred.resolve({\r\n            canceled: true\r\n        })\r\n    }\r\n    _onFileUploaderUploadError(_ref5) {\r\n        var {\r\n            component: component,\r\n            file: file,\r\n            error: error\r\n        } = _ref5;\r\n        var deferred = this._getDeferredForFile(component, file);\r\n        deferred.reject(error)\r\n    }\r\n    _createDropZonePlaceholder() {\r\n        this._$dropZonePlaceholder = $(\"<div>\").addClass(FILE_MANAGER_FILE_UPLOADER_DROPZONE_PLACEHOLER_CLASS).appendTo(this.option(\"dropZonePlaceholderContainer\"))\r\n    }\r\n    _adjustDropZonePlaceholder() {\r\n        var $dropZoneTarget = this.option(\"dropZone\");\r\n        if (!hasWindow() || 0 === $dropZoneTarget.length) {\r\n            return\r\n        }\r\n        var placeholderBorderTopWidth = parseFloat(this._$dropZonePlaceholder.css(\"borderTopWidth\"));\r\n        var placeholderBorderLeftWidth = parseFloat(this._$dropZonePlaceholder.css(\"borderLeftWidth\"));\r\n        var $placeholderContainer = this.option(\"dropZonePlaceholderContainer\");\r\n        var containerBorderBottomWidth = parseFloat($placeholderContainer.css(\"borderBottomWidth\"));\r\n        var containerBorderLeftWidth = parseFloat($placeholderContainer.css(\"borderLeftWidth\"));\r\n        var containerHeight = getInnerHeight($placeholderContainer);\r\n        var containerOffset = $placeholderContainer.offset();\r\n        var dropZoneOffset = $dropZoneTarget.offset();\r\n        this._$dropZonePlaceholder.css({\r\n            top: dropZoneOffset.top - containerOffset.top - containerHeight - containerBorderBottomWidth,\r\n            left: dropZoneOffset.left - containerOffset.left - containerBorderLeftWidth\r\n        });\r\n        setHeight(this._$dropZonePlaceholder, $dropZoneTarget.get(0).offsetHeight - 2 * placeholderBorderTopWidth);\r\n        setWidth(this._$dropZonePlaceholder, $dropZoneTarget.get(0).offsetWidth - 2 * placeholderBorderLeftWidth)\r\n    }\r\n    _setDropZonePlaceholderVisible(visible) {\r\n        if (visible) {\r\n            this._adjustDropZonePlaceholder();\r\n            this._$dropZonePlaceholder.css(\"display\", \"\")\r\n        } else {\r\n            this._$dropZonePlaceholder.css(\"display\", \"none\")\r\n        }\r\n    }\r\n    _shouldRaiseDragLeave(e, uploaderInstance) {\r\n        return uploaderInstance.isMouseOverElement(e, this.option(\"splitterElement\")) || uploaderInstance._shouldRaiseDragLeaveBase(e, true)\r\n    }\r\n    _uploadFiles(uploaderInfo, files) {\r\n        this._setDropZonePlaceholderVisible(false);\r\n        var sessionId = (new Guid).toString();\r\n        var controller = this._getController();\r\n        var deferreds = files.map(() => new Deferred);\r\n        var session = {\r\n            id: sessionId,\r\n            controller: controller,\r\n            files: files,\r\n            deferreds: deferreds\r\n        };\r\n        uploaderInfo.session = session;\r\n        var sessionInfo = {\r\n            sessionId: sessionId,\r\n            deferreds: deferreds,\r\n            files: files\r\n        };\r\n        this._raiseUploadSessionStarted(sessionInfo);\r\n        return whenSome(deferreds).always(() => setTimeout(() => {\r\n            uploaderInfo.fileUploader.reset();\r\n            uploaderInfo.session = null\r\n        }))\r\n    }\r\n    _getDeferredForFile(fileUploader, file) {\r\n        var {\r\n            session: session,\r\n            fileIndex: fileIndex\r\n        } = this._findSessionByFile(fileUploader, file);\r\n        return session.deferreds[fileIndex]\r\n    }\r\n    _findSessionByFile(fileUploader, file) {\r\n        var uploaderInfo = this._findUploaderInfo(fileUploader);\r\n        var session = uploaderInfo.session;\r\n        var fileIndex = session.files.indexOf(file);\r\n        return {\r\n            session: session,\r\n            fileIndex: fileIndex\r\n        }\r\n    }\r\n    _findUploaderInfoBySessionId(sessionId) {\r\n        for (var i = 0; i < this._uploaderInfos.length; i++) {\r\n            var uploaderInfo = this._uploaderInfos[i];\r\n            var session = uploaderInfo.session;\r\n            if (session && session.id === sessionId) {\r\n                return uploaderInfo\r\n            }\r\n        }\r\n        return null\r\n    }\r\n    _findAndUpdateAvailableUploaderInfo() {\r\n        var _info;\r\n        var info = null;\r\n        for (var i = 0; i < this._uploaderInfos.length; i++) {\r\n            var currentInfo = this._uploaderInfos[i];\r\n            currentInfo.fileUploader.option(\"dropZone\", \"\");\r\n            if (!info && !currentInfo.session) {\r\n                info = currentInfo\r\n            }\r\n        }\r\n        null === (_info = info) || void 0 === _info ? void 0 : _info.fileUploader.option(\"dropZone\", this.option(\"dropZone\"));\r\n        return info\r\n    }\r\n    _findUploaderInfo(fileUploader) {\r\n        for (var i = 0; i < this._uploaderInfos.length; i++) {\r\n            var info = this._uploaderInfos[i];\r\n            if (info.fileUploader === fileUploader) {\r\n                return info\r\n            }\r\n        }\r\n        return null\r\n    }\r\n    _getController() {\r\n        var controllerGetter = this.option(\"getController\");\r\n        return controllerGetter()\r\n    }\r\n    _raiseUploadSessionStarted(sessionInfo) {\r\n        this._actions.onUploadSessionStarted({\r\n            sessionInfo: sessionInfo\r\n        })\r\n    }\r\n    _raiseUploadProgress(args) {\r\n        this._actions.onUploadProgress(args)\r\n    }\r\n    _initActions() {\r\n        this._actions = {\r\n            onUploadSessionStarted: this._createActionByOption(\"onUploadSessionStarted\"),\r\n            onUploadProgress: this._createActionByOption(\"onUploadProgress\")\r\n        }\r\n    }\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            getController: null,\r\n            onUploadSessionStarted: null,\r\n            onUploadProgress: null,\r\n            splitterElement: null\r\n        })\r\n    }\r\n    _optionChanged(args) {\r\n        var name = args.name;\r\n        switch (name) {\r\n            case \"getController\":\r\n                this.repaint();\r\n                break;\r\n            case \"onUploadSessionStarted\":\r\n            case \"onUploadProgress\":\r\n                this._actions[name] = this._createActionByOption(name);\r\n                break;\r\n            case \"dropZone\":\r\n                this._findAndUpdateAvailableUploaderInfo();\r\n                this._adjustDropZonePlaceholder();\r\n                break;\r\n            case \"dropZonePlaceholderContainer\":\r\n                this._$dropZonePlaceholder.detach();\r\n                this._$dropZonePlaceholder.appendTo(args.value);\r\n                break;\r\n            case \"splitterElement\":\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n}\r\nexport default FileManagerFileUploader;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/events/swipe.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth, getHeight } from \"../core/utils/size\";\nimport { eventData } from \"./utils/index\";\nimport GestureEmitter from \"./gesture/emitter.gesture\";\nimport registerEmitter from \"./core/emitter_registrator\";\nvar SWIPE_START_EVENT = \"dxswipestart\";\nvar SWIPE_EVENT = \"dxswipe\";\nvar SWIPE_END_EVENT = \"dxswipeend\";\nvar HorizontalStrategy = {\n  defaultItemSizeFunc: function () {\n    return getWidth(this.getElement());\n  },\n  getBounds: function () {\n    return [this._maxLeftOffset, this._maxRightOffset];\n  },\n  calcOffsetRatio: function (e) {\n    var endEventData = eventData(e);\n    return (endEventData.x - (this._savedEventData && this._savedEventData.x || 0)) / this._itemSizeFunc().call(this, e);\n  },\n  isFastSwipe: function (e) {\n    var endEventData = eventData(e);\n    return this.FAST_SWIPE_SPEED_LIMIT * Math.abs(endEventData.x - this._tickData.x) >= endEventData.time - this._tickData.time;\n  }\n};\nvar VerticalStrategy = {\n  defaultItemSizeFunc: function () {\n    return getHeight(this.getElement());\n  },\n  getBounds: function () {\n    return [this._maxTopOffset, this._maxBottomOffset];\n  },\n  calcOffsetRatio: function (e) {\n    var endEventData = eventData(e);\n    return (endEventData.y - (this._savedEventData && this._savedEventData.y || 0)) / this._itemSizeFunc().call(this, e);\n  },\n  isFastSwipe: function (e) {\n    var endEventData = eventData(e);\n    return this.FAST_SWIPE_SPEED_LIMIT * Math.abs(endEventData.y - this._tickData.y) >= endEventData.time - this._tickData.time;\n  }\n};\nvar STRATEGIES = {\n  horizontal: HorizontalStrategy,\n  vertical: VerticalStrategy\n};\nvar SwipeEmitter = GestureEmitter.inherit({\n  TICK_INTERVAL: 300,\n  FAST_SWIPE_SPEED_LIMIT: 10,\n  ctor: function (element) {\n    this.callBase(element);\n    this.direction = \"horizontal\";\n    this.elastic = true;\n  },\n  _getStrategy: function () {\n    return STRATEGIES[this.direction];\n  },\n  _defaultItemSizeFunc: function () {\n    return this._getStrategy().defaultItemSizeFunc.call(this);\n  },\n  _itemSizeFunc: function () {\n    return this.itemSizeFunc || this._defaultItemSizeFunc;\n  },\n  _init: function (e) {\n    this._tickData = eventData(e);\n  },\n  _start: function (e) {\n    this._savedEventData = eventData(e);\n    e = this._fireEvent(SWIPE_START_EVENT, e);\n\n    if (!e.cancel) {\n      this._maxLeftOffset = e.maxLeftOffset;\n      this._maxRightOffset = e.maxRightOffset;\n      this._maxTopOffset = e.maxTopOffset;\n      this._maxBottomOffset = e.maxBottomOffset;\n    }\n  },\n  _move: function (e) {\n    var strategy = this._getStrategy();\n\n    var moveEventData = eventData(e);\n    var offset = strategy.calcOffsetRatio.call(this, e);\n    offset = this._fitOffset(offset, this.elastic);\n\n    if (moveEventData.time - this._tickData.time > this.TICK_INTERVAL) {\n      this._tickData = moveEventData;\n    }\n\n    this._fireEvent(SWIPE_EVENT, e, {\n      offset: offset\n    });\n\n    e.preventDefault();\n  },\n  _end: function (e) {\n    var strategy = this._getStrategy();\n\n    var offsetRatio = strategy.calcOffsetRatio.call(this, e);\n    var isFast = strategy.isFastSwipe.call(this, e);\n    var startOffset = offsetRatio;\n\n    var targetOffset = this._calcTargetOffset(offsetRatio, isFast);\n\n    startOffset = this._fitOffset(startOffset, this.elastic);\n    targetOffset = this._fitOffset(targetOffset, false);\n\n    this._fireEvent(SWIPE_END_EVENT, e, {\n      offset: startOffset,\n      targetOffset: targetOffset\n    });\n  },\n  _fitOffset: function (offset, elastic) {\n    var strategy = this._getStrategy();\n\n    var bounds = strategy.getBounds.call(this);\n\n    if (offset < -bounds[0]) {\n      return elastic ? (-2 * bounds[0] + offset) / 3 : -bounds[0];\n    }\n\n    if (offset > bounds[1]) {\n      return elastic ? (2 * bounds[1] + offset) / 3 : bounds[1];\n    }\n\n    return offset;\n  },\n  _calcTargetOffset: function (offsetRatio, isFast) {\n    var result;\n\n    if (isFast) {\n      result = Math.ceil(Math.abs(offsetRatio));\n\n      if (offsetRatio < 0) {\n        result = -result;\n      }\n    } else {\n      result = Math.round(offsetRatio);\n    }\n\n    return result;\n  }\n});\nregisterEmitter({\n  emitter: SwipeEmitter,\n  events: [SWIPE_START_EVENT, SWIPE_EVENT, SWIPE_END_EVENT]\n});\nexport { SWIPE_EVENT as swipe, SWIPE_START_EVENT as start, SWIPE_END_EVENT as end };","map":{"version":3,"names":["getWidth","getHeight","eventData","GestureEmitter","registerEmitter","SWIPE_START_EVENT","SWIPE_EVENT","SWIPE_END_EVENT","HorizontalStrategy","defaultItemSizeFunc","getElement","getBounds","_maxLeftOffset","_maxRightOffset","calcOffsetRatio","e","endEventData","x","_savedEventData","_itemSizeFunc","call","isFastSwipe","FAST_SWIPE_SPEED_LIMIT","Math","abs","_tickData","time","VerticalStrategy","_maxTopOffset","_maxBottomOffset","y","STRATEGIES","horizontal","vertical","SwipeEmitter","inherit","TICK_INTERVAL","ctor","element","callBase","direction","elastic","_getStrategy","_defaultItemSizeFunc","itemSizeFunc","_init","_start","_fireEvent","cancel","maxLeftOffset","maxRightOffset","maxTopOffset","maxBottomOffset","_move","strategy","moveEventData","offset","_fitOffset","preventDefault","_end","offsetRatio","isFast","startOffset","targetOffset","_calcTargetOffset","bounds","result","ceil","round","emitter","events","swipe","start","end"],"sources":["E:/MisaProject/W2022_06/MISA.EMIS.FE/node_modules/devextreme/esm/events/swipe.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/events/swipe.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getHeight\r\n} from \"../core/utils/size\";\r\nimport {\r\n    eventData\r\n} from \"./utils/index\";\r\nimport GestureEmitter from \"./gesture/emitter.gesture\";\r\nimport registerEmitter from \"./core/emitter_registrator\";\r\nvar SWIPE_START_EVENT = \"dxswipestart\";\r\nvar SWIPE_EVENT = \"dxswipe\";\r\nvar SWIPE_END_EVENT = \"dxswipeend\";\r\nvar HorizontalStrategy = {\r\n    defaultItemSizeFunc: function() {\r\n        return getWidth(this.getElement())\r\n    },\r\n    getBounds: function() {\r\n        return [this._maxLeftOffset, this._maxRightOffset]\r\n    },\r\n    calcOffsetRatio: function(e) {\r\n        var endEventData = eventData(e);\r\n        return (endEventData.x - (this._savedEventData && this._savedEventData.x || 0)) / this._itemSizeFunc().call(this, e)\r\n    },\r\n    isFastSwipe: function(e) {\r\n        var endEventData = eventData(e);\r\n        return this.FAST_SWIPE_SPEED_LIMIT * Math.abs(endEventData.x - this._tickData.x) >= endEventData.time - this._tickData.time\r\n    }\r\n};\r\nvar VerticalStrategy = {\r\n    defaultItemSizeFunc: function() {\r\n        return getHeight(this.getElement())\r\n    },\r\n    getBounds: function() {\r\n        return [this._maxTopOffset, this._maxBottomOffset]\r\n    },\r\n    calcOffsetRatio: function(e) {\r\n        var endEventData = eventData(e);\r\n        return (endEventData.y - (this._savedEventData && this._savedEventData.y || 0)) / this._itemSizeFunc().call(this, e)\r\n    },\r\n    isFastSwipe: function(e) {\r\n        var endEventData = eventData(e);\r\n        return this.FAST_SWIPE_SPEED_LIMIT * Math.abs(endEventData.y - this._tickData.y) >= endEventData.time - this._tickData.time\r\n    }\r\n};\r\nvar STRATEGIES = {\r\n    horizontal: HorizontalStrategy,\r\n    vertical: VerticalStrategy\r\n};\r\nvar SwipeEmitter = GestureEmitter.inherit({\r\n    TICK_INTERVAL: 300,\r\n    FAST_SWIPE_SPEED_LIMIT: 10,\r\n    ctor: function(element) {\r\n        this.callBase(element);\r\n        this.direction = \"horizontal\";\r\n        this.elastic = true\r\n    },\r\n    _getStrategy: function() {\r\n        return STRATEGIES[this.direction]\r\n    },\r\n    _defaultItemSizeFunc: function() {\r\n        return this._getStrategy().defaultItemSizeFunc.call(this)\r\n    },\r\n    _itemSizeFunc: function() {\r\n        return this.itemSizeFunc || this._defaultItemSizeFunc\r\n    },\r\n    _init: function(e) {\r\n        this._tickData = eventData(e)\r\n    },\r\n    _start: function(e) {\r\n        this._savedEventData = eventData(e);\r\n        e = this._fireEvent(SWIPE_START_EVENT, e);\r\n        if (!e.cancel) {\r\n            this._maxLeftOffset = e.maxLeftOffset;\r\n            this._maxRightOffset = e.maxRightOffset;\r\n            this._maxTopOffset = e.maxTopOffset;\r\n            this._maxBottomOffset = e.maxBottomOffset\r\n        }\r\n    },\r\n    _move: function(e) {\r\n        var strategy = this._getStrategy();\r\n        var moveEventData = eventData(e);\r\n        var offset = strategy.calcOffsetRatio.call(this, e);\r\n        offset = this._fitOffset(offset, this.elastic);\r\n        if (moveEventData.time - this._tickData.time > this.TICK_INTERVAL) {\r\n            this._tickData = moveEventData\r\n        }\r\n        this._fireEvent(SWIPE_EVENT, e, {\r\n            offset: offset\r\n        });\r\n        e.preventDefault()\r\n    },\r\n    _end: function(e) {\r\n        var strategy = this._getStrategy();\r\n        var offsetRatio = strategy.calcOffsetRatio.call(this, e);\r\n        var isFast = strategy.isFastSwipe.call(this, e);\r\n        var startOffset = offsetRatio;\r\n        var targetOffset = this._calcTargetOffset(offsetRatio, isFast);\r\n        startOffset = this._fitOffset(startOffset, this.elastic);\r\n        targetOffset = this._fitOffset(targetOffset, false);\r\n        this._fireEvent(SWIPE_END_EVENT, e, {\r\n            offset: startOffset,\r\n            targetOffset: targetOffset\r\n        })\r\n    },\r\n    _fitOffset: function(offset, elastic) {\r\n        var strategy = this._getStrategy();\r\n        var bounds = strategy.getBounds.call(this);\r\n        if (offset < -bounds[0]) {\r\n            return elastic ? (-2 * bounds[0] + offset) / 3 : -bounds[0]\r\n        }\r\n        if (offset > bounds[1]) {\r\n            return elastic ? (2 * bounds[1] + offset) / 3 : bounds[1]\r\n        }\r\n        return offset\r\n    },\r\n    _calcTargetOffset: function(offsetRatio, isFast) {\r\n        var result;\r\n        if (isFast) {\r\n            result = Math.ceil(Math.abs(offsetRatio));\r\n            if (offsetRatio < 0) {\r\n                result = -result\r\n            }\r\n        } else {\r\n            result = Math.round(offsetRatio)\r\n        }\r\n        return result\r\n    }\r\n});\r\nregisterEmitter({\r\n    emitter: SwipeEmitter,\r\n    events: [SWIPE_START_EVENT, SWIPE_EVENT, SWIPE_END_EVENT]\r\n});\r\nexport {\r\n    SWIPE_EVENT as swipe, SWIPE_START_EVENT as start, SWIPE_END_EVENT as end\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
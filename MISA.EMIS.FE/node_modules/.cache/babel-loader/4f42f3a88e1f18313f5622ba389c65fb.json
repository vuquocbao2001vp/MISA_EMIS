{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/autocomplete.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../core/renderer\";\nimport { noop } from \"../core/utils/common\";\nimport registerComponent from \"../core/component_registrator\";\nimport { extend } from \"../core/utils/extend\";\nimport DropDownList from \"./drop_down_editor/ui.drop_down_list\";\nimport { Deferred } from \"../core/utils/deferred\";\nimport { isCommandKeyPressed } from \"../events/utils/index\";\nvar AUTOCOMPLETE_CLASS = \"dx-autocomplete\";\nvar AUTOCOMPLETE_POPUP_WRAPPER_CLASS = \"dx-autocomplete-popup-wrapper\";\nvar Autocomplete = DropDownList.inherit({\n  _supportedKeys: function () {\n    var item = this._list ? this._list.option(\"focusedElement\") : null;\n    var parent = this.callBase();\n    item = item && $(item);\n    return extend({}, parent, {\n      upArrow: function (e) {\n        if (!isCommandKeyPressed(e)) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (item && !this._calcNextItem(-1)) {\n            this._clearFocusedItem();\n\n            return false;\n          }\n        }\n\n        return true;\n      },\n      downArrow: function (e) {\n        if (!isCommandKeyPressed(e)) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (item && !this._calcNextItem(1)) {\n            this._clearFocusedItem();\n\n            return false;\n          }\n        }\n\n        return true;\n      },\n      enter: function (e) {\n        if (!item) {\n          this.close();\n        }\n\n        var opened = this.option(\"opened\");\n\n        if (opened) {\n          e.preventDefault();\n        }\n\n        return opened;\n      }\n    });\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      minSearchLength: 1,\n      maxItemCount: 10,\n      noDataText: \"\",\n      showDropDownButton: false,\n      searchEnabled: true\n    });\n  },\n  _initMarkup: function () {\n    this.callBase();\n    this.$element().addClass(AUTOCOMPLETE_CLASS);\n    this.setAria(\"autocomplete\", \"inline\");\n  },\n  _displayGetterExpr: function () {\n    return this.option(\"valueExpr\");\n  },\n  _closeOutsideDropDownHandler: function (_ref) {\n    var {\n      target: target\n    } = _ref;\n    return !$(target).closest(this.$element()).length;\n  },\n  _renderDimensions: function () {\n    this.callBase();\n\n    this._dimensionChanged();\n  },\n  _popupWrapperClass: function () {\n    return this.callBase() + \" \" + AUTOCOMPLETE_POPUP_WRAPPER_CLASS;\n  },\n  _listConfig: function () {\n    return extend(this.callBase(), {\n      pageLoadMode: \"none\",\n      onSelectionChanged: e => {\n        this._setSelectedItem(e.addedItems[0]);\n      }\n    });\n  },\n  _listItemClickHandler: function (e) {\n    this._saveValueChangeEvent(e.event);\n\n    var value = this._displayGetter(e.itemData);\n\n    this.option(\"value\", value);\n    this.close();\n  },\n  _setListDataSource: function () {\n    if (!this._list) {\n      return;\n    }\n\n    this._list.option(\"selectedItems\", []);\n\n    this.callBase();\n  },\n  _refreshSelected: noop,\n  _searchCanceled: function () {\n    this.callBase();\n    this.close();\n  },\n  _loadItem: function (value, cache) {\n    var selectedItem = this._getItemFromPlain(value, cache);\n\n    return new Deferred().resolve(selectedItem).promise();\n  },\n  _dataSourceOptions: function () {\n    return {\n      paginate: true,\n      pageSize: this.option(\"maxItemCount\")\n    };\n  },\n  _searchDataSource: function (searchValue) {\n    this._dataSource.pageSize(this.option(\"maxItemCount\"));\n\n    this.callBase(searchValue);\n\n    this._clearFocusedItem();\n  },\n  _clearFocusedItem: function () {\n    if (this._list) {\n      this._list.option(\"focusedElement\", null);\n\n      this._list.option(\"selectedIndex\", -1);\n    }\n  },\n  _renderValueEventName: function () {\n    return \"input keyup\";\n  },\n  _valueChangeEventHandler: function (e) {\n    var value = this._input().val() || null;\n    return this.callBase(e, value);\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"maxItemCount\":\n        this._searchDataSource();\n\n        break;\n\n      case \"valueExpr\":\n        this._compileDisplayGetter();\n\n        this._setListOption(\"displayExpr\", this._displayGetterExpr());\n\n        this.callBase(args);\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  reset: function () {\n    this.callBase();\n    this.close();\n  }\n});\nregisterComponent(\"dxAutocomplete\", Autocomplete);\nexport default Autocomplete;","map":{"version":3,"names":["$","noop","registerComponent","extend","DropDownList","Deferred","isCommandKeyPressed","AUTOCOMPLETE_CLASS","AUTOCOMPLETE_POPUP_WRAPPER_CLASS","Autocomplete","inherit","_supportedKeys","item","_list","option","parent","callBase","upArrow","e","preventDefault","stopPropagation","_calcNextItem","_clearFocusedItem","downArrow","enter","close","opened","_getDefaultOptions","minSearchLength","maxItemCount","noDataText","showDropDownButton","searchEnabled","_initMarkup","$element","addClass","setAria","_displayGetterExpr","_closeOutsideDropDownHandler","_ref","target","closest","length","_renderDimensions","_dimensionChanged","_popupWrapperClass","_listConfig","pageLoadMode","onSelectionChanged","_setSelectedItem","addedItems","_listItemClickHandler","_saveValueChangeEvent","event","value","_displayGetter","itemData","_setListDataSource","_refreshSelected","_searchCanceled","_loadItem","cache","selectedItem","_getItemFromPlain","resolve","promise","_dataSourceOptions","paginate","pageSize","_searchDataSource","searchValue","_dataSource","_renderValueEventName","_valueChangeEventHandler","_input","val","_optionChanged","args","name","_compileDisplayGetter","_setListOption","reset"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/autocomplete.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/autocomplete.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport DropDownList from \"./drop_down_editor/ui.drop_down_list\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    isCommandKeyPressed\r\n} from \"../events/utils/index\";\r\nvar AUTOCOMPLETE_CLASS = \"dx-autocomplete\";\r\nvar AUTOCOMPLETE_POPUP_WRAPPER_CLASS = \"dx-autocomplete-popup-wrapper\";\r\nvar Autocomplete = DropDownList.inherit({\r\n    _supportedKeys: function() {\r\n        var item = this._list ? this._list.option(\"focusedElement\") : null;\r\n        var parent = this.callBase();\r\n        item = item && $(item);\r\n        return extend({}, parent, {\r\n            upArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    if (item && !this._calcNextItem(-1)) {\r\n                        this._clearFocusedItem();\r\n                        return false\r\n                    }\r\n                }\r\n                return true\r\n            },\r\n            downArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    if (item && !this._calcNextItem(1)) {\r\n                        this._clearFocusedItem();\r\n                        return false\r\n                    }\r\n                }\r\n                return true\r\n            },\r\n            enter: function(e) {\r\n                if (!item) {\r\n                    this.close()\r\n                }\r\n                var opened = this.option(\"opened\");\r\n                if (opened) {\r\n                    e.preventDefault()\r\n                }\r\n                return opened\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            minSearchLength: 1,\r\n            maxItemCount: 10,\r\n            noDataText: \"\",\r\n            showDropDownButton: false,\r\n            searchEnabled: true\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(AUTOCOMPLETE_CLASS);\r\n        this.setAria(\"autocomplete\", \"inline\")\r\n    },\r\n    _displayGetterExpr: function() {\r\n        return this.option(\"valueExpr\")\r\n    },\r\n    _closeOutsideDropDownHandler: function(_ref) {\r\n        var {\r\n            target: target\r\n        } = _ref;\r\n        return !$(target).closest(this.$element()).length\r\n    },\r\n    _renderDimensions: function() {\r\n        this.callBase();\r\n        this._dimensionChanged()\r\n    },\r\n    _popupWrapperClass: function() {\r\n        return this.callBase() + \" \" + AUTOCOMPLETE_POPUP_WRAPPER_CLASS\r\n    },\r\n    _listConfig: function() {\r\n        return extend(this.callBase(), {\r\n            pageLoadMode: \"none\",\r\n            onSelectionChanged: e => {\r\n                this._setSelectedItem(e.addedItems[0])\r\n            }\r\n        })\r\n    },\r\n    _listItemClickHandler: function(e) {\r\n        this._saveValueChangeEvent(e.event);\r\n        var value = this._displayGetter(e.itemData);\r\n        this.option(\"value\", value);\r\n        this.close()\r\n    },\r\n    _setListDataSource: function() {\r\n        if (!this._list) {\r\n            return\r\n        }\r\n        this._list.option(\"selectedItems\", []);\r\n        this.callBase()\r\n    },\r\n    _refreshSelected: noop,\r\n    _searchCanceled: function() {\r\n        this.callBase();\r\n        this.close()\r\n    },\r\n    _loadItem: function(value, cache) {\r\n        var selectedItem = this._getItemFromPlain(value, cache);\r\n        return (new Deferred).resolve(selectedItem).promise()\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: true,\r\n            pageSize: this.option(\"maxItemCount\")\r\n        }\r\n    },\r\n    _searchDataSource: function(searchValue) {\r\n        this._dataSource.pageSize(this.option(\"maxItemCount\"));\r\n        this.callBase(searchValue);\r\n        this._clearFocusedItem()\r\n    },\r\n    _clearFocusedItem: function() {\r\n        if (this._list) {\r\n            this._list.option(\"focusedElement\", null);\r\n            this._list.option(\"selectedIndex\", -1)\r\n        }\r\n    },\r\n    _renderValueEventName: function() {\r\n        return \"input keyup\"\r\n    },\r\n    _valueChangeEventHandler: function(e) {\r\n        var value = this._input().val() || null;\r\n        return this.callBase(e, value)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"maxItemCount\":\r\n                this._searchDataSource();\r\n                break;\r\n            case \"valueExpr\":\r\n                this._compileDisplayGetter();\r\n                this._setListOption(\"displayExpr\", this._displayGetterExpr());\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    reset: function() {\r\n        this.callBase();\r\n        this.close()\r\n    }\r\n});\r\nregisterComponent(\"dxAutocomplete\", Autocomplete);\r\nexport default Autocomplete;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/core/utils/resize_callbacks.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { hasWindow, getWindow } from \"./window\";\nimport domAdapter from \"../dom_adapter\";\nimport Callbacks from \"./callbacks\";\nimport readyCallbacks from \"./ready_callbacks\";\nimport callOnce from \"./call_once\";\n\nvar resizeCallbacks = function () {\n  var prevSize;\n  var callbacks = Callbacks();\n  var originalCallbacksAdd = callbacks.add;\n  var originalCallbacksRemove = callbacks.remove;\n\n  if (!hasWindow()) {\n    return callbacks;\n  }\n\n  var formatSize = function () {\n    var window = getWindow();\n    return {\n      width: window.innerWidth,\n      height: window.innerHeight\n    };\n  };\n\n  var handleResize = function () {\n    var now = formatSize();\n\n    if (now.width === prevSize.width && now.height === prevSize.height) {\n      return;\n    }\n\n    var changedDimension;\n\n    if (now.width === prevSize.width) {\n      changedDimension = \"height\";\n    }\n\n    if (now.height === prevSize.height) {\n      changedDimension = \"width\";\n    }\n\n    prevSize = now;\n    callbacks.fire(changedDimension);\n  };\n\n  var setPrevSize = callOnce(function () {\n    prevSize = formatSize();\n  });\n  var removeListener;\n\n  callbacks.add = function () {\n    var result = originalCallbacksAdd.apply(callbacks, arguments);\n    setPrevSize();\n    readyCallbacks.add(function () {\n      if (!removeListener && callbacks.has()) {\n        removeListener = domAdapter.listen(getWindow(), \"resize\", handleResize);\n      }\n    });\n    return result;\n  };\n\n  callbacks.remove = function () {\n    var result = originalCallbacksRemove.apply(callbacks, arguments);\n\n    if (!callbacks.has() && removeListener) {\n      removeListener();\n      removeListener = void 0;\n    }\n\n    return result;\n  };\n\n  return callbacks;\n}();\n\nexport default resizeCallbacks;","map":{"version":3,"names":["hasWindow","getWindow","domAdapter","Callbacks","readyCallbacks","callOnce","resizeCallbacks","prevSize","callbacks","originalCallbacksAdd","add","originalCallbacksRemove","remove","formatSize","window","width","innerWidth","height","innerHeight","handleResize","now","changedDimension","fire","setPrevSize","removeListener","result","apply","arguments","has","listen"],"sources":["E:/MisaProject/MISA_EMIS/MISA.EMIS.FE/node_modules/devextreme/esm/core/utils/resize_callbacks.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/core/utils/resize_callbacks.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    hasWindow,\r\n    getWindow\r\n} from \"./window\";\r\nimport domAdapter from \"../dom_adapter\";\r\nimport Callbacks from \"./callbacks\";\r\nimport readyCallbacks from \"./ready_callbacks\";\r\nimport callOnce from \"./call_once\";\r\nvar resizeCallbacks = function() {\r\n    var prevSize;\r\n    var callbacks = Callbacks();\r\n    var originalCallbacksAdd = callbacks.add;\r\n    var originalCallbacksRemove = callbacks.remove;\r\n    if (!hasWindow()) {\r\n        return callbacks\r\n    }\r\n    var formatSize = function() {\r\n        var window = getWindow();\r\n        return {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight\r\n        }\r\n    };\r\n    var handleResize = function() {\r\n        var now = formatSize();\r\n        if (now.width === prevSize.width && now.height === prevSize.height) {\r\n            return\r\n        }\r\n        var changedDimension;\r\n        if (now.width === prevSize.width) {\r\n            changedDimension = \"height\"\r\n        }\r\n        if (now.height === prevSize.height) {\r\n            changedDimension = \"width\"\r\n        }\r\n        prevSize = now;\r\n        callbacks.fire(changedDimension)\r\n    };\r\n    var setPrevSize = callOnce((function() {\r\n        prevSize = formatSize()\r\n    }));\r\n    var removeListener;\r\n    callbacks.add = function() {\r\n        var result = originalCallbacksAdd.apply(callbacks, arguments);\r\n        setPrevSize();\r\n        readyCallbacks.add((function() {\r\n            if (!removeListener && callbacks.has()) {\r\n                removeListener = domAdapter.listen(getWindow(), \"resize\", handleResize)\r\n            }\r\n        }));\r\n        return result\r\n    };\r\n    callbacks.remove = function() {\r\n        var result = originalCallbacksRemove.apply(callbacks, arguments);\r\n        if (!callbacks.has() && removeListener) {\r\n            removeListener();\r\n            removeListener = void 0\r\n        }\r\n        return result\r\n    };\r\n    return callbacks\r\n}();\r\nexport default resizeCallbacks;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,SADJ,EAEIC,SAFJ,QAGO,UAHP;AAIA,OAAOC,UAAP,MAAuB,gBAAvB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,QAAP,MAAqB,aAArB;;AACA,IAAIC,eAAe,GAAG,YAAW;EAC7B,IAAIC,QAAJ;EACA,IAAIC,SAAS,GAAGL,SAAS,EAAzB;EACA,IAAIM,oBAAoB,GAAGD,SAAS,CAACE,GAArC;EACA,IAAIC,uBAAuB,GAAGH,SAAS,CAACI,MAAxC;;EACA,IAAI,CAACZ,SAAS,EAAd,EAAkB;IACd,OAAOQ,SAAP;EACH;;EACD,IAAIK,UAAU,GAAG,YAAW;IACxB,IAAIC,MAAM,GAAGb,SAAS,EAAtB;IACA,OAAO;MACHc,KAAK,EAAED,MAAM,CAACE,UADX;MAEHC,MAAM,EAAEH,MAAM,CAACI;IAFZ,CAAP;EAIH,CAND;;EAOA,IAAIC,YAAY,GAAG,YAAW;IAC1B,IAAIC,GAAG,GAAGP,UAAU,EAApB;;IACA,IAAIO,GAAG,CAACL,KAAJ,KAAcR,QAAQ,CAACQ,KAAvB,IAAgCK,GAAG,CAACH,MAAJ,KAAeV,QAAQ,CAACU,MAA5D,EAAoE;MAChE;IACH;;IACD,IAAII,gBAAJ;;IACA,IAAID,GAAG,CAACL,KAAJ,KAAcR,QAAQ,CAACQ,KAA3B,EAAkC;MAC9BM,gBAAgB,GAAG,QAAnB;IACH;;IACD,IAAID,GAAG,CAACH,MAAJ,KAAeV,QAAQ,CAACU,MAA5B,EAAoC;MAChCI,gBAAgB,GAAG,OAAnB;IACH;;IACDd,QAAQ,GAAGa,GAAX;IACAZ,SAAS,CAACc,IAAV,CAAeD,gBAAf;EACH,CAdD;;EAeA,IAAIE,WAAW,GAAGlB,QAAQ,CAAE,YAAW;IACnCE,QAAQ,GAAGM,UAAU,EAArB;EACH,CAFyB,CAA1B;EAGA,IAAIW,cAAJ;;EACAhB,SAAS,CAACE,GAAV,GAAgB,YAAW;IACvB,IAAIe,MAAM,GAAGhB,oBAAoB,CAACiB,KAArB,CAA2BlB,SAA3B,EAAsCmB,SAAtC,CAAb;IACAJ,WAAW;IACXnB,cAAc,CAACM,GAAf,CAAoB,YAAW;MAC3B,IAAI,CAACc,cAAD,IAAmBhB,SAAS,CAACoB,GAAV,EAAvB,EAAwC;QACpCJ,cAAc,GAAGtB,UAAU,CAAC2B,MAAX,CAAkB5B,SAAS,EAA3B,EAA+B,QAA/B,EAAyCkB,YAAzC,CAAjB;MACH;IACJ,CAJD;IAKA,OAAOM,MAAP;EACH,CATD;;EAUAjB,SAAS,CAACI,MAAV,GAAmB,YAAW;IAC1B,IAAIa,MAAM,GAAGd,uBAAuB,CAACe,KAAxB,CAA8BlB,SAA9B,EAAyCmB,SAAzC,CAAb;;IACA,IAAI,CAACnB,SAAS,CAACoB,GAAV,EAAD,IAAoBJ,cAAxB,EAAwC;MACpCA,cAAc;MACdA,cAAc,GAAG,KAAK,CAAtB;IACH;;IACD,OAAOC,MAAP;EACH,CAPD;;EAQA,OAAOjB,SAAP;AACH,CArDqB,EAAtB;;AAsDA,eAAeF,eAAf"},"metadata":{},"sourceType":"module"}
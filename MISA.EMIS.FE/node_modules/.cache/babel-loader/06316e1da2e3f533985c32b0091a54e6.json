{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/range_selector/tracker.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport eventsEngine from \"../../events/core/events_engine\";\nimport pointerEvents from \"../../events/pointer\";\nimport { getWindow } from \"../../core/utils/window\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport { each } from \"../../core/utils/iterator\";\nimport { pointerEvents as msPointerEnabled } from \"../../core/utils/support\";\nvar MIN_MANUAL_SELECTING_WIDTH = 10;\nvar window = getWindow();\n\nfunction isLeftButtonPressed(event) {\n  var e = event || window.event;\n  var originalEvent = e.originalEvent;\n  var touches = e.touches;\n  var pointerType = originalEvent ? originalEvent.pointerType : false;\n  var eventTouches = originalEvent ? originalEvent.touches : false;\n  var isMSPointerLeftClick = originalEvent && void 0 !== pointerType && (pointerType === (originalEvent.MSPOINTER_TYPE_TOUCH || \"touch\") || pointerType === (originalEvent.MSPOINTER_TYPE_MOUSE || \"mouse\") && 1 === originalEvent.buttons);\n  var isTouches = touches && touches.length > 0 || eventTouches && eventTouches.length > 0;\n  return 1 === e.which || isMSPointerLeftClick || isTouches;\n}\n\nfunction isMultiTouches(event) {\n  var originalEvent = event.originalEvent;\n  var touches = event.touches;\n  var eventTouches = originalEvent && originalEvent.touches;\n  return touches && touches.length > 1 || eventTouches && eventTouches.length > 1 || null;\n}\n\nfunction preventDefault(e) {\n  if (!isMultiTouches(e)) {\n    e.preventDefault();\n  }\n}\n\nfunction stopPropagationAndPreventDefault(e) {\n  if (!isMultiTouches(e)) {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n}\n\nfunction isTouchEventArgs(e) {\n  return e && e.type && 0 === e.type.indexOf(\"touch\");\n}\n\nfunction getEventPageX(event) {\n  var originalEvent = event.originalEvent;\n  var result = 0;\n\n  if (event.pageX) {\n    result = event.pageX;\n  } else if (originalEvent && originalEvent.pageX) {\n    result = originalEvent.pageX;\n  }\n\n  if (originalEvent && originalEvent.touches) {\n    if (originalEvent.touches.length > 0) {\n      result = originalEvent.touches[0].pageX;\n    } else if (originalEvent.changedTouches.length > 0) {\n      result = originalEvent.changedTouches[0].pageX;\n    }\n  }\n\n  return result;\n}\n\nfunction initializeAreaEvents(controller, area, state, getRootOffsetLeft) {\n  var isTouchEvent;\n  var isActive = false;\n  var initialPosition;\n  var movingHandler = null;\n  var docEvents = {\n    [pointerEvents.move](e) {\n      var position;\n      var offset;\n\n      if (isTouchEvent !== isTouchEventArgs(e)) {\n        return;\n      }\n\n      if (!isLeftButtonPressed(e)) {\n        cancel(e);\n      }\n\n      if (isActive) {\n        position = getEventPageX(e);\n        offset = getRootOffsetLeft();\n\n        if (movingHandler) {\n          movingHandler(position - offset, e);\n        } else if (state.manualRangeSelectionEnabled && Math.abs(initialPosition - position) >= MIN_MANUAL_SELECTING_WIDTH) {\n          movingHandler = controller.placeSliderAndBeginMoving(initialPosition - offset, position - offset, e);\n        }\n      }\n    },\n\n    [pointerEvents.up](e) {\n      var position;\n\n      if (isActive) {\n        position = getEventPageX(e);\n\n        if (!movingHandler && state.moveSelectedRangeByClick && Math.abs(initialPosition - position) < MIN_MANUAL_SELECTING_WIDTH) {\n          controller.moveSelectedArea(position - getRootOffsetLeft(), e);\n        }\n\n        cancel(e);\n      }\n    }\n\n  };\n\n  function cancel(e) {\n    if (isActive) {\n      isActive = false;\n\n      if (movingHandler) {\n        movingHandler.complete(e);\n        movingHandler = null;\n      }\n    }\n  }\n\n  area.on(pointerEvents.down, function (e) {\n    if (!state.enabled || !isLeftButtonPressed(e) || isActive) {\n      return;\n    }\n\n    isActive = true;\n    isTouchEvent = isTouchEventArgs(e);\n    initialPosition = getEventPageX(e);\n  });\n  return docEvents;\n}\n\nfunction initializeSelectedAreaEvents(controller, area, state, getRootOffsetLeft) {\n  var isTouchEvent;\n  var isActive = false;\n  var movingHandler = null;\n  var docEvents = {\n    [pointerEvents.move](e) {\n      if (isTouchEvent !== isTouchEventArgs(e)) {\n        return;\n      }\n\n      if (!isLeftButtonPressed(e)) {\n        cancel(e);\n      }\n\n      if (isActive) {\n        preventDefault(e);\n        movingHandler(getEventPageX(e) - getRootOffsetLeft(), e);\n      }\n    },\n\n    [pointerEvents.up]: cancel\n  };\n\n  function cancel(e) {\n    if (isActive) {\n      isActive = false;\n      movingHandler.complete(e);\n      movingHandler = null;\n    }\n  }\n\n  area.on(pointerEvents.down, function (e) {\n    if (!state.enabled || !isLeftButtonPressed(e) || isActive) {\n      return;\n    }\n\n    isActive = true;\n    isTouchEvent = isTouchEventArgs(e);\n    movingHandler = controller.beginSelectedAreaMoving(getEventPageX(e) - getRootOffsetLeft());\n    stopPropagationAndPreventDefault(e);\n  });\n  return docEvents;\n}\n\nfunction initializeSliderEvents(controller, sliders, state, getRootOffsetLeft) {\n  var isTouchEvent;\n  var isActive = false;\n  var movingHandler = null;\n  var docEvents = {\n    [pointerEvents.move](e) {\n      if (isTouchEvent !== isTouchEventArgs(e)) {\n        return;\n      }\n\n      if (!isLeftButtonPressed(e)) {\n        cancel(e);\n      }\n\n      if (isActive) {\n        preventDefault(e);\n        movingHandler(getEventPageX(e) - getRootOffsetLeft(), e);\n      }\n    },\n\n    [pointerEvents.up]: cancel\n  };\n  each(sliders, function (i, slider) {\n    slider.on({\n      [pointerEvents.down](e) {\n        if (!state.enabled || !isLeftButtonPressed(e) || isActive) {\n          return;\n        }\n\n        isActive = true;\n        isTouchEvent = isTouchEventArgs(e);\n        movingHandler = controller.beginSliderMoving(i, getEventPageX(e) - getRootOffsetLeft());\n        stopPropagationAndPreventDefault(e);\n      },\n\n      [pointerEvents.move]() {\n        if (!movingHandler) {\n          controller.foregroundSlider(i);\n        }\n      }\n\n    });\n  });\n\n  function cancel(e) {\n    if (isActive) {\n      isActive = false;\n      movingHandler.complete(e);\n      movingHandler = null;\n    }\n  }\n\n  return docEvents;\n}\n\nexport function Tracker(params) {\n  var state = this._state = {};\n  var targets = params.controller.getTrackerTargets();\n\n  if (msPointerEnabled) {\n    params.renderer.root.css({\n      msTouchAction: \"pinch-zoom\"\n    });\n  }\n\n  this._docEvents = [initializeSelectedAreaEvents(params.controller, targets.selectedArea, state, getRootOffsetLeft), initializeAreaEvents(params.controller, targets.area, state, getRootOffsetLeft), initializeSliderEvents(params.controller, targets.sliders, state, getRootOffsetLeft)];\n  each(this._docEvents, function (_, events) {\n    eventsEngine.on(domAdapter.getDocument(), events);\n  });\n\n  function getRootOffsetLeft() {\n    return params.renderer.getRootOffset().left;\n  }\n}\nTracker.prototype = {\n  constructor: Tracker,\n  dispose: function () {\n    each(this._docEvents, function (_, events) {\n      eventsEngine.off(domAdapter.getDocument(), events);\n    });\n  },\n  update: function (enabled, behavior) {\n    var state = this._state;\n    state.enabled = enabled;\n    state.moveSelectedRangeByClick = behavior.moveSelectedRangeByClick;\n    state.manualRangeSelectionEnabled = behavior.manualRangeSelectionEnabled;\n  }\n};","map":{"version":3,"names":["eventsEngine","pointerEvents","getWindow","domAdapter","each","msPointerEnabled","MIN_MANUAL_SELECTING_WIDTH","window","isLeftButtonPressed","event","e","originalEvent","touches","pointerType","eventTouches","isMSPointerLeftClick","MSPOINTER_TYPE_TOUCH","MSPOINTER_TYPE_MOUSE","buttons","isTouches","length","which","isMultiTouches","preventDefault","stopPropagationAndPreventDefault","stopPropagation","isTouchEventArgs","type","indexOf","getEventPageX","result","pageX","changedTouches","initializeAreaEvents","controller","area","state","getRootOffsetLeft","isTouchEvent","isActive","initialPosition","movingHandler","docEvents","move","position","offset","cancel","manualRangeSelectionEnabled","Math","abs","placeSliderAndBeginMoving","up","moveSelectedRangeByClick","moveSelectedArea","complete","on","down","enabled","initializeSelectedAreaEvents","beginSelectedAreaMoving","initializeSliderEvents","sliders","i","slider","beginSliderMoving","foregroundSlider","Tracker","params","_state","targets","getTrackerTargets","renderer","root","css","msTouchAction","_docEvents","selectedArea","_","events","getDocument","getRootOffset","left","prototype","constructor","dispose","off","update","behavior"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/range_selector/tracker.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/range_selector/tracker.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    pointerEvents as msPointerEnabled\r\n} from \"../../core/utils/support\";\r\nvar MIN_MANUAL_SELECTING_WIDTH = 10;\r\nvar window = getWindow();\r\n\r\nfunction isLeftButtonPressed(event) {\r\n    var e = event || window.event;\r\n    var originalEvent = e.originalEvent;\r\n    var touches = e.touches;\r\n    var pointerType = originalEvent ? originalEvent.pointerType : false;\r\n    var eventTouches = originalEvent ? originalEvent.touches : false;\r\n    var isMSPointerLeftClick = originalEvent && void 0 !== pointerType && (pointerType === (originalEvent.MSPOINTER_TYPE_TOUCH || \"touch\") || pointerType === (originalEvent.MSPOINTER_TYPE_MOUSE || \"mouse\") && 1 === originalEvent.buttons);\r\n    var isTouches = touches && touches.length > 0 || eventTouches && eventTouches.length > 0;\r\n    return 1 === e.which || isMSPointerLeftClick || isTouches\r\n}\r\n\r\nfunction isMultiTouches(event) {\r\n    var originalEvent = event.originalEvent;\r\n    var touches = event.touches;\r\n    var eventTouches = originalEvent && originalEvent.touches;\r\n    return touches && touches.length > 1 || eventTouches && eventTouches.length > 1 || null\r\n}\r\n\r\nfunction preventDefault(e) {\r\n    if (!isMultiTouches(e)) {\r\n        e.preventDefault()\r\n    }\r\n}\r\n\r\nfunction stopPropagationAndPreventDefault(e) {\r\n    if (!isMultiTouches(e)) {\r\n        e.stopPropagation();\r\n        e.preventDefault()\r\n    }\r\n}\r\n\r\nfunction isTouchEventArgs(e) {\r\n    return e && e.type && 0 === e.type.indexOf(\"touch\")\r\n}\r\n\r\nfunction getEventPageX(event) {\r\n    var originalEvent = event.originalEvent;\r\n    var result = 0;\r\n    if (event.pageX) {\r\n        result = event.pageX\r\n    } else if (originalEvent && originalEvent.pageX) {\r\n        result = originalEvent.pageX\r\n    }\r\n    if (originalEvent && originalEvent.touches) {\r\n        if (originalEvent.touches.length > 0) {\r\n            result = originalEvent.touches[0].pageX\r\n        } else if (originalEvent.changedTouches.length > 0) {\r\n            result = originalEvent.changedTouches[0].pageX\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\nfunction initializeAreaEvents(controller, area, state, getRootOffsetLeft) {\r\n    var isTouchEvent;\r\n    var isActive = false;\r\n    var initialPosition;\r\n    var movingHandler = null;\r\n    var docEvents = {\r\n        [pointerEvents.move](e) {\r\n            var position;\r\n            var offset;\r\n            if (isTouchEvent !== isTouchEventArgs(e)) {\r\n                return\r\n            }\r\n            if (!isLeftButtonPressed(e)) {\r\n                cancel(e)\r\n            }\r\n            if (isActive) {\r\n                position = getEventPageX(e);\r\n                offset = getRootOffsetLeft();\r\n                if (movingHandler) {\r\n                    movingHandler(position - offset, e)\r\n                } else if (state.manualRangeSelectionEnabled && Math.abs(initialPosition - position) >= MIN_MANUAL_SELECTING_WIDTH) {\r\n                    movingHandler = controller.placeSliderAndBeginMoving(initialPosition - offset, position - offset, e)\r\n                }\r\n            }\r\n        },\r\n        [pointerEvents.up](e) {\r\n            var position;\r\n            if (isActive) {\r\n                position = getEventPageX(e);\r\n                if (!movingHandler && state.moveSelectedRangeByClick && Math.abs(initialPosition - position) < MIN_MANUAL_SELECTING_WIDTH) {\r\n                    controller.moveSelectedArea(position - getRootOffsetLeft(), e)\r\n                }\r\n                cancel(e)\r\n            }\r\n        }\r\n    };\r\n\r\n    function cancel(e) {\r\n        if (isActive) {\r\n            isActive = false;\r\n            if (movingHandler) {\r\n                movingHandler.complete(e);\r\n                movingHandler = null\r\n            }\r\n        }\r\n    }\r\n    area.on(pointerEvents.down, (function(e) {\r\n        if (!state.enabled || !isLeftButtonPressed(e) || isActive) {\r\n            return\r\n        }\r\n        isActive = true;\r\n        isTouchEvent = isTouchEventArgs(e);\r\n        initialPosition = getEventPageX(e)\r\n    }));\r\n    return docEvents\r\n}\r\n\r\nfunction initializeSelectedAreaEvents(controller, area, state, getRootOffsetLeft) {\r\n    var isTouchEvent;\r\n    var isActive = false;\r\n    var movingHandler = null;\r\n    var docEvents = {\r\n        [pointerEvents.move](e) {\r\n            if (isTouchEvent !== isTouchEventArgs(e)) {\r\n                return\r\n            }\r\n            if (!isLeftButtonPressed(e)) {\r\n                cancel(e)\r\n            }\r\n            if (isActive) {\r\n                preventDefault(e);\r\n                movingHandler(getEventPageX(e) - getRootOffsetLeft(), e)\r\n            }\r\n        },\r\n        [pointerEvents.up]: cancel\r\n    };\r\n\r\n    function cancel(e) {\r\n        if (isActive) {\r\n            isActive = false;\r\n            movingHandler.complete(e);\r\n            movingHandler = null\r\n        }\r\n    }\r\n    area.on(pointerEvents.down, (function(e) {\r\n        if (!state.enabled || !isLeftButtonPressed(e) || isActive) {\r\n            return\r\n        }\r\n        isActive = true;\r\n        isTouchEvent = isTouchEventArgs(e);\r\n        movingHandler = controller.beginSelectedAreaMoving(getEventPageX(e) - getRootOffsetLeft());\r\n        stopPropagationAndPreventDefault(e)\r\n    }));\r\n    return docEvents\r\n}\r\n\r\nfunction initializeSliderEvents(controller, sliders, state, getRootOffsetLeft) {\r\n    var isTouchEvent;\r\n    var isActive = false;\r\n    var movingHandler = null;\r\n    var docEvents = {\r\n        [pointerEvents.move](e) {\r\n            if (isTouchEvent !== isTouchEventArgs(e)) {\r\n                return\r\n            }\r\n            if (!isLeftButtonPressed(e)) {\r\n                cancel(e)\r\n            }\r\n            if (isActive) {\r\n                preventDefault(e);\r\n                movingHandler(getEventPageX(e) - getRootOffsetLeft(), e)\r\n            }\r\n        },\r\n        [pointerEvents.up]: cancel\r\n    };\r\n    each(sliders, (function(i, slider) {\r\n        slider.on({\r\n            [pointerEvents.down](e) {\r\n                if (!state.enabled || !isLeftButtonPressed(e) || isActive) {\r\n                    return\r\n                }\r\n                isActive = true;\r\n                isTouchEvent = isTouchEventArgs(e);\r\n                movingHandler = controller.beginSliderMoving(i, getEventPageX(e) - getRootOffsetLeft());\r\n                stopPropagationAndPreventDefault(e)\r\n            },\r\n            [pointerEvents.move]() {\r\n                if (!movingHandler) {\r\n                    controller.foregroundSlider(i)\r\n                }\r\n            }\r\n        })\r\n    }));\r\n\r\n    function cancel(e) {\r\n        if (isActive) {\r\n            isActive = false;\r\n            movingHandler.complete(e);\r\n            movingHandler = null\r\n        }\r\n    }\r\n    return docEvents\r\n}\r\nexport function Tracker(params) {\r\n    var state = this._state = {};\r\n    var targets = params.controller.getTrackerTargets();\r\n    if (msPointerEnabled) {\r\n        params.renderer.root.css({\r\n            msTouchAction: \"pinch-zoom\"\r\n        })\r\n    }\r\n    this._docEvents = [initializeSelectedAreaEvents(params.controller, targets.selectedArea, state, getRootOffsetLeft), initializeAreaEvents(params.controller, targets.area, state, getRootOffsetLeft), initializeSliderEvents(params.controller, targets.sliders, state, getRootOffsetLeft)];\r\n    each(this._docEvents, (function(_, events) {\r\n        eventsEngine.on(domAdapter.getDocument(), events)\r\n    }));\r\n\r\n    function getRootOffsetLeft() {\r\n        return params.renderer.getRootOffset().left\r\n    }\r\n}\r\nTracker.prototype = {\r\n    constructor: Tracker,\r\n    dispose: function() {\r\n        each(this._docEvents, (function(_, events) {\r\n            eventsEngine.off(domAdapter.getDocument(), events)\r\n        }))\r\n    },\r\n    update: function(enabled, behavior) {\r\n        var state = this._state;\r\n        state.enabled = enabled;\r\n        state.moveSelectedRangeByClick = behavior.moveSelectedRangeByClick;\r\n        state.manualRangeSelectionEnabled = behavior.manualRangeSelectionEnabled\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
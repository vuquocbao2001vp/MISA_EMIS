{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/html_editor/matchers/wordLists.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nfunction getListType(matches) {\n  var prefix = matches[1];\n  return prefix.match(/\\S+\\./) ? \"ordered\" : \"bullet\";\n}\n\nfunction getIndent(node) {\n  var style = node.getAttribute(\"style\");\n\n  if (style) {\n    var level = style.replace(/\\n+/g, \"\").match(/level(\\d+)/);\n    return level ? level[1] - 1 : 0;\n  } else {\n    return false;\n  }\n}\n\nfunction removeNewLineChar(operations) {\n  var newLineOperation = operations[operations.length - 1];\n  newLineOperation.insert = newLineOperation.insert.trim();\n}\n\nvar getMatcher = quill => {\n  var Delta = quill.import(\"delta\");\n  return (node, delta) => {\n    var ops = delta.ops.slice();\n    var insertOperation = ops[0];\n    insertOperation.insert = insertOperation.insert.replace(/^\\s+/, \"\");\n    var listDecoratorMatches = insertOperation.insert.match(/^(\\S+)\\s+/);\n    var indent = listDecoratorMatches && getIndent(node);\n\n    if (!listDecoratorMatches || false === indent) {\n      return delta;\n    }\n\n    insertOperation.insert = insertOperation.insert.substring(listDecoratorMatches[0].length, insertOperation.insert.length);\n    removeNewLineChar(ops);\n    ops.push({\n      insert: \"\\n\",\n      attributes: {\n        list: getListType(listDecoratorMatches),\n        indent: indent\n      }\n    });\n    return new Delta(ops);\n  };\n};\n\nexport default getMatcher;","map":{"version":3,"names":["getListType","matches","prefix","match","getIndent","node","style","getAttribute","level","replace","removeNewLineChar","operations","newLineOperation","length","insert","trim","getMatcher","quill","Delta","import","delta","ops","slice","insertOperation","listDecoratorMatches","indent","substring","push","attributes","list"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/html_editor/matchers/wordLists.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/html_editor/matchers/wordLists.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nfunction getListType(matches) {\r\n    var prefix = matches[1];\r\n    return prefix.match(/\\S+\\./) ? \"ordered\" : \"bullet\"\r\n}\r\n\r\nfunction getIndent(node) {\r\n    var style = node.getAttribute(\"style\");\r\n    if (style) {\r\n        var level = style.replace(/\\n+/g, \"\").match(/level(\\d+)/);\r\n        return level ? level[1] - 1 : 0\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction removeNewLineChar(operations) {\r\n    var newLineOperation = operations[operations.length - 1];\r\n    newLineOperation.insert = newLineOperation.insert.trim()\r\n}\r\nvar getMatcher = quill => {\r\n    var Delta = quill.import(\"delta\");\r\n    return (node, delta) => {\r\n        var ops = delta.ops.slice();\r\n        var insertOperation = ops[0];\r\n        insertOperation.insert = insertOperation.insert.replace(/^\\s+/, \"\");\r\n        var listDecoratorMatches = insertOperation.insert.match(/^(\\S+)\\s+/);\r\n        var indent = listDecoratorMatches && getIndent(node);\r\n        if (!listDecoratorMatches || false === indent) {\r\n            return delta\r\n        }\r\n        insertOperation.insert = insertOperation.insert.substring(listDecoratorMatches[0].length, insertOperation.insert.length);\r\n        removeNewLineChar(ops);\r\n        ops.push({\r\n            insert: \"\\n\",\r\n            attributes: {\r\n                list: getListType(listDecoratorMatches),\r\n                indent: indent\r\n            }\r\n        });\r\n        return new Delta(ops)\r\n    }\r\n};\r\nexport default getMatcher;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,WAAT,CAAqBC,OAArB,EAA8B;EAC1B,IAAIC,MAAM,GAAGD,OAAO,CAAC,CAAD,CAApB;EACA,OAAOC,MAAM,CAACC,KAAP,CAAa,OAAb,IAAwB,SAAxB,GAAoC,QAA3C;AACH;;AAED,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;EACrB,IAAIC,KAAK,GAAGD,IAAI,CAACE,YAAL,CAAkB,OAAlB,CAAZ;;EACA,IAAID,KAAJ,EAAW;IACP,IAAIE,KAAK,GAAGF,KAAK,CAACG,OAAN,CAAc,MAAd,EAAsB,EAAtB,EAA0BN,KAA1B,CAAgC,YAAhC,CAAZ;IACA,OAAOK,KAAK,GAAGA,KAAK,CAAC,CAAD,CAAL,GAAW,CAAd,GAAkB,CAA9B;EACH,CAHD,MAGO;IACH,OAAO,KAAP;EACH;AACJ;;AAED,SAASE,iBAAT,CAA2BC,UAA3B,EAAuC;EACnC,IAAIC,gBAAgB,GAAGD,UAAU,CAACA,UAAU,CAACE,MAAX,GAAoB,CAArB,CAAjC;EACAD,gBAAgB,CAACE,MAAjB,GAA0BF,gBAAgB,CAACE,MAAjB,CAAwBC,IAAxB,EAA1B;AACH;;AACD,IAAIC,UAAU,GAAGC,KAAK,IAAI;EACtB,IAAIC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAa,OAAb,CAAZ;EACA,OAAO,CAACd,IAAD,EAAOe,KAAP,KAAiB;IACpB,IAAIC,GAAG,GAAGD,KAAK,CAACC,GAAN,CAAUC,KAAV,EAAV;IACA,IAAIC,eAAe,GAAGF,GAAG,CAAC,CAAD,CAAzB;IACAE,eAAe,CAACT,MAAhB,GAAyBS,eAAe,CAACT,MAAhB,CAAuBL,OAAvB,CAA+B,MAA/B,EAAuC,EAAvC,CAAzB;IACA,IAAIe,oBAAoB,GAAGD,eAAe,CAACT,MAAhB,CAAuBX,KAAvB,CAA6B,WAA7B,CAA3B;IACA,IAAIsB,MAAM,GAAGD,oBAAoB,IAAIpB,SAAS,CAACC,IAAD,CAA9C;;IACA,IAAI,CAACmB,oBAAD,IAAyB,UAAUC,MAAvC,EAA+C;MAC3C,OAAOL,KAAP;IACH;;IACDG,eAAe,CAACT,MAAhB,GAAyBS,eAAe,CAACT,MAAhB,CAAuBY,SAAvB,CAAiCF,oBAAoB,CAAC,CAAD,CAApB,CAAwBX,MAAzD,EAAiEU,eAAe,CAACT,MAAhB,CAAuBD,MAAxF,CAAzB;IACAH,iBAAiB,CAACW,GAAD,CAAjB;IACAA,GAAG,CAACM,IAAJ,CAAS;MACLb,MAAM,EAAE,IADH;MAELc,UAAU,EAAE;QACRC,IAAI,EAAE7B,WAAW,CAACwB,oBAAD,CADT;QAERC,MAAM,EAAEA;MAFA;IAFP,CAAT;IAOA,OAAO,IAAIP,KAAJ,CAAUG,GAAV,CAAP;EACH,CAnBD;AAoBH,CAtBD;;AAuBA,eAAeL,UAAf"},"metadata":{},"sourceType":"module"}
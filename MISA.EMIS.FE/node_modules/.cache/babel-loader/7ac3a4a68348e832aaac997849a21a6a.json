{"ast":null,"code":"/**\r\n * DevExtreme (esm/events/pointer/mouse_and_touch.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extend } from \"../../core/utils/extend\";\nimport BaseStrategy from \"./base\";\nimport MouseStrategy from \"./mouse\";\nimport TouchStrategy from \"./touch\";\nimport { isMouseEvent } from \"../utils/index\";\nvar eventMap = {\n  dxpointerdown: \"touchstart mousedown\",\n  dxpointermove: \"touchmove mousemove\",\n  dxpointerup: \"touchend mouseup\",\n  dxpointercancel: \"touchcancel\",\n  dxpointerover: \"mouseover\",\n  dxpointerout: \"mouseout\",\n  dxpointerenter: \"mouseenter\",\n  dxpointerleave: \"mouseleave\"\n};\nvar activated = false;\n\nvar activateStrategy = function () {\n  if (activated) {\n    return;\n  }\n\n  MouseStrategy.activate();\n  activated = true;\n};\n\nvar MouseAndTouchStrategy = BaseStrategy.inherit({\n  EVENT_LOCK_TIMEOUT: 100,\n  ctor: function () {\n    this.callBase.apply(this, arguments);\n    activateStrategy();\n  },\n  _handler: function (e) {\n    var isMouse = isMouseEvent(e);\n\n    if (!isMouse) {\n      this._skipNextEvents = true;\n    }\n\n    if (isMouse && this._mouseLocked) {\n      return;\n    }\n\n    if (isMouse && this._skipNextEvents) {\n      this._skipNextEvents = false;\n      this._mouseLocked = true;\n      clearTimeout(this._unlockMouseTimer);\n      var that = this;\n      this._unlockMouseTimer = setTimeout(function () {\n        that._mouseLocked = false;\n      }, this.EVENT_LOCK_TIMEOUT);\n      return;\n    }\n\n    return this.callBase(e);\n  },\n  _fireEvent: function (args) {\n    var normalizer = isMouseEvent(args.originalEvent) ? MouseStrategy.normalize : TouchStrategy.normalize;\n    return this.callBase(extend(normalizer(args.originalEvent), args));\n  },\n  dispose: function () {\n    this.callBase();\n    this._skipNextEvents = false;\n    this._mouseLocked = false;\n    clearTimeout(this._unlockMouseTimer);\n  }\n});\nMouseAndTouchStrategy.map = eventMap;\nMouseAndTouchStrategy.resetObserver = MouseStrategy.resetObserver;\nexport default MouseAndTouchStrategy;","map":{"version":3,"names":["extend","BaseStrategy","MouseStrategy","TouchStrategy","isMouseEvent","eventMap","dxpointerdown","dxpointermove","dxpointerup","dxpointercancel","dxpointerover","dxpointerout","dxpointerenter","dxpointerleave","activated","activateStrategy","activate","MouseAndTouchStrategy","inherit","EVENT_LOCK_TIMEOUT","ctor","callBase","apply","arguments","_handler","e","isMouse","_skipNextEvents","_mouseLocked","clearTimeout","_unlockMouseTimer","that","setTimeout","_fireEvent","args","normalizer","originalEvent","normalize","dispose","map","resetObserver"],"sources":["E:/MisaProject/MISA_EMIS/MISA.EMIS.FE/node_modules/devextreme/esm/events/pointer/mouse_and_touch.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/events/pointer/mouse_and_touch.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport BaseStrategy from \"./base\";\r\nimport MouseStrategy from \"./mouse\";\r\nimport TouchStrategy from \"./touch\";\r\nimport {\r\n    isMouseEvent\r\n} from \"../utils/index\";\r\nvar eventMap = {\r\n    dxpointerdown: \"touchstart mousedown\",\r\n    dxpointermove: \"touchmove mousemove\",\r\n    dxpointerup: \"touchend mouseup\",\r\n    dxpointercancel: \"touchcancel\",\r\n    dxpointerover: \"mouseover\",\r\n    dxpointerout: \"mouseout\",\r\n    dxpointerenter: \"mouseenter\",\r\n    dxpointerleave: \"mouseleave\"\r\n};\r\nvar activated = false;\r\nvar activateStrategy = function() {\r\n    if (activated) {\r\n        return\r\n    }\r\n    MouseStrategy.activate();\r\n    activated = true\r\n};\r\nvar MouseAndTouchStrategy = BaseStrategy.inherit({\r\n    EVENT_LOCK_TIMEOUT: 100,\r\n    ctor: function() {\r\n        this.callBase.apply(this, arguments);\r\n        activateStrategy()\r\n    },\r\n    _handler: function(e) {\r\n        var isMouse = isMouseEvent(e);\r\n        if (!isMouse) {\r\n            this._skipNextEvents = true\r\n        }\r\n        if (isMouse && this._mouseLocked) {\r\n            return\r\n        }\r\n        if (isMouse && this._skipNextEvents) {\r\n            this._skipNextEvents = false;\r\n            this._mouseLocked = true;\r\n            clearTimeout(this._unlockMouseTimer);\r\n            var that = this;\r\n            this._unlockMouseTimer = setTimeout((function() {\r\n                that._mouseLocked = false\r\n            }), this.EVENT_LOCK_TIMEOUT);\r\n            return\r\n        }\r\n        return this.callBase(e)\r\n    },\r\n    _fireEvent: function(args) {\r\n        var normalizer = isMouseEvent(args.originalEvent) ? MouseStrategy.normalize : TouchStrategy.normalize;\r\n        return this.callBase(extend(normalizer(args.originalEvent), args))\r\n    },\r\n    dispose: function() {\r\n        this.callBase();\r\n        this._skipNextEvents = false;\r\n        this._mouseLocked = false;\r\n        clearTimeout(this._unlockMouseTimer)\r\n    }\r\n});\r\nMouseAndTouchStrategy.map = eventMap;\r\nMouseAndTouchStrategy.resetObserver = MouseStrategy.resetObserver;\r\nexport default MouseAndTouchStrategy;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,MADJ,QAEO,yBAFP;AAGA,OAAOC,YAAP,MAAyB,QAAzB;AACA,OAAOC,aAAP,MAA0B,SAA1B;AACA,OAAOC,aAAP,MAA0B,SAA1B;AACA,SACIC,YADJ,QAEO,gBAFP;AAGA,IAAIC,QAAQ,GAAG;EACXC,aAAa,EAAE,sBADJ;EAEXC,aAAa,EAAE,qBAFJ;EAGXC,WAAW,EAAE,kBAHF;EAIXC,eAAe,EAAE,aAJN;EAKXC,aAAa,EAAE,WALJ;EAMXC,YAAY,EAAE,UANH;EAOXC,cAAc,EAAE,YAPL;EAQXC,cAAc,EAAE;AARL,CAAf;AAUA,IAAIC,SAAS,GAAG,KAAhB;;AACA,IAAIC,gBAAgB,GAAG,YAAW;EAC9B,IAAID,SAAJ,EAAe;IACX;EACH;;EACDZ,aAAa,CAACc,QAAd;EACAF,SAAS,GAAG,IAAZ;AACH,CAND;;AAOA,IAAIG,qBAAqB,GAAGhB,YAAY,CAACiB,OAAb,CAAqB;EAC7CC,kBAAkB,EAAE,GADyB;EAE7CC,IAAI,EAAE,YAAW;IACb,KAAKC,QAAL,CAAcC,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;IACAR,gBAAgB;EACnB,CAL4C;EAM7CS,QAAQ,EAAE,UAASC,CAAT,EAAY;IAClB,IAAIC,OAAO,GAAGtB,YAAY,CAACqB,CAAD,CAA1B;;IACA,IAAI,CAACC,OAAL,EAAc;MACV,KAAKC,eAAL,GAAuB,IAAvB;IACH;;IACD,IAAID,OAAO,IAAI,KAAKE,YAApB,EAAkC;MAC9B;IACH;;IACD,IAAIF,OAAO,IAAI,KAAKC,eAApB,EAAqC;MACjC,KAAKA,eAAL,GAAuB,KAAvB;MACA,KAAKC,YAAL,GAAoB,IAApB;MACAC,YAAY,CAAC,KAAKC,iBAAN,CAAZ;MACA,IAAIC,IAAI,GAAG,IAAX;MACA,KAAKD,iBAAL,GAAyBE,UAAU,CAAE,YAAW;QAC5CD,IAAI,CAACH,YAAL,GAAoB,KAApB;MACH,CAFkC,EAE/B,KAAKT,kBAF0B,CAAnC;MAGA;IACH;;IACD,OAAO,KAAKE,QAAL,CAAcI,CAAd,CAAP;EACH,CAzB4C;EA0B7CQ,UAAU,EAAE,UAASC,IAAT,EAAe;IACvB,IAAIC,UAAU,GAAG/B,YAAY,CAAC8B,IAAI,CAACE,aAAN,CAAZ,GAAmClC,aAAa,CAACmC,SAAjD,GAA6DlC,aAAa,CAACkC,SAA5F;IACA,OAAO,KAAKhB,QAAL,CAAcrB,MAAM,CAACmC,UAAU,CAACD,IAAI,CAACE,aAAN,CAAX,EAAiCF,IAAjC,CAApB,CAAP;EACH,CA7B4C;EA8B7CI,OAAO,EAAE,YAAW;IAChB,KAAKjB,QAAL;IACA,KAAKM,eAAL,GAAuB,KAAvB;IACA,KAAKC,YAAL,GAAoB,KAApB;IACAC,YAAY,CAAC,KAAKC,iBAAN,CAAZ;EACH;AAnC4C,CAArB,CAA5B;AAqCAb,qBAAqB,CAACsB,GAAtB,GAA4BlC,QAA5B;AACAY,qBAAqB,CAACuB,aAAtB,GAAsCtC,aAAa,CAACsC,aAApD;AACA,eAAevB,qBAAf"},"metadata":{},"sourceType":"module"}
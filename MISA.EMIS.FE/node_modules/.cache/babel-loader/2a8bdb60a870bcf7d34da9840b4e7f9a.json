{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.size_helper.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth, getHeight, setHeight, setWidth } from \"../../core/utils/size\";\nimport { hasWindow } from \"../../core/utils/window\";\nexport class GanttSizeHelper {\n  constructor(gantt) {\n    this._gantt = gantt;\n  }\n\n  _setTreeListDimension(dimension, value) {\n    var _this$_gantt$_ganttTr;\n\n    var setter = \"width\" === dimension ? setWidth : setHeight;\n    var getter = \"width\" === dimension ? getWidth : getHeight;\n    setter(this._gantt._$treeListWrapper, value);\n    null === (_this$_gantt$_ganttTr = this._gantt._ganttTreeList) || void 0 === _this$_gantt$_ganttTr ? void 0 : _this$_gantt$_ganttTr.setOption(dimension, getter(this._gantt._$treeListWrapper));\n  }\n\n  _setGanttViewDimension(dimension, value) {\n    var setter = \"width\" === dimension ? setWidth : setHeight;\n    var getter = \"width\" === dimension ? getWidth : getHeight;\n    setter(this._gantt._$ganttView, value);\n\n    this._gantt._setGanttViewOption(dimension, getter(this._gantt._$ganttView));\n  }\n\n  _getPanelsWidthByOption() {\n    return {\n      leftPanelWidth: this._gantt.option(\"taskListWidth\"),\n      rightPanelWidth: getWidth(this._gantt._$element) - this._gantt.option(\"taskListWidth\")\n    };\n  }\n\n  onAdjustControl() {\n    var elementHeight = getHeight(this._gantt._$element);\n    this.updateGanttWidth();\n    this.setGanttHeight(elementHeight);\n  }\n\n  onApplyPanelSize(e) {\n    this.setInnerElementsWidth(e);\n    this.updateGanttRowHeights();\n  }\n\n  updateGanttRowHeights() {\n    var rowHeight = this._gantt._ganttTreeList.getRowHeight();\n\n    if (this._gantt._getGanttViewOption(\"rowHeight\") !== rowHeight) {\n      var _this$_gantt$_ganttVi;\n\n      this._gantt._setGanttViewOption(\"rowHeight\", rowHeight);\n\n      null === (_this$_gantt$_ganttVi = this._gantt._ganttView) || void 0 === _this$_gantt$_ganttVi ? void 0 : _this$_gantt$_ganttVi._ganttViewCore.updateRowHeights(rowHeight);\n    }\n  }\n\n  adjustHeight() {\n    if (!this._gantt._hasHeight) {\n      this._gantt._setGanttViewOption(\"height\", 0);\n\n      this._gantt._setGanttViewOption(\"height\", this._gantt._ganttTreeList.getOffsetHeight());\n    }\n  }\n\n  setInnerElementsWidth(widths) {\n    if (!hasWindow()) {\n      return;\n    }\n\n    if (!widths) {\n      widths = this._getPanelsWidthByOption();\n    }\n\n    this._setTreeListDimension(\"width\", widths.leftPanelWidth);\n\n    this._setGanttViewDimension(\"width\", widths.rightPanelWidth);\n  }\n\n  updateGanttWidth() {\n    this._gantt._splitter._dimensionChanged();\n  }\n\n  setGanttHeight(height) {\n    var _this$_gantt$_ganttVi2;\n\n    var toolbarHeightOffset = this._gantt._$toolbarWrapper.get(0).offsetHeight;\n\n    var mainWrapperHeight = height - toolbarHeightOffset;\n\n    this._setTreeListDimension(\"height\", mainWrapperHeight);\n\n    this._setGanttViewDimension(\"height\", mainWrapperHeight);\n\n    null === (_this$_gantt$_ganttVi2 = this._gantt._ganttView) || void 0 === _this$_gantt$_ganttVi2 ? void 0 : _this$_gantt$_ganttVi2._ganttViewCore.resetAndUpdate();\n  }\n\n}","map":{"version":3,"names":["getWidth","getHeight","setHeight","setWidth","hasWindow","GanttSizeHelper","constructor","gantt","_gantt","_setTreeListDimension","dimension","value","_this$_gantt$_ganttTr","setter","getter","_$treeListWrapper","_ganttTreeList","setOption","_setGanttViewDimension","_$ganttView","_setGanttViewOption","_getPanelsWidthByOption","leftPanelWidth","option","rightPanelWidth","_$element","onAdjustControl","elementHeight","updateGanttWidth","setGanttHeight","onApplyPanelSize","e","setInnerElementsWidth","updateGanttRowHeights","rowHeight","getRowHeight","_getGanttViewOption","_this$_gantt$_ganttVi","_ganttView","_ganttViewCore","updateRowHeights","adjustHeight","_hasHeight","getOffsetHeight","widths","_splitter","_dimensionChanged","height","_this$_gantt$_ganttVi2","toolbarHeightOffset","_$toolbarWrapper","get","offsetHeight","mainWrapperHeight","resetAndUpdate"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/gantt/ui.gantt.size_helper.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.size_helper.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getHeight,\r\n    setHeight,\r\n    setWidth\r\n} from \"../../core/utils/size\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nexport class GanttSizeHelper {\r\n    constructor(gantt) {\r\n        this._gantt = gantt\r\n    }\r\n    _setTreeListDimension(dimension, value) {\r\n        var _this$_gantt$_ganttTr;\r\n        var setter = \"width\" === dimension ? setWidth : setHeight;\r\n        var getter = \"width\" === dimension ? getWidth : getHeight;\r\n        setter(this._gantt._$treeListWrapper, value);\r\n        null === (_this$_gantt$_ganttTr = this._gantt._ganttTreeList) || void 0 === _this$_gantt$_ganttTr ? void 0 : _this$_gantt$_ganttTr.setOption(dimension, getter(this._gantt._$treeListWrapper))\r\n    }\r\n    _setGanttViewDimension(dimension, value) {\r\n        var setter = \"width\" === dimension ? setWidth : setHeight;\r\n        var getter = \"width\" === dimension ? getWidth : getHeight;\r\n        setter(this._gantt._$ganttView, value);\r\n        this._gantt._setGanttViewOption(dimension, getter(this._gantt._$ganttView))\r\n    }\r\n    _getPanelsWidthByOption() {\r\n        return {\r\n            leftPanelWidth: this._gantt.option(\"taskListWidth\"),\r\n            rightPanelWidth: getWidth(this._gantt._$element) - this._gantt.option(\"taskListWidth\")\r\n        }\r\n    }\r\n    onAdjustControl() {\r\n        var elementHeight = getHeight(this._gantt._$element);\r\n        this.updateGanttWidth();\r\n        this.setGanttHeight(elementHeight)\r\n    }\r\n    onApplyPanelSize(e) {\r\n        this.setInnerElementsWidth(e);\r\n        this.updateGanttRowHeights()\r\n    }\r\n    updateGanttRowHeights() {\r\n        var rowHeight = this._gantt._ganttTreeList.getRowHeight();\r\n        if (this._gantt._getGanttViewOption(\"rowHeight\") !== rowHeight) {\r\n            var _this$_gantt$_ganttVi;\r\n            this._gantt._setGanttViewOption(\"rowHeight\", rowHeight);\r\n            null === (_this$_gantt$_ganttVi = this._gantt._ganttView) || void 0 === _this$_gantt$_ganttVi ? void 0 : _this$_gantt$_ganttVi._ganttViewCore.updateRowHeights(rowHeight)\r\n        }\r\n    }\r\n    adjustHeight() {\r\n        if (!this._gantt._hasHeight) {\r\n            this._gantt._setGanttViewOption(\"height\", 0);\r\n            this._gantt._setGanttViewOption(\"height\", this._gantt._ganttTreeList.getOffsetHeight())\r\n        }\r\n    }\r\n    setInnerElementsWidth(widths) {\r\n        if (!hasWindow()) {\r\n            return\r\n        }\r\n        if (!widths) {\r\n            widths = this._getPanelsWidthByOption()\r\n        }\r\n        this._setTreeListDimension(\"width\", widths.leftPanelWidth);\r\n        this._setGanttViewDimension(\"width\", widths.rightPanelWidth)\r\n    }\r\n    updateGanttWidth() {\r\n        this._gantt._splitter._dimensionChanged()\r\n    }\r\n    setGanttHeight(height) {\r\n        var _this$_gantt$_ganttVi2;\r\n        var toolbarHeightOffset = this._gantt._$toolbarWrapper.get(0).offsetHeight;\r\n        var mainWrapperHeight = height - toolbarHeightOffset;\r\n        this._setTreeListDimension(\"height\", mainWrapperHeight);\r\n        this._setGanttViewDimension(\"height\", mainWrapperHeight);\r\n        null === (_this$_gantt$_ganttVi2 = this._gantt._ganttView) || void 0 === _this$_gantt$_ganttVi2 ? void 0 : _this$_gantt$_ganttVi2._ganttViewCore.resetAndUpdate()\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
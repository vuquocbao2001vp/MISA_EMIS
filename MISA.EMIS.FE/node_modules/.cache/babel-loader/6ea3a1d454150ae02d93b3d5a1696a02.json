{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/core/base_widget.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { noop } from \"../../core/utils/common\";\nimport { getWindow, hasWindow } from \"../../core/utils/window\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport { isNumeric, isFunction, isDefined, isObject as _isObject, type } from \"../../core/utils/type\";\nimport { each } from \"../../core/utils/iterator\";\nimport _windowResizeCallbacks from \"../../core/utils/resize_callbacks\";\nimport { extend } from \"../../core/utils/extend\";\nimport { BaseThemeManager } from \"../core/base_theme_manager\";\nimport DOMComponent from \"../../core/dom_component\";\nimport { changes, replaceInherit } from \"./helpers\";\nimport { parseScalar as _parseScalar } from \"./utils\";\nimport warnings from \"./errors_warnings\";\nimport { Renderer } from \"./renderers/renderer\";\nimport { getWidth, getHeight } from \"../../core/utils/size\";\nimport _Layout from \"./layout\";\nimport devices from \"../../core/devices\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { when } from \"../../core/utils/deferred\";\nimport { createEventTrigger, createResizeHandler, createIncidentOccurred } from \"./base_widget.utils\";\nvar _floor = Math.floor;\nvar _log = warnings.log;\nvar OPTION_RTL_ENABLED = \"rtlEnabled\";\nvar SIZED_ELEMENT_CLASS = \"dx-sized-element\";\nvar _option = DOMComponent.prototype.option;\n\nfunction getTrue() {\n  return true;\n}\n\nfunction getFalse() {\n  return false;\n}\n\nfunction areCanvasesDifferent(canvas1, canvas2) {\n  return !(canvas1.width === canvas2.width && canvas1.height === canvas2.height && canvas1.left === canvas2.left && canvas1.top === canvas2.top && canvas1.right === canvas2.right && canvas1.bottom === canvas2.bottom);\n}\n\nfunction defaultOnIncidentOccurred(e) {\n  if (!e.component._eventsStrategy.hasEvent(\"incidentOccurred\")) {\n    _log.apply(null, [e.target.id].concat(e.target.args || []));\n  }\n}\n\nfunction pickPositiveValue(values) {\n  return values.reduce(function (result, value) {\n    return value > 0 && !result ? value : result;\n  }, 0);\n}\n\nvar getEmptyComponent = function () {\n  var emptyComponentConfig = {\n    _initTemplates() {},\n\n    ctor(element, options) {\n      this.callBase(element, options);\n      var sizedElement = domAdapter.createElement(\"div\");\n      var width = options && isNumeric(options.width) ? options.width + \"px\" : \"100%\";\n      var height = options && isNumeric(options.height) ? options.height + \"px\" : this._getDefaultSize().height + \"px\";\n      domAdapter.setStyle(sizedElement, \"width\", width);\n      domAdapter.setStyle(sizedElement, \"height\", height);\n      domAdapter.setClass(sizedElement, SIZED_ELEMENT_CLASS);\n      domAdapter.insertElement(element, sizedElement);\n    }\n\n  };\n  var EmptyComponent = DOMComponent.inherit(emptyComponentConfig);\n  var originalInherit = EmptyComponent.inherit;\n\n  EmptyComponent.inherit = function (config) {\n    for (var field in config) {\n      if (isFunction(config[field]) && \"_\" !== field.substr(0, 1) && \"option\" !== field || \"_dispose\" === field || \"_optionChanged\" === field) {\n        config[field] = noop;\n      }\n    }\n\n    return originalInherit.call(this, config);\n  };\n\n  return EmptyComponent;\n};\n\nfunction callForEach(functions) {\n  functions.forEach(c => c());\n}\n\nvar isServerSide = !hasWindow();\n\nfunction sizeIsValid(value) {\n  return isDefined(value) && value > 0;\n}\n\nvar baseWidget = isServerSide ? getEmptyComponent() : DOMComponent.inherit({\n  _eventsMap: {\n    onIncidentOccurred: {\n      name: \"incidentOccurred\",\n      actionSettings: {\n        excludeValidators: [\"disabled\"]\n      }\n    },\n    onDrawn: {\n      name: \"drawn\",\n      actionSettings: {\n        excludeValidators: [\"disabled\"]\n      }\n    }\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      onIncidentOccurred: defaultOnIncidentOccurred\n    });\n  },\n  _useLinks: true,\n  _init: function () {\n    var that = this;\n\n    that._$element.children(\".\" + SIZED_ELEMENT_CLASS).remove();\n\n    that.callBase.apply(that, arguments);\n    that._changesLocker = 0;\n    that._optionChangedLocker = 0;\n    that._asyncFirstDrawing = true;\n    that._changes = changes();\n\n    that._suspendChanges();\n\n    that._themeManager = that._createThemeManager();\n\n    that._themeManager.setCallback(function () {\n      that._requestChange(that._themeDependentChanges);\n    });\n\n    that._renderElementAttributes();\n\n    that._initRenderer();\n\n    var linkTarget = that._useLinks && that._renderer.root;\n    linkTarget && linkTarget.enableLinks().virtualLink(\"core\").virtualLink(\"peripheral\");\n\n    that._renderVisibilityChange();\n\n    that._attachVisibilityChangeHandlers();\n\n    that._toggleParentsScrollSubscription(this._isVisible());\n\n    that._initEventTrigger();\n\n    that._incidentOccurred = createIncidentOccurred(that.NAME, that._eventTrigger);\n    that._layout = new _Layout();\n    linkTarget && linkTarget.linkAfter(\"core\");\n\n    that._initPlugins();\n\n    that._initCore();\n\n    linkTarget && linkTarget.linkAfter();\n\n    that._change(that._initialChanges);\n  },\n\n  _createThemeManager() {\n    return new BaseThemeManager(this._getThemeManagerOptions());\n  },\n\n  _getThemeManagerOptions() {\n    return {\n      themeSection: this._themeSection,\n      fontFields: this._fontFields\n    };\n  },\n\n  _initialChanges: [\"LAYOUT\", \"RESIZE_HANDLER\", \"THEME\", \"DISABLED\"],\n  _initPlugins: function () {\n    var that = this;\n    each(that._plugins, function (_, plugin) {\n      plugin.init.call(that);\n    });\n  },\n  _disposePlugins: function () {\n    var that = this;\n    each(that._plugins.slice().reverse(), function (_, plugin) {\n      plugin.dispose.call(that);\n    });\n  },\n  _change: function (codes) {\n    this._changes.add(codes);\n  },\n  _suspendChanges: function () {\n    ++this._changesLocker;\n  },\n  _resumeChanges: function () {\n    if (0 === --this._changesLocker && this._changes.count() > 0 && !this._applyingChanges) {\n      this._renderer.lock();\n\n      this._applyingChanges = true;\n\n      this._applyChanges();\n\n      this._changes.reset();\n\n      this._applyingChanges = false;\n\n      this._changesApplied();\n\n      this._renderer.unlock();\n\n      if (this._optionsQueue) {\n        this._applyQueuedOptions();\n      }\n\n      this.resolveItemsDeferred(this._legend ? [this._legend] : []);\n      this._optionChangedLocker++;\n\n      this._notify();\n\n      this._optionChangedLocker--;\n    }\n  },\n\n  resolveItemsDeferred(items) {\n    this._resolveDeferred(this._getTemplatesItems(items));\n  },\n\n  _collectTemplatesFromItems: items => items.reduce((prev, i) => ({\n    items: prev.items.concat(i.getTemplatesDef()),\n    groups: prev.groups.concat(i.getTemplatesGroups())\n  }), {\n    items: [],\n    groups: []\n  }),\n\n  _getTemplatesItems(items) {\n    var elements = this._collectTemplatesFromItems(items);\n\n    var extraItems = this._getExtraTemplatesItems();\n\n    return {\n      items: extraItems.items.concat(elements.items),\n      groups: extraItems.groups.concat(elements.groups),\n      launchRequest: [extraItems.launchRequest],\n      doneRequest: [extraItems.doneRequest]\n    };\n  },\n\n  _getExtraTemplatesItems: () => ({\n    items: [],\n    groups: [],\n    launchRequest: () => {},\n    doneRequest: () => {}\n  }),\n\n  _resolveDeferred(_ref) {\n    var {\n      items: items,\n      launchRequest: launchRequest,\n      doneRequest: doneRequest,\n      groups: groups\n    } = _ref;\n    var that = this;\n\n    that._setGroupsVisibility(groups, \"hidden\");\n\n    if (that._changesApplying) {\n      that._changesApplying = false;\n      callForEach(doneRequest);\n      return;\n    }\n\n    var syncRendering = true;\n    when.apply(that, items).done(() => {\n      if (syncRendering) {\n        that._setGroupsVisibility(groups, \"visible\");\n\n        return;\n      }\n\n      callForEach(launchRequest);\n      that._changesApplying = true;\n      var changes = [\"LAYOUT\", \"FULL_RENDER\"];\n\n      if (that._asyncFirstDrawing) {\n        changes.push(\"FORCE_FIRST_DRAWING\");\n        that._asyncFirstDrawing = false;\n      } else {\n        changes.push(\"FORCE_DRAWING\");\n      }\n\n      that._requestChange(changes);\n\n      that._setGroupsVisibility(groups, \"visible\");\n    });\n    syncRendering = false;\n  },\n\n  _setGroupsVisibility(groups, visibility) {\n    groups.forEach(g => g.attr({\n      visibility: visibility\n    }));\n  },\n\n  _applyQueuedOptions: function () {\n    var queue = this._optionsQueue;\n    this._optionsQueue = null;\n    this.beginUpdate();\n    each(queue, function (_, action) {\n      action();\n    });\n    this.endUpdate();\n  },\n  _requestChange: function (codes) {\n    this._suspendChanges();\n\n    this._change(codes);\n\n    this._resumeChanges();\n  },\n  _applyChanges: function () {\n    var changes = this._changes;\n    var order = this._totalChangesOrder;\n    var i;\n    var ii = order.length;\n\n    for (i = 0; i < ii; ++i) {\n      if (changes.has(order[i])) {\n        this[\"_change_\" + order[i]]();\n      }\n    }\n  },\n  _optionChangesOrder: [\"EVENTS\", \"THEME\", \"RENDERER\", \"RESIZE_HANDLER\"],\n  _layoutChangesOrder: [\"ELEMENT_ATTR\", \"CONTAINER_SIZE\", \"LAYOUT\"],\n  _customChangesOrder: [\"DISABLED\"],\n  _change_EVENTS: function () {\n    this._eventTrigger.applyChanges();\n  },\n  _change_THEME: function () {\n    this._setThemeAndRtl();\n  },\n  _change_RENDERER: function () {\n    this._setRendererOptions();\n  },\n  _change_RESIZE_HANDLER: function () {\n    this._setupResizeHandler();\n  },\n  _change_ELEMENT_ATTR: function () {\n    this._renderElementAttributes();\n\n    this._change([\"CONTAINER_SIZE\"]);\n  },\n  _change_CONTAINER_SIZE: function () {\n    this._updateSize();\n  },\n  _change_LAYOUT: function () {\n    this._setContentSize();\n  },\n  _change_DISABLED: function () {\n    var renderer = this._renderer;\n    var root = renderer.root;\n\n    if (this.option(\"disabled\")) {\n      this._initDisabledState = root.attr(\"pointer-events\");\n      root.attr({\n        \"pointer-events\": \"none\",\n        filter: renderer.getGrayScaleFilter().id\n      });\n    } else if (\"none\" === root.attr(\"pointer-events\")) {\n      root.attr({\n        \"pointer-events\": isDefined(this._initDisabledState) ? this._initDisabledState : null,\n        filter: null\n      });\n    }\n  },\n  _themeDependentChanges: [\"RENDERER\"],\n  _initRenderer: function () {\n    this._canvas = this._calculateCanvas();\n    this._renderer = new Renderer({\n      cssClass: this._rootClassPrefix + \" \" + this._rootClass,\n      pathModified: this.option(\"pathModified\"),\n      container: this._$element[0]\n    });\n\n    this._renderer.resize(this._canvas.width, this._canvas.height);\n  },\n  _disposeRenderer: function () {\n    this._renderer.dispose();\n  },\n  _getAnimationOptions: noop,\n  render: function () {\n    this._requestChange([\"CONTAINER_SIZE\"]);\n\n    var visible = this._isVisible();\n\n    this._toggleParentsScrollSubscription(visible);\n\n    !visible && this._stopCurrentHandling();\n  },\n  _toggleParentsScrollSubscription: function (subscribe) {\n    var $parents = $(this._renderer.root.element).parents();\n\n    if (\"generic\" === devices.real().platform) {\n      $parents = $parents.add(getWindow());\n    }\n\n    this._proxiedTargetParentsScrollHandler = this._proxiedTargetParentsScrollHandler || function () {\n      this._stopCurrentHandling();\n    }.bind(this);\n\n    eventsEngine.off($().add(this._$prevRootParents), \"scroll.viz_widgets\", this._proxiedTargetParentsScrollHandler);\n\n    if (subscribe) {\n      eventsEngine.on($parents, \"scroll.viz_widgets\", this._proxiedTargetParentsScrollHandler);\n      this._$prevRootParents = $parents;\n    }\n  },\n  _stopCurrentHandling: noop,\n  _dispose: function () {\n    var that = this;\n    that.callBase.apply(that, arguments);\n\n    that._toggleParentsScrollSubscription(false);\n\n    that._removeResizeHandler();\n\n    that._layout.dispose();\n\n    that._eventTrigger.dispose();\n\n    that._disposeCore();\n\n    that._disposePlugins();\n\n    that._disposeRenderer();\n\n    that._themeManager.dispose();\n\n    that._themeManager = that._renderer = that._eventTrigger = null;\n  },\n  _initEventTrigger: function () {\n    var that = this;\n    that._eventTrigger = createEventTrigger(that._eventsMap, function (name, actionSettings) {\n      return that._createActionByOption(name, actionSettings);\n    });\n  },\n  _calculateCanvas: function () {\n    var that = this;\n    var size = that.option(\"size\") || {};\n    var margin = that.option(\"margin\") || {};\n    var defaultCanvas = that._getDefaultSize() || {};\n\n    var getSizeOfSide = (size, side, getter) => {\n      if (sizeIsValid(size[side]) || !hasWindow()) {\n        return 0;\n      }\n\n      var elementSize = getter(that._$element);\n      return elementSize <= 1 ? 0 : elementSize;\n    };\n\n    var elementWidth = getSizeOfSide(size, \"width\", x => getWidth(x));\n    var elementHeight = getSizeOfSide(size, \"height\", x => getHeight(x));\n    var canvas = {\n      width: size.width <= 0 ? 0 : _floor(pickPositiveValue([size.width, elementWidth, defaultCanvas.width])),\n      height: size.height <= 0 ? 0 : _floor(pickPositiveValue([size.height, elementHeight, defaultCanvas.height])),\n      left: pickPositiveValue([margin.left, defaultCanvas.left]),\n      top: pickPositiveValue([margin.top, defaultCanvas.top]),\n      right: pickPositiveValue([margin.right, defaultCanvas.right]),\n      bottom: pickPositiveValue([margin.bottom, defaultCanvas.bottom])\n    };\n\n    if (canvas.width - canvas.left - canvas.right <= 0 || canvas.height - canvas.top - canvas.bottom <= 0) {\n      canvas = {\n        width: 0,\n        height: 0\n      };\n    }\n\n    return canvas;\n  },\n  _updateSize: function () {\n    var canvas = this._calculateCanvas();\n\n    this._renderer.fixPlacement();\n\n    if (areCanvasesDifferent(this._canvas, canvas) || this.__forceRender) {\n      this._canvas = canvas;\n\n      this._recreateSizeDependentObjects(true);\n\n      this._renderer.resize(canvas.width, canvas.height);\n\n      this._change([\"LAYOUT\"]);\n    }\n  },\n  _recreateSizeDependentObjects: noop,\n  _getMinSize: function () {\n    return [0, 0];\n  },\n  _getAlignmentRect: noop,\n  _setContentSize: function () {\n    var canvas = this._canvas;\n    var layout = this._layout;\n    var rect = canvas.width > 0 && canvas.height > 0 ? [canvas.left, canvas.top, canvas.width - canvas.right, canvas.height - canvas.bottom] : [0, 0, 0, 0];\n    rect = layout.forward(rect, this._getMinSize());\n    var nextRect = this._applySize(rect) || rect;\n    layout.backward(nextRect, this._getAlignmentRect() || nextRect);\n  },\n  _getOption: function (name, isScalar) {\n    var theme = this._themeManager.theme(name);\n\n    var option = this.option(name);\n    return isScalar ? void 0 !== option ? option : theme : extend(true, {}, theme, option);\n  },\n  _setupResizeHandler: function () {\n    var that = this;\n\n    var redrawOnResize = _parseScalar(this._getOption(\"redrawOnResize\", true), true);\n\n    if (that._resizeHandler) {\n      that._removeResizeHandler();\n    }\n\n    that._resizeHandler = createResizeHandler(function () {\n      if (redrawOnResize) {\n        that._requestChange([\"CONTAINER_SIZE\"]);\n      } else {\n        that._renderer.fixPlacement();\n      }\n    });\n\n    _windowResizeCallbacks.add(that._resizeHandler);\n  },\n  _removeResizeHandler: function () {\n    if (this._resizeHandler) {\n      _windowResizeCallbacks.remove(this._resizeHandler);\n\n      this._resizeHandler.dispose();\n\n      this._resizeHandler = null;\n    }\n  },\n  _onBeginUpdate: noop,\n  beginUpdate: function () {\n    var that = this;\n\n    if (that._initialized && that._isUpdateAllowed()) {\n      that._onBeginUpdate();\n\n      that._suspendChanges();\n    }\n\n    that.callBase.apply(that, arguments);\n    return that;\n  },\n  endUpdate: function () {\n    this.callBase();\n    this._isUpdateAllowed() && this._resumeChanges();\n    return this;\n  },\n  option: function (name) {\n    var that = this;\n\n    if (that._initialized && that._applyingChanges && (arguments.length > 1 || _isObject(name))) {\n      that._optionsQueue = that._optionsQueue || [];\n\n      that._optionsQueue.push(that._getActionForUpdating(arguments));\n    } else {\n      return _option.apply(that, arguments);\n    }\n  },\n  _getActionForUpdating: function (args) {\n    var that = this;\n    return function () {\n      _option.apply(that, args);\n    };\n  },\n  _clean: noop,\n  _render: noop,\n  _optionChanged: function (arg) {\n    var that = this;\n\n    if (that._optionChangedLocker) {\n      return;\n    }\n\n    var partialChanges = that.getPartialChangeOptionsName(arg);\n    var changes = [];\n\n    if (partialChanges.length > 0) {\n      partialChanges.forEach(pc => changes.push(that._partialOptionChangesMap[pc]));\n    } else {\n      changes.push(that._optionChangesMap[arg.name]);\n    }\n\n    changes = changes.filter(c => !!c);\n\n    if (that._eventTrigger.change(arg.name)) {\n      that._change([\"EVENTS\"]);\n    } else if (changes.length > 0) {\n      that._change(changes);\n    } else {\n      that.callBase.apply(that, arguments);\n    }\n  },\n  _notify: noop,\n  _changesApplied: noop,\n  _optionChangesMap: {\n    size: \"CONTAINER_SIZE\",\n    margin: \"CONTAINER_SIZE\",\n    redrawOnResize: \"RESIZE_HANDLER\",\n    theme: \"THEME\",\n    rtlEnabled: \"THEME\",\n    encodeHtml: \"THEME\",\n    elementAttr: \"ELEMENT_ATTR\",\n    disabled: \"DISABLED\"\n  },\n  _partialOptionChangesMap: {},\n  _partialOptionChangesPath: {},\n  getPartialChangeOptionsName: function (changedOption) {\n    var that = this;\n    var fullName = changedOption.fullName;\n    var sections = fullName.split(/[.]/);\n    var name = changedOption.name;\n    var value = changedOption.value;\n    var options = this._partialOptionChangesPath[name];\n    var partialChangeOptionsName = [];\n\n    if (options) {\n      if (true === options) {\n        partialChangeOptionsName.push(name);\n      } else {\n        options.forEach(op => {\n          fullName.indexOf(op) >= 0 && partialChangeOptionsName.push(op);\n        });\n\n        if (1 === sections.length) {\n          if (\"object\" === type(value)) {\n            that._addOptionsNameForPartialUpdate(value, options, partialChangeOptionsName);\n          } else if (\"array\" === type(value)) {\n            if (value.length > 0 && value.every(item => that._checkOptionsForPartialUpdate(item, options))) {\n              value.forEach(item => that._addOptionsNameForPartialUpdate(item, options, partialChangeOptionsName));\n            }\n          }\n        }\n      }\n    }\n\n    return partialChangeOptionsName.filter((value, index, self) => self.indexOf(value) === index);\n  },\n  _checkOptionsForPartialUpdate: function (optionObject, options) {\n    return !Object.keys(optionObject).some(key => -1 === options.indexOf(key));\n  },\n  _addOptionsNameForPartialUpdate: function (optionObject, options, partialChangeOptionsName) {\n    var optionKeys = Object.keys(optionObject);\n\n    if (this._checkOptionsForPartialUpdate(optionObject, options)) {\n      optionKeys.forEach(key => options.indexOf(key) > -1 && partialChangeOptionsName.push(key));\n    }\n  },\n  _visibilityChanged: function () {\n    this.render();\n  },\n  _setThemeAndRtl: function () {\n    this._themeManager.setTheme(this.option(\"theme\"), this.option(OPTION_RTL_ENABLED));\n  },\n  _getRendererOptions: function () {\n    return {\n      rtl: this.option(OPTION_RTL_ENABLED),\n      encodeHtml: this.option(\"encodeHtml\"),\n      animation: this._getAnimationOptions()\n    };\n  },\n  _setRendererOptions: function () {\n    this._renderer.setOptions(this._getRendererOptions());\n  },\n  svg: function () {\n    return this._renderer.svg();\n  },\n  getSize: function () {\n    var canvas = this._canvas || {};\n    return {\n      width: canvas.width,\n      height: canvas.height\n    };\n  },\n  isReady: getFalse,\n  _dataIsReady: getTrue,\n  _resetIsReady: function () {\n    this.isReady = getFalse;\n  },\n  _drawn: function () {\n    var that = this;\n    that.isReady = getFalse;\n\n    if (that._dataIsReady()) {\n      that._renderer.onEndAnimation(function () {\n        that.isReady = getTrue;\n      });\n    }\n\n    that._eventTrigger(\"drawn\", {});\n  }\n});\nexport default baseWidget;\nreplaceInherit(baseWidget);","map":{"version":3,"names":["$","noop","getWindow","hasWindow","domAdapter","isNumeric","isFunction","isDefined","isObject","_isObject","type","each","_windowResizeCallbacks","extend","BaseThemeManager","DOMComponent","changes","replaceInherit","parseScalar","_parseScalar","warnings","Renderer","getWidth","getHeight","_Layout","devices","eventsEngine","when","createEventTrigger","createResizeHandler","createIncidentOccurred","_floor","Math","floor","_log","log","OPTION_RTL_ENABLED","SIZED_ELEMENT_CLASS","_option","prototype","option","getTrue","getFalse","areCanvasesDifferent","canvas1","canvas2","width","height","left","top","right","bottom","defaultOnIncidentOccurred","e","component","_eventsStrategy","hasEvent","apply","target","id","concat","args","pickPositiveValue","values","reduce","result","value","getEmptyComponent","emptyComponentConfig","_initTemplates","ctor","element","options","callBase","sizedElement","createElement","_getDefaultSize","setStyle","setClass","insertElement","EmptyComponent","inherit","originalInherit","config","field","substr","call","callForEach","functions","forEach","c","isServerSide","sizeIsValid","baseWidget","_eventsMap","onIncidentOccurred","name","actionSettings","excludeValidators","onDrawn","_getDefaultOptions","_useLinks","_init","that","_$element","children","remove","arguments","_changesLocker","_optionChangedLocker","_asyncFirstDrawing","_changes","_suspendChanges","_themeManager","_createThemeManager","setCallback","_requestChange","_themeDependentChanges","_renderElementAttributes","_initRenderer","linkTarget","_renderer","root","enableLinks","virtualLink","_renderVisibilityChange","_attachVisibilityChangeHandlers","_toggleParentsScrollSubscription","_isVisible","_initEventTrigger","_incidentOccurred","NAME","_eventTrigger","_layout","linkAfter","_initPlugins","_initCore","_change","_initialChanges","_getThemeManagerOptions","themeSection","_themeSection","fontFields","_fontFields","_plugins","_","plugin","init","_disposePlugins","slice","reverse","dispose","codes","add","_resumeChanges","count","_applyingChanges","lock","_applyChanges","reset","_changesApplied","unlock","_optionsQueue","_applyQueuedOptions","resolveItemsDeferred","_legend","_notify","items","_resolveDeferred","_getTemplatesItems","_collectTemplatesFromItems","prev","i","getTemplatesDef","groups","getTemplatesGroups","elements","extraItems","_getExtraTemplatesItems","launchRequest","doneRequest","_ref","_setGroupsVisibility","_changesApplying","syncRendering","done","push","visibility","g","attr","queue","beginUpdate","action","endUpdate","order","_totalChangesOrder","ii","length","has","_optionChangesOrder","_layoutChangesOrder","_customChangesOrder","_change_EVENTS","applyChanges","_change_THEME","_setThemeAndRtl","_change_RENDERER","_setRendererOptions","_change_RESIZE_HANDLER","_setupResizeHandler","_change_ELEMENT_ATTR","_change_CONTAINER_SIZE","_updateSize","_change_LAYOUT","_setContentSize","_change_DISABLED","renderer","_initDisabledState","filter","getGrayScaleFilter","_canvas","_calculateCanvas","cssClass","_rootClassPrefix","_rootClass","pathModified","container","resize","_disposeRenderer","_getAnimationOptions","render","visible","_stopCurrentHandling","subscribe","$parents","parents","real","platform","_proxiedTargetParentsScrollHandler","bind","off","_$prevRootParents","on","_dispose","_removeResizeHandler","_disposeCore","_createActionByOption","size","margin","defaultCanvas","getSizeOfSide","side","getter","elementSize","elementWidth","x","elementHeight","canvas","fixPlacement","__forceRender","_recreateSizeDependentObjects","_getMinSize","_getAlignmentRect","layout","rect","forward","nextRect","_applySize","backward","_getOption","isScalar","theme","redrawOnResize","_resizeHandler","_onBeginUpdate","_initialized","_isUpdateAllowed","_getActionForUpdating","_clean","_render","_optionChanged","arg","partialChanges","getPartialChangeOptionsName","pc","_partialOptionChangesMap","_optionChangesMap","change","rtlEnabled","encodeHtml","elementAttr","disabled","_partialOptionChangesPath","changedOption","fullName","sections","split","partialChangeOptionsName","op","indexOf","_addOptionsNameForPartialUpdate","every","item","_checkOptionsForPartialUpdate","index","self","optionObject","Object","keys","some","key","optionKeys","_visibilityChanged","setTheme","_getRendererOptions","rtl","animation","setOptions","svg","getSize","isReady","_dataIsReady","_resetIsReady","_drawn","onEndAnimation"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/core/base_widget.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/core/base_widget.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    getWindow,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    isNumeric,\r\n    isFunction,\r\n    isDefined,\r\n    isObject as _isObject,\r\n    type\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport _windowResizeCallbacks from \"../../core/utils/resize_callbacks\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    BaseThemeManager\r\n} from \"../core/base_theme_manager\";\r\nimport DOMComponent from \"../../core/dom_component\";\r\nimport {\r\n    changes,\r\n    replaceInherit\r\n} from \"./helpers\";\r\nimport {\r\n    parseScalar as _parseScalar\r\n} from \"./utils\";\r\nimport warnings from \"./errors_warnings\";\r\nimport {\r\n    Renderer\r\n} from \"./renderers/renderer\";\r\nimport {\r\n    getWidth,\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport _Layout from \"./layout\";\r\nimport devices from \"../../core/devices\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    createEventTrigger,\r\n    createResizeHandler,\r\n    createIncidentOccurred\r\n} from \"./base_widget.utils\";\r\nvar _floor = Math.floor;\r\nvar _log = warnings.log;\r\nvar OPTION_RTL_ENABLED = \"rtlEnabled\";\r\nvar SIZED_ELEMENT_CLASS = \"dx-sized-element\";\r\nvar _option = DOMComponent.prototype.option;\r\n\r\nfunction getTrue() {\r\n    return true\r\n}\r\n\r\nfunction getFalse() {\r\n    return false\r\n}\r\n\r\nfunction areCanvasesDifferent(canvas1, canvas2) {\r\n    return !(canvas1.width === canvas2.width && canvas1.height === canvas2.height && canvas1.left === canvas2.left && canvas1.top === canvas2.top && canvas1.right === canvas2.right && canvas1.bottom === canvas2.bottom)\r\n}\r\n\r\nfunction defaultOnIncidentOccurred(e) {\r\n    if (!e.component._eventsStrategy.hasEvent(\"incidentOccurred\")) {\r\n        _log.apply(null, [e.target.id].concat(e.target.args || []))\r\n    }\r\n}\r\n\r\nfunction pickPositiveValue(values) {\r\n    return values.reduce((function(result, value) {\r\n        return value > 0 && !result ? value : result\r\n    }), 0)\r\n}\r\nvar getEmptyComponent = function() {\r\n    var emptyComponentConfig = {\r\n        _initTemplates() {},\r\n        ctor(element, options) {\r\n            this.callBase(element, options);\r\n            var sizedElement = domAdapter.createElement(\"div\");\r\n            var width = options && isNumeric(options.width) ? options.width + \"px\" : \"100%\";\r\n            var height = options && isNumeric(options.height) ? options.height + \"px\" : this._getDefaultSize().height + \"px\";\r\n            domAdapter.setStyle(sizedElement, \"width\", width);\r\n            domAdapter.setStyle(sizedElement, \"height\", height);\r\n            domAdapter.setClass(sizedElement, SIZED_ELEMENT_CLASS);\r\n            domAdapter.insertElement(element, sizedElement)\r\n        }\r\n    };\r\n    var EmptyComponent = DOMComponent.inherit(emptyComponentConfig);\r\n    var originalInherit = EmptyComponent.inherit;\r\n    EmptyComponent.inherit = function(config) {\r\n        for (var field in config) {\r\n            if (isFunction(config[field]) && \"_\" !== field.substr(0, 1) && \"option\" !== field || \"_dispose\" === field || \"_optionChanged\" === field) {\r\n                config[field] = noop\r\n            }\r\n        }\r\n        return originalInherit.call(this, config)\r\n    };\r\n    return EmptyComponent\r\n};\r\n\r\nfunction callForEach(functions) {\r\n    functions.forEach(c => c())\r\n}\r\nvar isServerSide = !hasWindow();\r\n\r\nfunction sizeIsValid(value) {\r\n    return isDefined(value) && value > 0\r\n}\r\nvar baseWidget = isServerSide ? getEmptyComponent() : DOMComponent.inherit({\r\n    _eventsMap: {\r\n        onIncidentOccurred: {\r\n            name: \"incidentOccurred\",\r\n            actionSettings: {\r\n                excludeValidators: [\"disabled\"]\r\n            }\r\n        },\r\n        onDrawn: {\r\n            name: \"drawn\",\r\n            actionSettings: {\r\n                excludeValidators: [\"disabled\"]\r\n            }\r\n        }\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            onIncidentOccurred: defaultOnIncidentOccurred\r\n        })\r\n    },\r\n    _useLinks: true,\r\n    _init: function() {\r\n        var that = this;\r\n        that._$element.children(\".\" + SIZED_ELEMENT_CLASS).remove();\r\n        that.callBase.apply(that, arguments);\r\n        that._changesLocker = 0;\r\n        that._optionChangedLocker = 0;\r\n        that._asyncFirstDrawing = true;\r\n        that._changes = changes();\r\n        that._suspendChanges();\r\n        that._themeManager = that._createThemeManager();\r\n        that._themeManager.setCallback((function() {\r\n            that._requestChange(that._themeDependentChanges)\r\n        }));\r\n        that._renderElementAttributes();\r\n        that._initRenderer();\r\n        var linkTarget = that._useLinks && that._renderer.root;\r\n        linkTarget && linkTarget.enableLinks().virtualLink(\"core\").virtualLink(\"peripheral\");\r\n        that._renderVisibilityChange();\r\n        that._attachVisibilityChangeHandlers();\r\n        that._toggleParentsScrollSubscription(this._isVisible());\r\n        that._initEventTrigger();\r\n        that._incidentOccurred = createIncidentOccurred(that.NAME, that._eventTrigger);\r\n        that._layout = new _Layout;\r\n        linkTarget && linkTarget.linkAfter(\"core\");\r\n        that._initPlugins();\r\n        that._initCore();\r\n        linkTarget && linkTarget.linkAfter();\r\n        that._change(that._initialChanges)\r\n    },\r\n    _createThemeManager() {\r\n        return new BaseThemeManager(this._getThemeManagerOptions())\r\n    },\r\n    _getThemeManagerOptions() {\r\n        return {\r\n            themeSection: this._themeSection,\r\n            fontFields: this._fontFields\r\n        }\r\n    },\r\n    _initialChanges: [\"LAYOUT\", \"RESIZE_HANDLER\", \"THEME\", \"DISABLED\"],\r\n    _initPlugins: function() {\r\n        var that = this;\r\n        each(that._plugins, (function(_, plugin) {\r\n            plugin.init.call(that)\r\n        }))\r\n    },\r\n    _disposePlugins: function() {\r\n        var that = this;\r\n        each(that._plugins.slice().reverse(), (function(_, plugin) {\r\n            plugin.dispose.call(that)\r\n        }))\r\n    },\r\n    _change: function(codes) {\r\n        this._changes.add(codes)\r\n    },\r\n    _suspendChanges: function() {\r\n        ++this._changesLocker\r\n    },\r\n    _resumeChanges: function() {\r\n        if (0 === --this._changesLocker && this._changes.count() > 0 && !this._applyingChanges) {\r\n            this._renderer.lock();\r\n            this._applyingChanges = true;\r\n            this._applyChanges();\r\n            this._changes.reset();\r\n            this._applyingChanges = false;\r\n            this._changesApplied();\r\n            this._renderer.unlock();\r\n            if (this._optionsQueue) {\r\n                this._applyQueuedOptions()\r\n            }\r\n            this.resolveItemsDeferred(this._legend ? [this._legend] : []);\r\n            this._optionChangedLocker++;\r\n            this._notify();\r\n            this._optionChangedLocker--\r\n        }\r\n    },\r\n    resolveItemsDeferred(items) {\r\n        this._resolveDeferred(this._getTemplatesItems(items))\r\n    },\r\n    _collectTemplatesFromItems: items => items.reduce((prev, i) => ({\r\n        items: prev.items.concat(i.getTemplatesDef()),\r\n        groups: prev.groups.concat(i.getTemplatesGroups())\r\n    }), {\r\n        items: [],\r\n        groups: []\r\n    }),\r\n    _getTemplatesItems(items) {\r\n        var elements = this._collectTemplatesFromItems(items);\r\n        var extraItems = this._getExtraTemplatesItems();\r\n        return {\r\n            items: extraItems.items.concat(elements.items),\r\n            groups: extraItems.groups.concat(elements.groups),\r\n            launchRequest: [extraItems.launchRequest],\r\n            doneRequest: [extraItems.doneRequest]\r\n        }\r\n    },\r\n    _getExtraTemplatesItems: () => ({\r\n        items: [],\r\n        groups: [],\r\n        launchRequest: () => {},\r\n        doneRequest: () => {}\r\n    }),\r\n    _resolveDeferred(_ref) {\r\n        var {\r\n            items: items,\r\n            launchRequest: launchRequest,\r\n            doneRequest: doneRequest,\r\n            groups: groups\r\n        } = _ref;\r\n        var that = this;\r\n        that._setGroupsVisibility(groups, \"hidden\");\r\n        if (that._changesApplying) {\r\n            that._changesApplying = false;\r\n            callForEach(doneRequest);\r\n            return\r\n        }\r\n        var syncRendering = true;\r\n        when.apply(that, items).done(() => {\r\n            if (syncRendering) {\r\n                that._setGroupsVisibility(groups, \"visible\");\r\n                return\r\n            }\r\n            callForEach(launchRequest);\r\n            that._changesApplying = true;\r\n            var changes = [\"LAYOUT\", \"FULL_RENDER\"];\r\n            if (that._asyncFirstDrawing) {\r\n                changes.push(\"FORCE_FIRST_DRAWING\");\r\n                that._asyncFirstDrawing = false\r\n            } else {\r\n                changes.push(\"FORCE_DRAWING\")\r\n            }\r\n            that._requestChange(changes);\r\n            that._setGroupsVisibility(groups, \"visible\")\r\n        });\r\n        syncRendering = false\r\n    },\r\n    _setGroupsVisibility(groups, visibility) {\r\n        groups.forEach(g => g.attr({\r\n            visibility: visibility\r\n        }))\r\n    },\r\n    _applyQueuedOptions: function() {\r\n        var queue = this._optionsQueue;\r\n        this._optionsQueue = null;\r\n        this.beginUpdate();\r\n        each(queue, (function(_, action) {\r\n            action()\r\n        }));\r\n        this.endUpdate()\r\n    },\r\n    _requestChange: function(codes) {\r\n        this._suspendChanges();\r\n        this._change(codes);\r\n        this._resumeChanges()\r\n    },\r\n    _applyChanges: function() {\r\n        var changes = this._changes;\r\n        var order = this._totalChangesOrder;\r\n        var i;\r\n        var ii = order.length;\r\n        for (i = 0; i < ii; ++i) {\r\n            if (changes.has(order[i])) {\r\n                this[\"_change_\" + order[i]]()\r\n            }\r\n        }\r\n    },\r\n    _optionChangesOrder: [\"EVENTS\", \"THEME\", \"RENDERER\", \"RESIZE_HANDLER\"],\r\n    _layoutChangesOrder: [\"ELEMENT_ATTR\", \"CONTAINER_SIZE\", \"LAYOUT\"],\r\n    _customChangesOrder: [\"DISABLED\"],\r\n    _change_EVENTS: function() {\r\n        this._eventTrigger.applyChanges()\r\n    },\r\n    _change_THEME: function() {\r\n        this._setThemeAndRtl()\r\n    },\r\n    _change_RENDERER: function() {\r\n        this._setRendererOptions()\r\n    },\r\n    _change_RESIZE_HANDLER: function() {\r\n        this._setupResizeHandler()\r\n    },\r\n    _change_ELEMENT_ATTR: function() {\r\n        this._renderElementAttributes();\r\n        this._change([\"CONTAINER_SIZE\"])\r\n    },\r\n    _change_CONTAINER_SIZE: function() {\r\n        this._updateSize()\r\n    },\r\n    _change_LAYOUT: function() {\r\n        this._setContentSize()\r\n    },\r\n    _change_DISABLED: function() {\r\n        var renderer = this._renderer;\r\n        var root = renderer.root;\r\n        if (this.option(\"disabled\")) {\r\n            this._initDisabledState = root.attr(\"pointer-events\");\r\n            root.attr({\r\n                \"pointer-events\": \"none\",\r\n                filter: renderer.getGrayScaleFilter().id\r\n            })\r\n        } else if (\"none\" === root.attr(\"pointer-events\")) {\r\n            root.attr({\r\n                \"pointer-events\": isDefined(this._initDisabledState) ? this._initDisabledState : null,\r\n                filter: null\r\n            })\r\n        }\r\n    },\r\n    _themeDependentChanges: [\"RENDERER\"],\r\n    _initRenderer: function() {\r\n        this._canvas = this._calculateCanvas();\r\n        this._renderer = new Renderer({\r\n            cssClass: this._rootClassPrefix + \" \" + this._rootClass,\r\n            pathModified: this.option(\"pathModified\"),\r\n            container: this._$element[0]\r\n        });\r\n        this._renderer.resize(this._canvas.width, this._canvas.height)\r\n    },\r\n    _disposeRenderer: function() {\r\n        this._renderer.dispose()\r\n    },\r\n    _getAnimationOptions: noop,\r\n    render: function() {\r\n        this._requestChange([\"CONTAINER_SIZE\"]);\r\n        var visible = this._isVisible();\r\n        this._toggleParentsScrollSubscription(visible);\r\n        !visible && this._stopCurrentHandling()\r\n    },\r\n    _toggleParentsScrollSubscription: function(subscribe) {\r\n        var $parents = $(this._renderer.root.element).parents();\r\n        if (\"generic\" === devices.real().platform) {\r\n            $parents = $parents.add(getWindow())\r\n        }\r\n        this._proxiedTargetParentsScrollHandler = this._proxiedTargetParentsScrollHandler || function() {\r\n            this._stopCurrentHandling()\r\n        }.bind(this);\r\n        eventsEngine.off($().add(this._$prevRootParents), \"scroll.viz_widgets\", this._proxiedTargetParentsScrollHandler);\r\n        if (subscribe) {\r\n            eventsEngine.on($parents, \"scroll.viz_widgets\", this._proxiedTargetParentsScrollHandler);\r\n            this._$prevRootParents = $parents\r\n        }\r\n    },\r\n    _stopCurrentHandling: noop,\r\n    _dispose: function() {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        that._toggleParentsScrollSubscription(false);\r\n        that._removeResizeHandler();\r\n        that._layout.dispose();\r\n        that._eventTrigger.dispose();\r\n        that._disposeCore();\r\n        that._disposePlugins();\r\n        that._disposeRenderer();\r\n        that._themeManager.dispose();\r\n        that._themeManager = that._renderer = that._eventTrigger = null\r\n    },\r\n    _initEventTrigger: function() {\r\n        var that = this;\r\n        that._eventTrigger = createEventTrigger(that._eventsMap, (function(name, actionSettings) {\r\n            return that._createActionByOption(name, actionSettings)\r\n        }))\r\n    },\r\n    _calculateCanvas: function() {\r\n        var that = this;\r\n        var size = that.option(\"size\") || {};\r\n        var margin = that.option(\"margin\") || {};\r\n        var defaultCanvas = that._getDefaultSize() || {};\r\n        var getSizeOfSide = (size, side, getter) => {\r\n            if (sizeIsValid(size[side]) || !hasWindow()) {\r\n                return 0\r\n            }\r\n            var elementSize = getter(that._$element);\r\n            return elementSize <= 1 ? 0 : elementSize\r\n        };\r\n        var elementWidth = getSizeOfSide(size, \"width\", x => getWidth(x));\r\n        var elementHeight = getSizeOfSide(size, \"height\", x => getHeight(x));\r\n        var canvas = {\r\n            width: size.width <= 0 ? 0 : _floor(pickPositiveValue([size.width, elementWidth, defaultCanvas.width])),\r\n            height: size.height <= 0 ? 0 : _floor(pickPositiveValue([size.height, elementHeight, defaultCanvas.height])),\r\n            left: pickPositiveValue([margin.left, defaultCanvas.left]),\r\n            top: pickPositiveValue([margin.top, defaultCanvas.top]),\r\n            right: pickPositiveValue([margin.right, defaultCanvas.right]),\r\n            bottom: pickPositiveValue([margin.bottom, defaultCanvas.bottom])\r\n        };\r\n        if (canvas.width - canvas.left - canvas.right <= 0 || canvas.height - canvas.top - canvas.bottom <= 0) {\r\n            canvas = {\r\n                width: 0,\r\n                height: 0\r\n            }\r\n        }\r\n        return canvas\r\n    },\r\n    _updateSize: function() {\r\n        var canvas = this._calculateCanvas();\r\n        this._renderer.fixPlacement();\r\n        if (areCanvasesDifferent(this._canvas, canvas) || this.__forceRender) {\r\n            this._canvas = canvas;\r\n            this._recreateSizeDependentObjects(true);\r\n            this._renderer.resize(canvas.width, canvas.height);\r\n            this._change([\"LAYOUT\"])\r\n        }\r\n    },\r\n    _recreateSizeDependentObjects: noop,\r\n    _getMinSize: function() {\r\n        return [0, 0]\r\n    },\r\n    _getAlignmentRect: noop,\r\n    _setContentSize: function() {\r\n        var canvas = this._canvas;\r\n        var layout = this._layout;\r\n        var rect = canvas.width > 0 && canvas.height > 0 ? [canvas.left, canvas.top, canvas.width - canvas.right, canvas.height - canvas.bottom] : [0, 0, 0, 0];\r\n        rect = layout.forward(rect, this._getMinSize());\r\n        var nextRect = this._applySize(rect) || rect;\r\n        layout.backward(nextRect, this._getAlignmentRect() || nextRect)\r\n    },\r\n    _getOption: function(name, isScalar) {\r\n        var theme = this._themeManager.theme(name);\r\n        var option = this.option(name);\r\n        return isScalar ? void 0 !== option ? option : theme : extend(true, {}, theme, option)\r\n    },\r\n    _setupResizeHandler: function() {\r\n        var that = this;\r\n        var redrawOnResize = _parseScalar(this._getOption(\"redrawOnResize\", true), true);\r\n        if (that._resizeHandler) {\r\n            that._removeResizeHandler()\r\n        }\r\n        that._resizeHandler = createResizeHandler((function() {\r\n            if (redrawOnResize) {\r\n                that._requestChange([\"CONTAINER_SIZE\"])\r\n            } else {\r\n                that._renderer.fixPlacement()\r\n            }\r\n        }));\r\n        _windowResizeCallbacks.add(that._resizeHandler)\r\n    },\r\n    _removeResizeHandler: function() {\r\n        if (this._resizeHandler) {\r\n            _windowResizeCallbacks.remove(this._resizeHandler);\r\n            this._resizeHandler.dispose();\r\n            this._resizeHandler = null\r\n        }\r\n    },\r\n    _onBeginUpdate: noop,\r\n    beginUpdate: function() {\r\n        var that = this;\r\n        if (that._initialized && that._isUpdateAllowed()) {\r\n            that._onBeginUpdate();\r\n            that._suspendChanges()\r\n        }\r\n        that.callBase.apply(that, arguments);\r\n        return that\r\n    },\r\n    endUpdate: function() {\r\n        this.callBase();\r\n        this._isUpdateAllowed() && this._resumeChanges();\r\n        return this\r\n    },\r\n    option: function(name) {\r\n        var that = this;\r\n        if (that._initialized && that._applyingChanges && (arguments.length > 1 || _isObject(name))) {\r\n            that._optionsQueue = that._optionsQueue || [];\r\n            that._optionsQueue.push(that._getActionForUpdating(arguments))\r\n        } else {\r\n            return _option.apply(that, arguments)\r\n        }\r\n    },\r\n    _getActionForUpdating: function(args) {\r\n        var that = this;\r\n        return function() {\r\n            _option.apply(that, args)\r\n        }\r\n    },\r\n    _clean: noop,\r\n    _render: noop,\r\n    _optionChanged: function(arg) {\r\n        var that = this;\r\n        if (that._optionChangedLocker) {\r\n            return\r\n        }\r\n        var partialChanges = that.getPartialChangeOptionsName(arg);\r\n        var changes = [];\r\n        if (partialChanges.length > 0) {\r\n            partialChanges.forEach(pc => changes.push(that._partialOptionChangesMap[pc]))\r\n        } else {\r\n            changes.push(that._optionChangesMap[arg.name])\r\n        }\r\n        changes = changes.filter(c => !!c);\r\n        if (that._eventTrigger.change(arg.name)) {\r\n            that._change([\"EVENTS\"])\r\n        } else if (changes.length > 0) {\r\n            that._change(changes)\r\n        } else {\r\n            that.callBase.apply(that, arguments)\r\n        }\r\n    },\r\n    _notify: noop,\r\n    _changesApplied: noop,\r\n    _optionChangesMap: {\r\n        size: \"CONTAINER_SIZE\",\r\n        margin: \"CONTAINER_SIZE\",\r\n        redrawOnResize: \"RESIZE_HANDLER\",\r\n        theme: \"THEME\",\r\n        rtlEnabled: \"THEME\",\r\n        encodeHtml: \"THEME\",\r\n        elementAttr: \"ELEMENT_ATTR\",\r\n        disabled: \"DISABLED\"\r\n    },\r\n    _partialOptionChangesMap: {},\r\n    _partialOptionChangesPath: {},\r\n    getPartialChangeOptionsName: function(changedOption) {\r\n        var that = this;\r\n        var fullName = changedOption.fullName;\r\n        var sections = fullName.split(/[.]/);\r\n        var name = changedOption.name;\r\n        var value = changedOption.value;\r\n        var options = this._partialOptionChangesPath[name];\r\n        var partialChangeOptionsName = [];\r\n        if (options) {\r\n            if (true === options) {\r\n                partialChangeOptionsName.push(name)\r\n            } else {\r\n                options.forEach(op => {\r\n                    fullName.indexOf(op) >= 0 && partialChangeOptionsName.push(op)\r\n                });\r\n                if (1 === sections.length) {\r\n                    if (\"object\" === type(value)) {\r\n                        that._addOptionsNameForPartialUpdate(value, options, partialChangeOptionsName)\r\n                    } else if (\"array\" === type(value)) {\r\n                        if (value.length > 0 && value.every(item => that._checkOptionsForPartialUpdate(item, options))) {\r\n                            value.forEach(item => that._addOptionsNameForPartialUpdate(item, options, partialChangeOptionsName))\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return partialChangeOptionsName.filter((value, index, self) => self.indexOf(value) === index)\r\n    },\r\n    _checkOptionsForPartialUpdate: function(optionObject, options) {\r\n        return !Object.keys(optionObject).some(key => -1 === options.indexOf(key))\r\n    },\r\n    _addOptionsNameForPartialUpdate: function(optionObject, options, partialChangeOptionsName) {\r\n        var optionKeys = Object.keys(optionObject);\r\n        if (this._checkOptionsForPartialUpdate(optionObject, options)) {\r\n            optionKeys.forEach(key => options.indexOf(key) > -1 && partialChangeOptionsName.push(key))\r\n        }\r\n    },\r\n    _visibilityChanged: function() {\r\n        this.render()\r\n    },\r\n    _setThemeAndRtl: function() {\r\n        this._themeManager.setTheme(this.option(\"theme\"), this.option(OPTION_RTL_ENABLED))\r\n    },\r\n    _getRendererOptions: function() {\r\n        return {\r\n            rtl: this.option(OPTION_RTL_ENABLED),\r\n            encodeHtml: this.option(\"encodeHtml\"),\r\n            animation: this._getAnimationOptions()\r\n        }\r\n    },\r\n    _setRendererOptions: function() {\r\n        this._renderer.setOptions(this._getRendererOptions())\r\n    },\r\n    svg: function() {\r\n        return this._renderer.svg()\r\n    },\r\n    getSize: function() {\r\n        var canvas = this._canvas || {};\r\n        return {\r\n            width: canvas.width,\r\n            height: canvas.height\r\n        }\r\n    },\r\n    isReady: getFalse,\r\n    _dataIsReady: getTrue,\r\n    _resetIsReady: function() {\r\n        this.isReady = getFalse\r\n    },\r\n    _drawn: function() {\r\n        var that = this;\r\n        that.isReady = getFalse;\r\n        if (that._dataIsReady()) {\r\n            that._renderer.onEndAnimation((function() {\r\n                that.isReady = getTrue\r\n            }))\r\n        }\r\n        that._eventTrigger(\"drawn\", {})\r\n    }\r\n});\r\nexport default baseWidget;\r\nreplaceInherit(baseWidget);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
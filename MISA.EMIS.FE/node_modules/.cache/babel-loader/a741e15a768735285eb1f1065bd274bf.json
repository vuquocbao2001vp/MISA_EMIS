{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/palette.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { normalizeEnum } from \"./core/utils\";\nimport { extend } from \"../core/utils/extend\";\nvar _floor = Math.floor;\nvar _ceil = Math.ceil;\nimport _Color from \"../color\";\nvar _isArray = Array.isArray;\nimport { isString as _isString } from \"../core/utils/type\";\nvar HIGHLIGHTING_STEP = 50;\nvar DEFAULT_PALETTE = \"material\";\nvar officePalette = {\n  simpleSet: [\"#5f8b95\", \"#ba4d51\", \"#af8a53\", \"#955f71\", \"#859666\", \"#7e688c\"],\n  indicatingSet: [\"#a3b97c\", \"#e1b676\", \"#ec7f83\"],\n  gradientSet: [\"#5f8b95\", \"#ba4d51\"],\n  accentColor: \"#ba4d51\"\n};\nvar palettes = {\n  [DEFAULT_PALETTE]: {\n    simpleSet: [\"#1db2f5\", \"#f5564a\", \"#97c95c\", \"#ffc720\", \"#eb3573\", \"#a63db8\"],\n    indicatingSet: [\"#97c95c\", \"#ffc720\", \"#f5564a\"],\n    gradientSet: [\"#1db2f5\", \"#97c95c\"],\n    accentColor: \"#1db2f5\"\n  },\n  office: officePalette,\n  \"harmony light\": {\n    simpleSet: [\"#fcb65e\", \"#679ec5\", \"#ad79ce\", \"#7abd5c\", \"#e18e92\", \"#b6d623\", \"#b7abea\", \"#85dbd5\"],\n    indicatingSet: [\"#b6d623\", \"#fcb65e\", \"#e18e92\"],\n    gradientSet: [\"#7abd5c\", \"#fcb65e\"],\n    accentColor: \"#679ec5\"\n  },\n  \"soft pastel\": {\n    simpleSet: [\"#60a69f\", \"#78b6d9\", \"#6682bb\", \"#a37182\", \"#eeba69\", \"#90ba58\", \"#456c68\", \"#7565a4\"],\n    indicatingSet: [\"#90ba58\", \"#eeba69\", \"#a37182\"],\n    gradientSet: [\"#78b6d9\", \"#eeba69\"],\n    accentColor: \"#60a69f\"\n  },\n  pastel: {\n    simpleSet: [\"#bb7862\", \"#70b3a1\", \"#bb626a\", \"#057d85\", \"#ab394b\", \"#dac599\", \"#153459\", \"#b1d2c6\"],\n    indicatingSet: [\"#70b3a1\", \"#dac599\", \"#bb626a\"],\n    gradientSet: [\"#bb7862\", \"#70b3a1\"],\n    accentColor: \"#bb7862\"\n  },\n  bright: {\n    simpleSet: [\"#70c92f\", \"#f8ca00\", \"#bd1550\", \"#e97f02\", \"#9d419c\", \"#7e4452\", \"#9ab57e\", \"#36a3a6\"],\n    indicatingSet: [\"#70c92f\", \"#f8ca00\", \"#bd1550\"],\n    gradientSet: [\"#e97f02\", \"#f8ca00\"],\n    accentColor: \"#e97f02\"\n  },\n  soft: {\n    simpleSet: [\"#cbc87b\", \"#9ab57e\", \"#e55253\", \"#7e4452\", \"#e8c267\", \"#565077\", \"#6babac\", \"#ad6082\"],\n    indicatingSet: [\"#9ab57e\", \"#e8c267\", \"#e55253\"],\n    gradientSet: [\"#9ab57e\", \"#e8c267\"],\n    accentColor: \"#565077\"\n  },\n  ocean: {\n    simpleSet: [\"#75c099\", \"#acc371\", \"#378a8a\", \"#5fa26a\", \"#064970\", \"#38c5d2\", \"#00a7c6\", \"#6f84bb\"],\n    indicatingSet: [\"#c8e394\", \"#7bc59d\", \"#397c8b\"],\n    gradientSet: [\"#acc371\", \"#38c5d2\"],\n    accentColor: \"#378a8a\"\n  },\n  vintage: {\n    simpleSet: [\"#dea484\", \"#efc59c\", \"#cb715e\", \"#eb9692\", \"#a85c4c\", \"#f2c0b5\", \"#c96374\", \"#dd956c\"],\n    indicatingSet: [\"#ffe5c6\", \"#f4bb9d\", \"#e57660\"],\n    gradientSet: [\"#efc59c\", \"#cb715e\"],\n    accentColor: \"#cb715e\"\n  },\n  violet: {\n    simpleSet: [\"#d1a1d1\", \"#eeacc5\", \"#7b5685\", \"#7e7cad\", \"#a13d73\", \"#5b41ab\", \"#e287e2\", \"#689cc1\"],\n    indicatingSet: [\"#d8e2f6\", \"#d0b2da\", \"#d56a8a\"],\n    gradientSet: [\"#eeacc5\", \"#7b5685\"],\n    accentColor: \"#7b5685\"\n  },\n  carmine: {\n    simpleSet: [\"#fb7764\", \"#73d47f\", \"#fed85e\", \"#d47683\", \"#dde392\", \"#757ab2\"],\n    indicatingSet: [\"#5cb85c\", \"#f0ad4e\", \"#d9534f\"],\n    gradientSet: [\"#fb7764\", \"#73d47f\"],\n    accentColor: \"#f05b41\"\n  },\n  \"dark moon\": {\n    simpleSet: [\"#4ddac1\", \"#f4c99a\", \"#80dd9b\", \"#f998b3\", \"#4aaaa0\", \"#a5aef1\"],\n    indicatingSet: [\"#59d8a4\", \"#f0ad4e\", \"#f9517e\"],\n    gradientSet: [\"#4ddac1\", \"#f4c99a\"],\n    accentColor: \"#3debd3\"\n  },\n  \"soft blue\": {\n    simpleSet: [\"#7ab8eb\", \"#97da97\", \"#facb86\", \"#e78683\", \"#839bda\", \"#4db7be\"],\n    indicatingSet: [\"#5cb85c\", \"#f0ad4e\", \"#d9534f\"],\n    gradientSet: [\"#7ab8eb\", \"#97da97\"],\n    accentColor: \"#7ab8eb\"\n  },\n  \"dark violet\": {\n    simpleSet: [\"#9c63ff\", \"#64c064\", \"#eead51\", \"#d2504b\", \"#4b6bbf\", \"#2da7b0\"],\n    indicatingSet: [\"#5cb85c\", \"#f0ad4e\", \"#d9534f\"],\n    gradientSet: [\"#9c63ff\", \"#64c064\"],\n    accentColor: \"#9c63ff\"\n  },\n  \"green mist\": {\n    simpleSet: [\"#3cbab2\", \"#8ed962\", \"#5b9d95\", \"#efcc7c\", \"#f1929f\", \"#4d8dab\"],\n    indicatingSet: [\"#72d63c\", \"#ffc852\", \"#f74a5e\"],\n    gradientSet: [\"#3cbab2\", \"#8ed962\"],\n    accentColor: \"#3cbab2\"\n  }\n};\nvar currentPaletteName;\nexport function currentPalette(name) {\n  if (void 0 === name) {\n    return currentPaletteName || DEFAULT_PALETTE;\n  } else {\n    name = normalizeEnum(name);\n    currentPaletteName = name in palettes ? name : void 0;\n  }\n}\nexport function generateColors(palette, count) {\n  var options = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n    keepLastColorInEnd: false\n  };\n  options.type = options.baseColorSet;\n  options.extensionMode = options.paletteExtensionMode;\n  return createPalette(palette, options).generateColors(count);\n}\nexport function getPalette(palette, parameters) {\n  parameters = parameters || {};\n  palette = palette || (void 0 === currentPaletteName ? parameters.themeDefault : currentPalette());\n  var result;\n  var type = parameters.type;\n\n  if (_isArray(palette)) {\n    return palette.slice(0);\n  } else {\n    if (_isString(palette)) {\n      result = palettes[normalizeEnum(palette)];\n    }\n\n    if (!result) {\n      result = palettes[currentPalette()];\n    }\n  }\n\n  return type ? result[type].slice(0) : result;\n}\nexport function registerPalette(name, palette) {\n  var item = {};\n  var paletteName;\n\n  if (_isArray(palette)) {\n    item.simpleSet = palette.slice(0);\n  } else if (palette) {\n    item.simpleSet = _isArray(palette.simpleSet) ? palette.simpleSet.slice(0) : void 0;\n    item.indicatingSet = _isArray(palette.indicatingSet) ? palette.indicatingSet.slice(0) : void 0;\n    item.gradientSet = _isArray(palette.gradientSet) ? palette.gradientSet.slice(0) : void 0;\n    item.accentColor = palette.accentColor;\n  }\n\n  if (!item.accentColor) {\n    item.accentColor = item.simpleSet && item.simpleSet[0];\n  }\n\n  if (item.simpleSet || item.indicatingSet || item.gradientSet) {\n    paletteName = normalizeEnum(name);\n    extend(palettes[paletteName] = palettes[paletteName] || {}, item);\n  }\n}\nexport function getAccentColor(palette, themeDefault) {\n  palette = getPalette(palette, {\n    themeDefault: themeDefault\n  });\n  return palette.accentColor || palette[0];\n}\n\nfunction RingBuf(buf) {\n  var ind = 0;\n\n  this.next = function () {\n    var res = buf[ind++];\n\n    if (ind === buf.length) {\n      this.reset();\n    }\n\n    return res;\n  };\n\n  this.reset = function () {\n    ind = 0;\n  };\n}\n\nfunction getAlternateColorsStrategy(palette, parameters) {\n  var stepHighlight = parameters.useHighlight ? HIGHLIGHTING_STEP : 0;\n  var paletteSteps = new RingBuf([0, stepHighlight, -stepHighlight]);\n  var currentPalette = [];\n\n  function _reset() {\n    var step = paletteSteps.next();\n    currentPalette = step ? getAlteredPalette(palette, step) : palette.slice(0);\n  }\n\n  return {\n    getColor: function (index) {\n      var color = currentPalette[index % palette.length];\n\n      if (index % palette.length === palette.length - 1) {\n        _reset();\n      }\n\n      return color;\n    },\n    generateColors: function (count) {\n      var colors = [];\n      count = count || parameters.count;\n\n      for (var i = 0; i < count; i++) {\n        colors.push(this.getColor(i));\n      }\n\n      return colors;\n    },\n    reset: function () {\n      paletteSteps.reset();\n\n      _reset();\n    }\n  };\n}\n\nfunction getExtrapolateColorsStrategy(palette, parameters) {\n  return {\n    getColor: function (index, count) {\n      var paletteCount = palette.length;\n\n      var cycles = _floor((count - 1) / paletteCount + 1);\n\n      var color = palette[index % paletteCount];\n\n      if (cycles > 1) {\n        return function (color, cycleIndex, cycleCount) {\n          var hsl = new _Color(color).hsl;\n          var l = hsl.l / 100;\n          var diapason = cycleCount - 1 / cycleCount;\n          var minL = l - .5 * diapason;\n          var maxL = l + .5 * diapason;\n          var cycleMiddle = (cycleCount - 1) / 2;\n          var cycleDiff = cycleIndex - cycleMiddle;\n\n          if (minL < Math.min(.5, .9 * l)) {\n            minL = Math.min(.5, .9 * l);\n          }\n\n          if (maxL > Math.max(.8, l + .15 * (1 - l))) {\n            maxL = Math.max(.8, l + .15 * (1 - l));\n          }\n\n          if (cycleDiff < 0) {\n            l -= (minL - l) * cycleDiff / cycleMiddle;\n          } else {\n            l += cycleDiff / cycleMiddle * (maxL - l);\n          }\n\n          hsl.l = 100 * l;\n          return _Color.prototype.fromHSL(hsl).toHex();\n        }(color, _floor(index / paletteCount), cycles);\n      }\n\n      return color;\n    },\n    generateColors: function (count) {\n      var colors = [];\n      count = count || parameters.count;\n\n      for (var i = 0; i < count; i++) {\n        colors.push(this.getColor(i, count));\n      }\n\n      return colors;\n    },\n    reset: function () {}\n  };\n}\n\nfunction getColorMixer(palette, parameters) {\n  var paletteCount = palette.length;\n  var extendedPalette = [];\n\n  function distributeColors(count, colorsCount, startIndex, distribution) {\n    var groupSize = Math.floor(count / colorsCount);\n    var extraItems = count - colorsCount * groupSize;\n    var i = startIndex;\n    var middleIndex;\n    var size;\n\n    while (i < startIndex + count) {\n      size = groupSize;\n\n      if (extraItems > 0) {\n        size += 1;\n        extraItems--;\n      }\n\n      middleIndex = size > 2 ? Math.floor(size / 2) : 0;\n      distribution.push(i + middleIndex);\n      i += size;\n    }\n\n    return distribution.sort(function (a, b) {\n      return a - b;\n    });\n  }\n\n  function getColorAndDistance(arr, startIndex, count) {\n    startIndex = (count + startIndex) % count;\n    var distance = 0;\n\n    for (var i = startIndex; i < 2 * count; i += 1) {\n      var index = (count + i) % count;\n\n      if (arr[index]) {\n        return [arr[index], distance];\n      }\n\n      distance++;\n    }\n  }\n\n  function extendPalette(count) {\n    if (count <= paletteCount) {\n      return palette;\n    }\n\n    var result = [];\n    var colorInGroups = paletteCount - 2;\n    var currentColorIndex = 0;\n    var cleanColorIndices = [];\n\n    if (parameters.keepLastColorInEnd) {\n      cleanColorIndices = distributeColors(count - 2, colorInGroups, 1, [0, count - 1]);\n    } else {\n      cleanColorIndices = distributeColors(count - 1, paletteCount - 1, 1, [0]);\n    }\n\n    for (var i = 0; i < count; i++) {\n      if (cleanColorIndices.indexOf(i) > -1) {\n        result[i] = palette[currentColorIndex++];\n      }\n    }\n\n    result = function (paletteWithEmptyColors, paletteLength) {\n      for (var i = 0; i < paletteLength; i++) {\n        var color = paletteWithEmptyColors[i];\n\n        if (!color) {\n          var color1 = paletteWithEmptyColors[i - 1];\n\n          if (!color1) {\n            continue;\n          } else {\n            var c2 = getColorAndDistance(paletteWithEmptyColors, i, paletteLength);\n            var color2 = new _Color(c2[0]);\n            color1 = new _Color(color1);\n\n            for (var j = 0; j < c2[1]; j++, i++) {\n              paletteWithEmptyColors[i] = color1.blend(color2, (j + 1) / (c2[1] + 1)).toHex();\n            }\n          }\n        }\n      }\n\n      return paletteWithEmptyColors;\n    }(result, count);\n\n    return result;\n  }\n\n  return {\n    getColor: function (index, count) {\n      count = count || parameters.count || paletteCount;\n\n      if (extendedPalette.length !== count) {\n        extendedPalette = extendPalette(count);\n      }\n\n      return extendedPalette[index % count];\n    },\n    generateColors: function (count, repeat) {\n      count = count || parameters.count || paletteCount;\n\n      if (repeat && count > paletteCount) {\n        var colors = extendPalette(paletteCount);\n\n        for (var i = 0; i < count - paletteCount; i++) {\n          colors.push(colors[i]);\n        }\n\n        return colors;\n      } else {\n        return paletteCount > 0 ? extendPalette(count).slice(0, count) : [];\n      }\n    },\n    reset: function () {}\n  };\n}\n\nexport function createPalette(palette, parameters, themeDefaultPalette) {\n  var paletteObj = {\n    dispose() {\n      this._extensionStrategy = null;\n    },\n\n    getNextColor(count) {\n      return this._extensionStrategy.getColor(this._currentColor++, count);\n    },\n\n    generateColors(count, parameters) {\n      return this._extensionStrategy.generateColors(count, (parameters || {}).repeat);\n    },\n\n    reset() {\n      this._currentColor = 0;\n\n      this._extensionStrategy.reset();\n\n      return this;\n    }\n\n  };\n  parameters = parameters || {};\n  var extensionMode = (parameters.extensionMode || \"\").toLowerCase();\n  var colors = getPalette(palette, {\n    type: parameters.type || \"simpleSet\",\n    themeDefault: themeDefaultPalette\n  });\n\n  if (\"alternate\" === extensionMode) {\n    paletteObj._extensionStrategy = getAlternateColorsStrategy(colors, parameters);\n  } else if (\"extrapolate\" === extensionMode) {\n    paletteObj._extensionStrategy = getExtrapolateColorsStrategy(colors, parameters);\n  } else {\n    paletteObj._extensionStrategy = getColorMixer(colors, parameters);\n  }\n\n  paletteObj.reset();\n  return paletteObj;\n}\n\nfunction getAlteredPalette(originalPalette, step) {\n  var palette = [];\n  var i;\n  var ii = originalPalette.length;\n\n  for (i = 0; i < ii; ++i) {\n    palette.push(getNewColor(originalPalette[i], step));\n  }\n\n  return palette;\n}\n\nfunction getNewColor(currentColor, step) {\n  var newColor = new _Color(currentColor).alter(step);\n  var lightness = getLightness(newColor);\n\n  if (lightness > 200 || lightness < 55) {\n    newColor = new _Color(currentColor).alter(-step / 2);\n  }\n\n  return newColor.toHex();\n}\n\nfunction getLightness(color) {\n  return .3 * color.r + .59 * color.g + .11 * color.b;\n}\n\nexport function getDiscretePalette(source, size, themeDefaultPalette) {\n  var palette = size > 0 ? createDiscreteColors(getPalette(source, {\n    type: \"gradientSet\",\n    themeDefault: themeDefaultPalette\n  }), size) : [];\n  return {\n    getColor: function (index) {\n      return palette[index] || null;\n    }\n  };\n}\n\nfunction createDiscreteColors(source, count) {\n  var colorCount = count - 1;\n  var sourceCount = source.length - 1;\n  var colors = [];\n  var gradient = [];\n  var i;\n\n  function addColor(pos) {\n    var k = sourceCount * pos;\n\n    var kl = _floor(k);\n\n    var kr = _ceil(k);\n\n    gradient.push(colors[kl].blend(colors[kr], k - kl).toHex());\n  }\n\n  for (i = 0; i <= sourceCount; ++i) {\n    colors.push(new _Color(source[i]));\n  }\n\n  if (colorCount > 0) {\n    for (i = 0; i <= colorCount; ++i) {\n      addColor(i / colorCount);\n    }\n  } else {\n    addColor(.5);\n  }\n\n  return gradient;\n}\n\nexport function getGradientPalette(source, themeDefaultPalette) {\n  var palette = getPalette(source, {\n    type: \"gradientSet\",\n    themeDefault: themeDefaultPalette\n  });\n  var color1 = new _Color(palette[0]);\n  var color2 = new _Color(palette[1]);\n  return {\n    getColor: function (ratio) {\n      return 0 <= ratio && ratio <= 1 ? color1.blend(color2, ratio).toHex() : null;\n    }\n  };\n}","map":{"version":3,"names":["normalizeEnum","extend","_floor","Math","floor","_ceil","ceil","_Color","_isArray","Array","isArray","isString","_isString","HIGHLIGHTING_STEP","DEFAULT_PALETTE","officePalette","simpleSet","indicatingSet","gradientSet","accentColor","palettes","office","pastel","bright","soft","ocean","vintage","violet","carmine","currentPaletteName","currentPalette","name","generateColors","palette","count","options","arguments","length","keepLastColorInEnd","type","baseColorSet","extensionMode","paletteExtensionMode","createPalette","getPalette","parameters","themeDefault","result","slice","registerPalette","item","paletteName","getAccentColor","RingBuf","buf","ind","next","res","reset","getAlternateColorsStrategy","stepHighlight","useHighlight","paletteSteps","_reset","step","getAlteredPalette","getColor","index","color","colors","i","push","getExtrapolateColorsStrategy","paletteCount","cycles","cycleIndex","cycleCount","hsl","l","diapason","minL","maxL","cycleMiddle","cycleDiff","min","max","prototype","fromHSL","toHex","getColorMixer","extendedPalette","distributeColors","colorsCount","startIndex","distribution","groupSize","extraItems","middleIndex","size","sort","a","b","getColorAndDistance","arr","distance","extendPalette","colorInGroups","currentColorIndex","cleanColorIndices","indexOf","paletteWithEmptyColors","paletteLength","color1","c2","color2","j","blend","repeat","themeDefaultPalette","paletteObj","dispose","_extensionStrategy","getNextColor","_currentColor","toLowerCase","originalPalette","ii","getNewColor","currentColor","newColor","alter","lightness","getLightness","r","g","getDiscretePalette","source","createDiscreteColors","colorCount","sourceCount","gradient","addColor","pos","k","kl","kr","getGradientPalette","ratio"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/palette.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/palette.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    normalizeEnum\r\n} from \"./core/utils\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nvar _floor = Math.floor;\r\nvar _ceil = Math.ceil;\r\nimport _Color from \"../color\";\r\nvar _isArray = Array.isArray;\r\nimport {\r\n    isString as _isString\r\n} from \"../core/utils/type\";\r\nvar HIGHLIGHTING_STEP = 50;\r\nvar DEFAULT_PALETTE = \"material\";\r\nvar officePalette = {\r\n    simpleSet: [\"#5f8b95\", \"#ba4d51\", \"#af8a53\", \"#955f71\", \"#859666\", \"#7e688c\"],\r\n    indicatingSet: [\"#a3b97c\", \"#e1b676\", \"#ec7f83\"],\r\n    gradientSet: [\"#5f8b95\", \"#ba4d51\"],\r\n    accentColor: \"#ba4d51\"\r\n};\r\nvar palettes = {\r\n    [DEFAULT_PALETTE]: {\r\n        simpleSet: [\"#1db2f5\", \"#f5564a\", \"#97c95c\", \"#ffc720\", \"#eb3573\", \"#a63db8\"],\r\n        indicatingSet: [\"#97c95c\", \"#ffc720\", \"#f5564a\"],\r\n        gradientSet: [\"#1db2f5\", \"#97c95c\"],\r\n        accentColor: \"#1db2f5\"\r\n    },\r\n    office: officePalette,\r\n    \"harmony light\": {\r\n        simpleSet: [\"#fcb65e\", \"#679ec5\", \"#ad79ce\", \"#7abd5c\", \"#e18e92\", \"#b6d623\", \"#b7abea\", \"#85dbd5\"],\r\n        indicatingSet: [\"#b6d623\", \"#fcb65e\", \"#e18e92\"],\r\n        gradientSet: [\"#7abd5c\", \"#fcb65e\"],\r\n        accentColor: \"#679ec5\"\r\n    },\r\n    \"soft pastel\": {\r\n        simpleSet: [\"#60a69f\", \"#78b6d9\", \"#6682bb\", \"#a37182\", \"#eeba69\", \"#90ba58\", \"#456c68\", \"#7565a4\"],\r\n        indicatingSet: [\"#90ba58\", \"#eeba69\", \"#a37182\"],\r\n        gradientSet: [\"#78b6d9\", \"#eeba69\"],\r\n        accentColor: \"#60a69f\"\r\n    },\r\n    pastel: {\r\n        simpleSet: [\"#bb7862\", \"#70b3a1\", \"#bb626a\", \"#057d85\", \"#ab394b\", \"#dac599\", \"#153459\", \"#b1d2c6\"],\r\n        indicatingSet: [\"#70b3a1\", \"#dac599\", \"#bb626a\"],\r\n        gradientSet: [\"#bb7862\", \"#70b3a1\"],\r\n        accentColor: \"#bb7862\"\r\n    },\r\n    bright: {\r\n        simpleSet: [\"#70c92f\", \"#f8ca00\", \"#bd1550\", \"#e97f02\", \"#9d419c\", \"#7e4452\", \"#9ab57e\", \"#36a3a6\"],\r\n        indicatingSet: [\"#70c92f\", \"#f8ca00\", \"#bd1550\"],\r\n        gradientSet: [\"#e97f02\", \"#f8ca00\"],\r\n        accentColor: \"#e97f02\"\r\n    },\r\n    soft: {\r\n        simpleSet: [\"#cbc87b\", \"#9ab57e\", \"#e55253\", \"#7e4452\", \"#e8c267\", \"#565077\", \"#6babac\", \"#ad6082\"],\r\n        indicatingSet: [\"#9ab57e\", \"#e8c267\", \"#e55253\"],\r\n        gradientSet: [\"#9ab57e\", \"#e8c267\"],\r\n        accentColor: \"#565077\"\r\n    },\r\n    ocean: {\r\n        simpleSet: [\"#75c099\", \"#acc371\", \"#378a8a\", \"#5fa26a\", \"#064970\", \"#38c5d2\", \"#00a7c6\", \"#6f84bb\"],\r\n        indicatingSet: [\"#c8e394\", \"#7bc59d\", \"#397c8b\"],\r\n        gradientSet: [\"#acc371\", \"#38c5d2\"],\r\n        accentColor: \"#378a8a\"\r\n    },\r\n    vintage: {\r\n        simpleSet: [\"#dea484\", \"#efc59c\", \"#cb715e\", \"#eb9692\", \"#a85c4c\", \"#f2c0b5\", \"#c96374\", \"#dd956c\"],\r\n        indicatingSet: [\"#ffe5c6\", \"#f4bb9d\", \"#e57660\"],\r\n        gradientSet: [\"#efc59c\", \"#cb715e\"],\r\n        accentColor: \"#cb715e\"\r\n    },\r\n    violet: {\r\n        simpleSet: [\"#d1a1d1\", \"#eeacc5\", \"#7b5685\", \"#7e7cad\", \"#a13d73\", \"#5b41ab\", \"#e287e2\", \"#689cc1\"],\r\n        indicatingSet: [\"#d8e2f6\", \"#d0b2da\", \"#d56a8a\"],\r\n        gradientSet: [\"#eeacc5\", \"#7b5685\"],\r\n        accentColor: \"#7b5685\"\r\n    },\r\n    carmine: {\r\n        simpleSet: [\"#fb7764\", \"#73d47f\", \"#fed85e\", \"#d47683\", \"#dde392\", \"#757ab2\"],\r\n        indicatingSet: [\"#5cb85c\", \"#f0ad4e\", \"#d9534f\"],\r\n        gradientSet: [\"#fb7764\", \"#73d47f\"],\r\n        accentColor: \"#f05b41\"\r\n    },\r\n    \"dark moon\": {\r\n        simpleSet: [\"#4ddac1\", \"#f4c99a\", \"#80dd9b\", \"#f998b3\", \"#4aaaa0\", \"#a5aef1\"],\r\n        indicatingSet: [\"#59d8a4\", \"#f0ad4e\", \"#f9517e\"],\r\n        gradientSet: [\"#4ddac1\", \"#f4c99a\"],\r\n        accentColor: \"#3debd3\"\r\n    },\r\n    \"soft blue\": {\r\n        simpleSet: [\"#7ab8eb\", \"#97da97\", \"#facb86\", \"#e78683\", \"#839bda\", \"#4db7be\"],\r\n        indicatingSet: [\"#5cb85c\", \"#f0ad4e\", \"#d9534f\"],\r\n        gradientSet: [\"#7ab8eb\", \"#97da97\"],\r\n        accentColor: \"#7ab8eb\"\r\n    },\r\n    \"dark violet\": {\r\n        simpleSet: [\"#9c63ff\", \"#64c064\", \"#eead51\", \"#d2504b\", \"#4b6bbf\", \"#2da7b0\"],\r\n        indicatingSet: [\"#5cb85c\", \"#f0ad4e\", \"#d9534f\"],\r\n        gradientSet: [\"#9c63ff\", \"#64c064\"],\r\n        accentColor: \"#9c63ff\"\r\n    },\r\n    \"green mist\": {\r\n        simpleSet: [\"#3cbab2\", \"#8ed962\", \"#5b9d95\", \"#efcc7c\", \"#f1929f\", \"#4d8dab\"],\r\n        indicatingSet: [\"#72d63c\", \"#ffc852\", \"#f74a5e\"],\r\n        gradientSet: [\"#3cbab2\", \"#8ed962\"],\r\n        accentColor: \"#3cbab2\"\r\n    }\r\n};\r\nvar currentPaletteName;\r\nexport function currentPalette(name) {\r\n    if (void 0 === name) {\r\n        return currentPaletteName || DEFAULT_PALETTE\r\n    } else {\r\n        name = normalizeEnum(name);\r\n        currentPaletteName = name in palettes ? name : void 0\r\n    }\r\n}\r\nexport function generateColors(palette, count) {\r\n    var options = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\r\n        keepLastColorInEnd: false\r\n    };\r\n    options.type = options.baseColorSet;\r\n    options.extensionMode = options.paletteExtensionMode;\r\n    return createPalette(palette, options).generateColors(count)\r\n}\r\nexport function getPalette(palette, parameters) {\r\n    parameters = parameters || {};\r\n    palette = palette || (void 0 === currentPaletteName ? parameters.themeDefault : currentPalette());\r\n    var result;\r\n    var type = parameters.type;\r\n    if (_isArray(palette)) {\r\n        return palette.slice(0)\r\n    } else {\r\n        if (_isString(palette)) {\r\n            result = palettes[normalizeEnum(palette)]\r\n        }\r\n        if (!result) {\r\n            result = palettes[currentPalette()]\r\n        }\r\n    }\r\n    return type ? result[type].slice(0) : result\r\n}\r\nexport function registerPalette(name, palette) {\r\n    var item = {};\r\n    var paletteName;\r\n    if (_isArray(palette)) {\r\n        item.simpleSet = palette.slice(0)\r\n    } else if (palette) {\r\n        item.simpleSet = _isArray(palette.simpleSet) ? palette.simpleSet.slice(0) : void 0;\r\n        item.indicatingSet = _isArray(palette.indicatingSet) ? palette.indicatingSet.slice(0) : void 0;\r\n        item.gradientSet = _isArray(palette.gradientSet) ? palette.gradientSet.slice(0) : void 0;\r\n        item.accentColor = palette.accentColor\r\n    }\r\n    if (!item.accentColor) {\r\n        item.accentColor = item.simpleSet && item.simpleSet[0]\r\n    }\r\n    if (item.simpleSet || item.indicatingSet || item.gradientSet) {\r\n        paletteName = normalizeEnum(name);\r\n        extend(palettes[paletteName] = palettes[paletteName] || {}, item)\r\n    }\r\n}\r\nexport function getAccentColor(palette, themeDefault) {\r\n    palette = getPalette(palette, {\r\n        themeDefault: themeDefault\r\n    });\r\n    return palette.accentColor || palette[0]\r\n}\r\n\r\nfunction RingBuf(buf) {\r\n    var ind = 0;\r\n    this.next = function() {\r\n        var res = buf[ind++];\r\n        if (ind === buf.length) {\r\n            this.reset()\r\n        }\r\n        return res\r\n    };\r\n    this.reset = function() {\r\n        ind = 0\r\n    }\r\n}\r\n\r\nfunction getAlternateColorsStrategy(palette, parameters) {\r\n    var stepHighlight = parameters.useHighlight ? HIGHLIGHTING_STEP : 0;\r\n    var paletteSteps = new RingBuf([0, stepHighlight, -stepHighlight]);\r\n    var currentPalette = [];\r\n\r\n    function _reset() {\r\n        var step = paletteSteps.next();\r\n        currentPalette = step ? getAlteredPalette(palette, step) : palette.slice(0)\r\n    }\r\n    return {\r\n        getColor: function(index) {\r\n            var color = currentPalette[index % palette.length];\r\n            if (index % palette.length === palette.length - 1) {\r\n                _reset()\r\n            }\r\n            return color\r\n        },\r\n        generateColors: function(count) {\r\n            var colors = [];\r\n            count = count || parameters.count;\r\n            for (var i = 0; i < count; i++) {\r\n                colors.push(this.getColor(i))\r\n            }\r\n            return colors\r\n        },\r\n        reset: function() {\r\n            paletteSteps.reset();\r\n            _reset()\r\n        }\r\n    }\r\n}\r\n\r\nfunction getExtrapolateColorsStrategy(palette, parameters) {\r\n    return {\r\n        getColor: function(index, count) {\r\n            var paletteCount = palette.length;\r\n            var cycles = _floor((count - 1) / paletteCount + 1);\r\n            var color = palette[index % paletteCount];\r\n            if (cycles > 1) {\r\n                return function(color, cycleIndex, cycleCount) {\r\n                    var hsl = new _Color(color).hsl;\r\n                    var l = hsl.l / 100;\r\n                    var diapason = cycleCount - 1 / cycleCount;\r\n                    var minL = l - .5 * diapason;\r\n                    var maxL = l + .5 * diapason;\r\n                    var cycleMiddle = (cycleCount - 1) / 2;\r\n                    var cycleDiff = cycleIndex - cycleMiddle;\r\n                    if (minL < Math.min(.5, .9 * l)) {\r\n                        minL = Math.min(.5, .9 * l)\r\n                    }\r\n                    if (maxL > Math.max(.8, l + .15 * (1 - l))) {\r\n                        maxL = Math.max(.8, l + .15 * (1 - l))\r\n                    }\r\n                    if (cycleDiff < 0) {\r\n                        l -= (minL - l) * cycleDiff / cycleMiddle\r\n                    } else {\r\n                        l += cycleDiff / cycleMiddle * (maxL - l)\r\n                    }\r\n                    hsl.l = 100 * l;\r\n                    return _Color.prototype.fromHSL(hsl).toHex()\r\n                }(color, _floor(index / paletteCount), cycles)\r\n            }\r\n            return color\r\n        },\r\n        generateColors: function(count) {\r\n            var colors = [];\r\n            count = count || parameters.count;\r\n            for (var i = 0; i < count; i++) {\r\n                colors.push(this.getColor(i, count))\r\n            }\r\n            return colors\r\n        },\r\n        reset: function() {}\r\n    }\r\n}\r\n\r\nfunction getColorMixer(palette, parameters) {\r\n    var paletteCount = palette.length;\r\n    var extendedPalette = [];\r\n\r\n    function distributeColors(count, colorsCount, startIndex, distribution) {\r\n        var groupSize = Math.floor(count / colorsCount);\r\n        var extraItems = count - colorsCount * groupSize;\r\n        var i = startIndex;\r\n        var middleIndex;\r\n        var size;\r\n        while (i < startIndex + count) {\r\n            size = groupSize;\r\n            if (extraItems > 0) {\r\n                size += 1;\r\n                extraItems--\r\n            }\r\n            middleIndex = size > 2 ? Math.floor(size / 2) : 0;\r\n            distribution.push(i + middleIndex);\r\n            i += size\r\n        }\r\n        return distribution.sort((function(a, b) {\r\n            return a - b\r\n        }))\r\n    }\r\n\r\n    function getColorAndDistance(arr, startIndex, count) {\r\n        startIndex = (count + startIndex) % count;\r\n        var distance = 0;\r\n        for (var i = startIndex; i < 2 * count; i += 1) {\r\n            var index = (count + i) % count;\r\n            if (arr[index]) {\r\n                return [arr[index], distance]\r\n            }\r\n            distance++\r\n        }\r\n    }\r\n\r\n    function extendPalette(count) {\r\n        if (count <= paletteCount) {\r\n            return palette\r\n        }\r\n        var result = [];\r\n        var colorInGroups = paletteCount - 2;\r\n        var currentColorIndex = 0;\r\n        var cleanColorIndices = [];\r\n        if (parameters.keepLastColorInEnd) {\r\n            cleanColorIndices = distributeColors(count - 2, colorInGroups, 1, [0, count - 1])\r\n        } else {\r\n            cleanColorIndices = distributeColors(count - 1, paletteCount - 1, 1, [0])\r\n        }\r\n        for (var i = 0; i < count; i++) {\r\n            if (cleanColorIndices.indexOf(i) > -1) {\r\n                result[i] = palette[currentColorIndex++]\r\n            }\r\n        }\r\n        result = function(paletteWithEmptyColors, paletteLength) {\r\n            for (var i = 0; i < paletteLength; i++) {\r\n                var color = paletteWithEmptyColors[i];\r\n                if (!color) {\r\n                    var color1 = paletteWithEmptyColors[i - 1];\r\n                    if (!color1) {\r\n                        continue\r\n                    } else {\r\n                        var c2 = getColorAndDistance(paletteWithEmptyColors, i, paletteLength);\r\n                        var color2 = new _Color(c2[0]);\r\n                        color1 = new _Color(color1);\r\n                        for (var j = 0; j < c2[1]; j++, i++) {\r\n                            paletteWithEmptyColors[i] = color1.blend(color2, (j + 1) / (c2[1] + 1)).toHex()\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return paletteWithEmptyColors\r\n        }(result, count);\r\n        return result\r\n    }\r\n    return {\r\n        getColor: function(index, count) {\r\n            count = count || parameters.count || paletteCount;\r\n            if (extendedPalette.length !== count) {\r\n                extendedPalette = extendPalette(count)\r\n            }\r\n            return extendedPalette[index % count]\r\n        },\r\n        generateColors: function(count, repeat) {\r\n            count = count || parameters.count || paletteCount;\r\n            if (repeat && count > paletteCount) {\r\n                var colors = extendPalette(paletteCount);\r\n                for (var i = 0; i < count - paletteCount; i++) {\r\n                    colors.push(colors[i])\r\n                }\r\n                return colors\r\n            } else {\r\n                return paletteCount > 0 ? extendPalette(count).slice(0, count) : []\r\n            }\r\n        },\r\n        reset: function() {}\r\n    }\r\n}\r\nexport function createPalette(palette, parameters, themeDefaultPalette) {\r\n    var paletteObj = {\r\n        dispose() {\r\n            this._extensionStrategy = null\r\n        },\r\n        getNextColor(count) {\r\n            return this._extensionStrategy.getColor(this._currentColor++, count)\r\n        },\r\n        generateColors(count, parameters) {\r\n            return this._extensionStrategy.generateColors(count, (parameters || {}).repeat)\r\n        },\r\n        reset() {\r\n            this._currentColor = 0;\r\n            this._extensionStrategy.reset();\r\n            return this\r\n        }\r\n    };\r\n    parameters = parameters || {};\r\n    var extensionMode = (parameters.extensionMode || \"\").toLowerCase();\r\n    var colors = getPalette(palette, {\r\n        type: parameters.type || \"simpleSet\",\r\n        themeDefault: themeDefaultPalette\r\n    });\r\n    if (\"alternate\" === extensionMode) {\r\n        paletteObj._extensionStrategy = getAlternateColorsStrategy(colors, parameters)\r\n    } else if (\"extrapolate\" === extensionMode) {\r\n        paletteObj._extensionStrategy = getExtrapolateColorsStrategy(colors, parameters)\r\n    } else {\r\n        paletteObj._extensionStrategy = getColorMixer(colors, parameters)\r\n    }\r\n    paletteObj.reset();\r\n    return paletteObj\r\n}\r\n\r\nfunction getAlteredPalette(originalPalette, step) {\r\n    var palette = [];\r\n    var i;\r\n    var ii = originalPalette.length;\r\n    for (i = 0; i < ii; ++i) {\r\n        palette.push(getNewColor(originalPalette[i], step))\r\n    }\r\n    return palette\r\n}\r\n\r\nfunction getNewColor(currentColor, step) {\r\n    var newColor = new _Color(currentColor).alter(step);\r\n    var lightness = getLightness(newColor);\r\n    if (lightness > 200 || lightness < 55) {\r\n        newColor = new _Color(currentColor).alter(-step / 2)\r\n    }\r\n    return newColor.toHex()\r\n}\r\n\r\nfunction getLightness(color) {\r\n    return .3 * color.r + .59 * color.g + .11 * color.b\r\n}\r\nexport function getDiscretePalette(source, size, themeDefaultPalette) {\r\n    var palette = size > 0 ? createDiscreteColors(getPalette(source, {\r\n        type: \"gradientSet\",\r\n        themeDefault: themeDefaultPalette\r\n    }), size) : [];\r\n    return {\r\n        getColor: function(index) {\r\n            return palette[index] || null\r\n        }\r\n    }\r\n}\r\n\r\nfunction createDiscreteColors(source, count) {\r\n    var colorCount = count - 1;\r\n    var sourceCount = source.length - 1;\r\n    var colors = [];\r\n    var gradient = [];\r\n    var i;\r\n\r\n    function addColor(pos) {\r\n        var k = sourceCount * pos;\r\n        var kl = _floor(k);\r\n        var kr = _ceil(k);\r\n        gradient.push(colors[kl].blend(colors[kr], k - kl).toHex())\r\n    }\r\n    for (i = 0; i <= sourceCount; ++i) {\r\n        colors.push(new _Color(source[i]))\r\n    }\r\n    if (colorCount > 0) {\r\n        for (i = 0; i <= colorCount; ++i) {\r\n            addColor(i / colorCount)\r\n        }\r\n    } else {\r\n        addColor(.5)\r\n    }\r\n    return gradient\r\n}\r\nexport function getGradientPalette(source, themeDefaultPalette) {\r\n    var palette = getPalette(source, {\r\n        type: \"gradientSet\",\r\n        themeDefault: themeDefaultPalette\r\n    });\r\n    var color1 = new _Color(palette[0]);\r\n    var color2 = new _Color(palette[1]);\r\n    return {\r\n        getColor: function(ratio) {\r\n            return 0 <= ratio && ratio <= 1 ? color1.blend(color2, ratio).toHex() : null\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
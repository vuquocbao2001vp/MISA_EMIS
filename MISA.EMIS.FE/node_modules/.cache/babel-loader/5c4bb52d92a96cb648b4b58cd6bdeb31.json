{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/file_manager/ui.file_manager.breadcrumbs.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { extend } from \"../../core/utils/extend\";\nimport Widget from \"../widget/ui.widget\";\nimport Menu from \"../menu/ui.menu\";\nvar FILE_MANAGER_BREADCRUMBS_CLASS = \"dx-filemanager-breadcrumbs\";\nvar FILE_MANAGER_BREADCRUMBS_PARENT_FOLDER_ITEM_CLASS = FILE_MANAGER_BREADCRUMBS_CLASS + \"-parent-folder-item\";\nvar FILE_MANAGER_BREADCRUMBS_SEPARATOR_ITEM_CLASS = FILE_MANAGER_BREADCRUMBS_CLASS + \"-separator-item\";\nvar FILE_MANAGER_BREADCRUMBS_PATH_SEPARATOR_ITEM_CLASS = FILE_MANAGER_BREADCRUMBS_CLASS + \"-path-separator-item\";\n\nclass FileManagerBreadcrumbs extends Widget {\n  _init() {\n    super._init();\n\n    this._currentDirectory = null;\n  }\n\n  _initMarkup() {\n    super._initMarkup();\n\n    this._initActions();\n\n    if (this._currentDirectory) {\n      this._renderMenu();\n    }\n\n    this.$element().addClass(FILE_MANAGER_BREADCRUMBS_CLASS);\n  }\n\n  setCurrentDirectory(directory) {\n    if (!this._areDirsEqual(this._currentDirectory, directory)) {\n      this._currentDirectory = directory;\n      this.repaint();\n    }\n  }\n\n  _renderMenu() {\n    var $menu = $(\"<div>\").appendTo(this.$element());\n    this._menu = this._createComponent($menu, Menu, {\n      dataSource: this._getMenuItems(),\n      onItemClick: this._onItemClick.bind(this),\n      onItemRendered: this._onItemRendered.bind(this)\n    });\n  }\n\n  _getMenuItems() {\n    var dirLine = this._getParentDirsLine();\n\n    var result = [{\n      icon: \"arrowup\",\n      directory: this._currentDirectory.parentDirectory,\n      isPathItem: true,\n      cssClass: FILE_MANAGER_BREADCRUMBS_PARENT_FOLDER_ITEM_CLASS\n    }, {\n      text: \"\\xa0\",\n      cssClass: FILE_MANAGER_BREADCRUMBS_SEPARATOR_ITEM_CLASS\n    }];\n    dirLine.forEach((dir, index) => {\n      result.push({\n        text: dir.getDisplayName(),\n        directory: dir,\n        isPathItem: true\n      });\n\n      if (index !== dirLine.length - 1) {\n        result.push({\n          icon: \"spinnext\",\n          cssClass: FILE_MANAGER_BREADCRUMBS_PATH_SEPARATOR_ITEM_CLASS\n        });\n      }\n    });\n    return result;\n  }\n\n  _onItemClick(_ref) {\n    var {\n      itemData: itemData\n    } = _ref;\n\n    if (!itemData.isPathItem) {\n      return;\n    }\n\n    var newDir = itemData.directory;\n\n    if (!this._areDirsEqual(newDir, this._currentDirectory)) {\n      this._raiseCurrentDirectoryChanged(newDir);\n    }\n  }\n\n  _onItemRendered(_ref2) {\n    var {\n      itemElement: itemElement,\n      itemData: itemData\n    } = _ref2;\n\n    if (itemData.cssClass) {\n      $(itemElement).addClass(itemData.cssClass);\n    }\n  }\n\n  _getParentDirsLine() {\n    var currentDirectory = this._currentDirectory;\n    var result = [];\n\n    while (currentDirectory) {\n      result.unshift(currentDirectory);\n      currentDirectory = currentDirectory.parentDirectory;\n    }\n\n    return result;\n  }\n\n  _areDirsEqual(dir1, dir2) {\n    return dir1 && dir2 && dir1 === dir2 && dir1.fileItem.key === dir2.fileItem.key;\n  }\n\n  _initActions() {\n    this._actions = {\n      onCurrentDirectoryChanging: this._createActionByOption(\"onCurrentDirectoryChanging\")\n    };\n  }\n\n  _raiseCurrentDirectoryChanged(currentDirectory) {\n    this._actions.onCurrentDirectoryChanging({\n      currentDirectory: currentDirectory\n    });\n  }\n\n  _getDefaultOptions() {\n    return extend(super._getDefaultOptions(), {\n      rootFolderDisplayName: \"Files\",\n      onCurrentDirectoryChanging: null\n    });\n  }\n\n  _optionChanged(args) {\n    var name = args.name;\n\n    switch (name) {\n      case \"rootFolderDisplayName\":\n        this.repaint();\n        break;\n\n      case \"onCurrentDirectoryChanging\":\n        this._actions[name] = this._createActionByOption(name);\n        break;\n\n      default:\n        super._optionChanged(args);\n\n    }\n  }\n\n}\n\nexport default FileManagerBreadcrumbs;","map":{"version":3,"names":["$","extend","Widget","Menu","FILE_MANAGER_BREADCRUMBS_CLASS","FILE_MANAGER_BREADCRUMBS_PARENT_FOLDER_ITEM_CLASS","FILE_MANAGER_BREADCRUMBS_SEPARATOR_ITEM_CLASS","FILE_MANAGER_BREADCRUMBS_PATH_SEPARATOR_ITEM_CLASS","FileManagerBreadcrumbs","_init","_currentDirectory","_initMarkup","_initActions","_renderMenu","$element","addClass","setCurrentDirectory","directory","_areDirsEqual","repaint","$menu","appendTo","_menu","_createComponent","dataSource","_getMenuItems","onItemClick","_onItemClick","bind","onItemRendered","_onItemRendered","dirLine","_getParentDirsLine","result","icon","parentDirectory","isPathItem","cssClass","text","forEach","dir","index","push","getDisplayName","length","_ref","itemData","newDir","_raiseCurrentDirectoryChanged","_ref2","itemElement","currentDirectory","unshift","dir1","dir2","fileItem","key","_actions","onCurrentDirectoryChanging","_createActionByOption","_getDefaultOptions","rootFolderDisplayName","_optionChanged","args","name"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/file_manager/ui.file_manager.breadcrumbs.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/file_manager/ui.file_manager.breadcrumbs.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport Menu from \"../menu/ui.menu\";\r\nvar FILE_MANAGER_BREADCRUMBS_CLASS = \"dx-filemanager-breadcrumbs\";\r\nvar FILE_MANAGER_BREADCRUMBS_PARENT_FOLDER_ITEM_CLASS = FILE_MANAGER_BREADCRUMBS_CLASS + \"-parent-folder-item\";\r\nvar FILE_MANAGER_BREADCRUMBS_SEPARATOR_ITEM_CLASS = FILE_MANAGER_BREADCRUMBS_CLASS + \"-separator-item\";\r\nvar FILE_MANAGER_BREADCRUMBS_PATH_SEPARATOR_ITEM_CLASS = FILE_MANAGER_BREADCRUMBS_CLASS + \"-path-separator-item\";\r\nclass FileManagerBreadcrumbs extends Widget {\r\n    _init() {\r\n        super._init();\r\n        this._currentDirectory = null\r\n    }\r\n    _initMarkup() {\r\n        super._initMarkup();\r\n        this._initActions();\r\n        if (this._currentDirectory) {\r\n            this._renderMenu()\r\n        }\r\n        this.$element().addClass(FILE_MANAGER_BREADCRUMBS_CLASS)\r\n    }\r\n    setCurrentDirectory(directory) {\r\n        if (!this._areDirsEqual(this._currentDirectory, directory)) {\r\n            this._currentDirectory = directory;\r\n            this.repaint()\r\n        }\r\n    }\r\n    _renderMenu() {\r\n        var $menu = $(\"<div>\").appendTo(this.$element());\r\n        this._menu = this._createComponent($menu, Menu, {\r\n            dataSource: this._getMenuItems(),\r\n            onItemClick: this._onItemClick.bind(this),\r\n            onItemRendered: this._onItemRendered.bind(this)\r\n        })\r\n    }\r\n    _getMenuItems() {\r\n        var dirLine = this._getParentDirsLine();\r\n        var result = [{\r\n            icon: \"arrowup\",\r\n            directory: this._currentDirectory.parentDirectory,\r\n            isPathItem: true,\r\n            cssClass: FILE_MANAGER_BREADCRUMBS_PARENT_FOLDER_ITEM_CLASS\r\n        }, {\r\n            text: \"\\xa0\",\r\n            cssClass: FILE_MANAGER_BREADCRUMBS_SEPARATOR_ITEM_CLASS\r\n        }];\r\n        dirLine.forEach((dir, index) => {\r\n            result.push({\r\n                text: dir.getDisplayName(),\r\n                directory: dir,\r\n                isPathItem: true\r\n            });\r\n            if (index !== dirLine.length - 1) {\r\n                result.push({\r\n                    icon: \"spinnext\",\r\n                    cssClass: FILE_MANAGER_BREADCRUMBS_PATH_SEPARATOR_ITEM_CLASS\r\n                })\r\n            }\r\n        });\r\n        return result\r\n    }\r\n    _onItemClick(_ref) {\r\n        var {\r\n            itemData: itemData\r\n        } = _ref;\r\n        if (!itemData.isPathItem) {\r\n            return\r\n        }\r\n        var newDir = itemData.directory;\r\n        if (!this._areDirsEqual(newDir, this._currentDirectory)) {\r\n            this._raiseCurrentDirectoryChanged(newDir)\r\n        }\r\n    }\r\n    _onItemRendered(_ref2) {\r\n        var {\r\n            itemElement: itemElement,\r\n            itemData: itemData\r\n        } = _ref2;\r\n        if (itemData.cssClass) {\r\n            $(itemElement).addClass(itemData.cssClass)\r\n        }\r\n    }\r\n    _getParentDirsLine() {\r\n        var currentDirectory = this._currentDirectory;\r\n        var result = [];\r\n        while (currentDirectory) {\r\n            result.unshift(currentDirectory);\r\n            currentDirectory = currentDirectory.parentDirectory\r\n        }\r\n        return result\r\n    }\r\n    _areDirsEqual(dir1, dir2) {\r\n        return dir1 && dir2 && dir1 === dir2 && dir1.fileItem.key === dir2.fileItem.key\r\n    }\r\n    _initActions() {\r\n        this._actions = {\r\n            onCurrentDirectoryChanging: this._createActionByOption(\"onCurrentDirectoryChanging\")\r\n        }\r\n    }\r\n    _raiseCurrentDirectoryChanged(currentDirectory) {\r\n        this._actions.onCurrentDirectoryChanging({\r\n            currentDirectory: currentDirectory\r\n        })\r\n    }\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            rootFolderDisplayName: \"Files\",\r\n            onCurrentDirectoryChanging: null\r\n        })\r\n    }\r\n    _optionChanged(args) {\r\n        var name = args.name;\r\n        switch (name) {\r\n            case \"rootFolderDisplayName\":\r\n                this.repaint();\r\n                break;\r\n            case \"onCurrentDirectoryChanging\":\r\n                this._actions[name] = this._createActionByOption(name);\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n}\r\nexport default FileManagerBreadcrumbs;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
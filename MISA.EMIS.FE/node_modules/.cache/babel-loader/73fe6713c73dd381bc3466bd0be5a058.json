{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/scheduler/workspaces/view_model/view_data_provider.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"groups\", \"groupOrientation\", \"groupByDate\", \"isAllDayPanelVisible\"];\nimport dateUtils from \"../../../../core/utils/date\";\nimport { getGroupPanelData } from \"../../../../renovation/ui/scheduler/view_model/group_panel/utils\";\nimport { isGroupingByDate, isHorizontalGroupingApplied, isVerticalGroupingApplied } from \"../../../../renovation/ui/scheduler/workspaces/utils\";\nimport { calculateIsGroupedAllDayPanel } from \"../../../../renovation/ui/scheduler/view_model/to_test/views/utils/base\";\nimport { DateHeaderDataGenerator } from \"./date_header_data_generator\";\nimport { GroupedDataMapProvider } from \"./grouped_data_map_provider\";\nimport { TimePanelDataGenerator } from \"./time_panel_data_generator\";\nimport { getViewDataGeneratorByViewType } from \"./utils\";\nimport timeZoneUtils from \"../../utils.timeZone\";\nexport default class ViewDataProvider {\n  constructor(viewType) {\n    this.viewDataGenerator = getViewDataGeneratorByViewType(viewType);\n    this.viewData = {};\n    this.completeViewDataMap = [];\n    this.completeDateHeaderMap = [];\n    this.viewDataMap = {};\n    this._groupedDataMapProvider = null;\n  }\n\n  get groupedDataMap() {\n    return this._groupedDataMapProvider.groupedDataMap;\n  }\n\n  get hiddenInterval() {\n    return this.viewDataGenerator.hiddenInterval;\n  }\n\n  isSkippedDate(date) {\n    return this.viewDataGenerator.isSkippedDate(date);\n  }\n\n  update(options, isGenerateNewViewData) {\n    this.viewDataGenerator = getViewDataGeneratorByViewType(options.viewType);\n    var viewDataGenerator = this.viewDataGenerator;\n    var dateHeaderDataGenerator = new DateHeaderDataGenerator(viewDataGenerator);\n    var timePanelDataGenerator = new TimePanelDataGenerator(viewDataGenerator);\n\n    var renderOptions = this._transformRenderOptions(options);\n\n    renderOptions.interval = this.viewDataGenerator.getInterval(renderOptions.hoursInterval);\n    this._options = renderOptions;\n\n    if (isGenerateNewViewData) {\n      this.completeViewDataMap = viewDataGenerator.getCompleteViewDataMap(renderOptions);\n      this.completeDateHeaderMap = dateHeaderDataGenerator.getCompleteDateHeaderMap(renderOptions, this.completeViewDataMap);\n\n      if (renderOptions.isGenerateTimePanelData) {\n        this.completeTimePanelMap = timePanelDataGenerator.getCompleteTimePanelMap(renderOptions, this.completeViewDataMap);\n      }\n    }\n\n    this.viewDataMap = viewDataGenerator.generateViewDataMap(this.completeViewDataMap, renderOptions);\n    this.updateViewData(renderOptions);\n    this._groupedDataMapProvider = new GroupedDataMapProvider(this.viewDataGenerator, this.viewDataMap, this.completeViewDataMap, {\n      isVerticalGrouping: renderOptions.isVerticalGrouping,\n      viewType: renderOptions.viewType\n    });\n    this.dateHeaderData = dateHeaderDataGenerator.generateDateHeaderData(this.completeDateHeaderMap, this.completeViewDataMap, renderOptions);\n\n    if (renderOptions.isGenerateTimePanelData) {\n      this.timePanelData = timePanelDataGenerator.generateTimePanelData(this.completeTimePanelMap, renderOptions);\n    }\n  }\n\n  createGroupedDataMapProvider() {\n    this._groupedDataMapProvider = new GroupedDataMapProvider(this.viewDataGenerator, this.viewDataMap, this.completeViewDataMap, {\n      isVerticalGrouping: this._options.isVerticalGrouping,\n      viewType: this._options.viewType\n    });\n  }\n\n  updateViewData(options) {\n    var renderOptions = this._transformRenderOptions(options);\n\n    this.viewDataMapWithSelection = this.viewDataGenerator.markSelectedAndFocusedCells(this.viewDataMap, renderOptions);\n    this.viewData = this.viewDataGenerator.getViewDataFromMap(this.completeViewDataMap, this.viewDataMapWithSelection, renderOptions);\n  }\n\n  _transformRenderOptions(renderOptions) {\n    var {\n      groups: groups,\n      groupOrientation: groupOrientation,\n      groupByDate: groupByDate,\n      isAllDayPanelVisible: isAllDayPanelVisible\n    } = renderOptions,\n        restOptions = _objectWithoutPropertiesLoose(renderOptions, _excluded);\n\n    return _extends({}, restOptions, {\n      startViewDate: this.viewDataGenerator._calculateStartViewDate(renderOptions),\n      isVerticalGrouping: isVerticalGroupingApplied(groups, groupOrientation),\n      isHorizontalGrouping: isHorizontalGroupingApplied(groups, groupOrientation),\n      isGroupedByDate: isGroupingByDate(groups, groupOrientation, groupByDate),\n      isGroupedAllDayPanel: calculateIsGroupedAllDayPanel(groups, groupOrientation, isAllDayPanelVisible),\n      groups: groups,\n      groupOrientation: groupOrientation,\n      isAllDayPanelVisible: isAllDayPanelVisible\n    });\n  }\n\n  getGroupPanelData(options) {\n    var renderOptions = this._transformRenderOptions(options);\n\n    if (renderOptions.groups.length > 0) {\n      var cellCount = this.getCellCount(renderOptions);\n      return getGroupPanelData(renderOptions.groups, cellCount, renderOptions.isGroupedByDate, renderOptions.isGroupedByDate ? 1 : cellCount);\n    }\n\n    return;\n  }\n\n  getGroupStartDate(groupIndex) {\n    return this._groupedDataMapProvider.getGroupStartDate(groupIndex);\n  }\n\n  getGroupEndDate(groupIndex) {\n    return this._groupedDataMapProvider.getGroupEndDate(groupIndex);\n  }\n\n  findGroupCellStartDate(groupIndex, startDate, endDate, isAllDay, isFindByDate) {\n    return this._groupedDataMapProvider.findGroupCellStartDate(groupIndex, startDate, endDate, isAllDay, isFindByDate);\n  }\n\n  findAllDayGroupCellStartDate(groupIndex, startDate) {\n    return this._groupedDataMapProvider.findAllDayGroupCellStartDate(groupIndex, startDate);\n  }\n\n  findCellPositionInMap(cellInfo) {\n    return this._groupedDataMapProvider.findCellPositionInMap(cellInfo);\n  }\n\n  hasAllDayPanel() {\n    var {\n      viewData: viewData\n    } = this.viewDataMap;\n    var {\n      allDayPanel: allDayPanel\n    } = viewData.groupedData[0];\n    return !viewData.isGroupedAllDayPanel && (null === allDayPanel || void 0 === allDayPanel ? void 0 : allDayPanel.length) > 0;\n  }\n\n  getCellsGroup(groupIndex) {\n    return this._groupedDataMapProvider.getCellsGroup(groupIndex);\n  }\n\n  getCompletedGroupsInfo() {\n    return this._groupedDataMapProvider.getCompletedGroupsInfo();\n  }\n\n  getGroupIndices() {\n    return this._groupedDataMapProvider.getGroupIndices();\n  }\n\n  getLastGroupCellPosition(groupIndex) {\n    return this._groupedDataMapProvider.getLastGroupCellPosition(groupIndex);\n  }\n\n  getRowCountInGroup(groupIndex) {\n    return this._groupedDataMapProvider.getRowCountInGroup(groupIndex);\n  }\n\n  getCellData(rowIndex, columnIndex, isAllDay, rtlEnabled) {\n    var row = isAllDay && !this._options.isVerticalGrouping ? this.viewDataMap.allDayPanelMap : this.viewDataMap.dateTableMap[rowIndex];\n    var actualColumnIndex = !rtlEnabled ? columnIndex : row.length - 1 - columnIndex;\n    var {\n      cellData: cellData\n    } = row[actualColumnIndex];\n    return cellData;\n  }\n\n  getCellsByGroupIndexAndAllDay(groupIndex, allDay) {\n    var rowsPerGroup = this._getRowCountWithAllDayRows();\n\n    var isShowAllDayPanel = this._options.isAllDayPanelVisible;\n    var firstRowInGroup = this._options.isVerticalGrouping ? groupIndex * rowsPerGroup : 0;\n    var lastRowInGroup = this._options.isVerticalGrouping ? (groupIndex + 1) * rowsPerGroup - 1 : rowsPerGroup;\n    var correctedFirstRow = isShowAllDayPanel && !allDay ? firstRowInGroup + 1 : firstRowInGroup;\n    var correctedLastRow = allDay ? correctedFirstRow : lastRowInGroup;\n    return this.completeViewDataMap.slice(correctedFirstRow, correctedLastRow + 1).map(row => row.filter(_ref => {\n      var {\n        groupIndex: currentGroupIndex\n      } = _ref;\n      return groupIndex === currentGroupIndex;\n    }));\n  }\n\n  getCellCountWithGroup(groupIndex) {\n    var rowIndex = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\n    var {\n      dateTableGroupedMap: dateTableGroupedMap\n    } = this.groupedDataMap;\n    return dateTableGroupedMap.filter((_, index) => index <= groupIndex).reduce((previous, row) => previous + row[rowIndex].length, 0);\n  }\n\n  hasGroupAllDayPanel(groupIndex) {\n    var _this$groupedDataMap$2;\n\n    if (this._options.isVerticalGrouping) {\n      var _this$groupedDataMap$;\n\n      return !!(null !== (_this$groupedDataMap$ = this.groupedDataMap.dateTableGroupedMap[groupIndex]) && void 0 !== _this$groupedDataMap$ && _this$groupedDataMap$[0][0].cellData.allDay);\n    }\n\n    return (null === (_this$groupedDataMap$2 = this.groupedDataMap.allDayPanelGroupedMap[groupIndex]) || void 0 === _this$groupedDataMap$2 ? void 0 : _this$groupedDataMap$2.length) > 0;\n  }\n\n  isGroupIntersectDateInterval(groupIndex, startDate, endDate) {\n    var groupStartDate = this.getGroupStartDate(groupIndex);\n    var groupEndDate = this.getGroupEndDate(groupIndex);\n    return startDate < groupEndDate && endDate > groupStartDate;\n  }\n\n  findGlobalCellPosition(date) {\n    var groupIndex = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\n    var allDay = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : false;\n    var {\n      completeViewDataMap: completeViewDataMap\n    } = this;\n    var showAllDayPanel = this._options.isAllDayPanelVisible;\n\n    for (var rowIndex = 0; rowIndex < completeViewDataMap.length; rowIndex += 1) {\n      var currentRow = completeViewDataMap[rowIndex];\n\n      for (var columnIndex = 0; columnIndex < currentRow.length; columnIndex += 1) {\n        var cellData = currentRow[columnIndex];\n        var {\n          startDate: currentStartDate,\n          endDate: currentEndDate,\n          groupIndex: currentGroupIndex,\n          allDay: currentAllDay\n        } = cellData;\n\n        if (groupIndex === currentGroupIndex && allDay === !!currentAllDay && this._compareDatesAndAllDay(date, currentStartDate, currentEndDate, allDay)) {\n          return {\n            position: {\n              columnIndex: columnIndex,\n              rowIndex: showAllDayPanel && !this._options.isVerticalGrouping ? rowIndex - 1 : rowIndex\n            },\n            cellData: cellData\n          };\n        }\n      }\n    }\n  }\n\n  _compareDatesAndAllDay(date, cellStartDate, cellEndDate, allDay) {\n    var time = date.getTime();\n    var trimmedTime = dateUtils.trimTime(date).getTime();\n    var cellStartTime = cellStartDate.getTime();\n    var cellEndTime = cellEndDate.getTime();\n    return !allDay && time >= cellStartTime && time < cellEndTime || allDay && trimmedTime === cellStartTime;\n  }\n\n  getSkippedDaysCount(groupIndex, startDate, endDate, daysCount) {\n    var {\n      dateTableGroupedMap: dateTableGroupedMap\n    } = this._groupedDataMapProvider.groupedDataMap;\n    var groupedData = dateTableGroupedMap[groupIndex];\n    var includedDays = 0;\n\n    for (var rowIndex = 0; rowIndex < groupedData.length; rowIndex += 1) {\n      for (var columnIndex = 0; columnIndex < groupedData[rowIndex].length; columnIndex += 1) {\n        var cell = groupedData[rowIndex][columnIndex].cellData;\n\n        if (startDate.getTime() < cell.endDate.getTime() && endDate.getTime() > cell.startDate.getTime()) {\n          includedDays += 1;\n        }\n      }\n    }\n\n    var lastCell = groupedData[groupedData.length - 1][groupedData[0].length - 1].cellData;\n    var lastCellStart = dateUtils.trimTime(lastCell.startDate);\n    var daysAfterView = Math.floor((endDate.getTime() - lastCellStart.getTime()) / dateUtils.dateToMilliseconds(\"day\"));\n    var deltaDays = daysAfterView > 0 ? daysAfterView : 0;\n    return daysCount - includedDays - deltaDays;\n  }\n\n  getColumnsCount() {\n    var {\n      dateTableMap: dateTableMap\n    } = this.viewDataMap;\n    return dateTableMap ? dateTableMap[0].length : 0;\n  }\n\n  getViewEdgeIndices(isAllDayPanel) {\n    if (isAllDayPanel) {\n      return {\n        firstColumnIndex: 0,\n        lastColumnIndex: this.viewDataMap.allDayPanelMap.length - 1,\n        firstRowIndex: 0,\n        lastRowIndex: 0\n      };\n    }\n\n    return {\n      firstColumnIndex: 0,\n      lastColumnIndex: this.viewDataMap.dateTableMap[0].length - 1,\n      firstRowIndex: 0,\n      lastRowIndex: this.viewDataMap.dateTableMap.length - 1\n    };\n  }\n\n  getGroupEdgeIndices(groupIndex, isAllDay) {\n    var groupedDataMap = this.groupedDataMap.dateTableGroupedMap[groupIndex];\n    var cellsCount = groupedDataMap[0].length;\n    var rowsCount = groupedDataMap.length;\n    var firstColumnIndex = groupedDataMap[0][0].position.columnIndex;\n    var lastColumnIndex = groupedDataMap[0][cellsCount - 1].position.columnIndex;\n\n    if (isAllDay) {\n      return {\n        firstColumnIndex: firstColumnIndex,\n        lastColumnIndex: lastColumnIndex,\n        firstRowIndex: 0,\n        lastRowIndex: 0\n      };\n    }\n\n    return {\n      firstColumnIndex: firstColumnIndex,\n      lastColumnIndex: lastColumnIndex,\n      firstRowIndex: groupedDataMap[0][0].position.rowIndex,\n      lastRowIndex: groupedDataMap[rowsCount - 1][0].position.rowIndex\n    };\n  }\n\n  isSameCell(firstCellData, secondCellData) {\n    var {\n      startDate: firstStartDate,\n      groupIndex: firstGroupIndex,\n      allDay: firstAllDay,\n      index: firstIndex\n    } = firstCellData;\n    var {\n      startDate: secondStartDate,\n      groupIndex: secondGroupIndex,\n      allDay: secondAllDay,\n      index: secondIndex\n    } = secondCellData;\n    return firstStartDate.getTime() === secondStartDate.getTime() && firstGroupIndex === secondGroupIndex && firstAllDay === secondAllDay && firstIndex === secondIndex;\n  }\n\n  getLastViewDate() {\n    var completeViewDataMap = this.completeViewDataMap;\n    var rowsCount = completeViewDataMap.length - 1;\n    return completeViewDataMap[rowsCount][completeViewDataMap[rowsCount].length - 1].endDate;\n  }\n\n  getStartViewDate() {\n    return this._options.startViewDate;\n  }\n\n  getIntervalDuration(intervalCount) {\n    return this.viewDataGenerator._getIntervalDuration(intervalCount);\n  }\n\n  getLastCellEndDate() {\n    return new Date(this.getLastViewDate().getTime() - dateUtils.dateToMilliseconds(\"minute\"));\n  }\n\n  getLastViewDateByEndDayHour(endDayHour) {\n    var lastCellEndDate = this.getLastCellEndDate();\n    var endTime = dateUtils.dateTimeFromDecimal(endDayHour);\n    var endDateOfLastViewCell = new Date(lastCellEndDate.setHours(endTime.hours, endTime.minutes));\n    return this._adjustEndDateByDaylightDiff(lastCellEndDate, endDateOfLastViewCell);\n  }\n\n  _adjustEndDateByDaylightDiff(startDate, endDate) {\n    var daylightDiff = timeZoneUtils.getDaylightOffsetInMs(startDate, endDate);\n    var endDateOfLastViewCell = new Date(endDate.getTime() - daylightDiff);\n    return new Date(endDateOfLastViewCell.getTime() - dateUtils.dateToMilliseconds(\"minute\"));\n  }\n\n  getCellCountInDay(startDayHour, endDayHour, hoursInterval) {\n    return this.viewDataGenerator.getCellCountInDay(startDayHour, endDayHour, hoursInterval);\n  }\n\n  getCellCount(options) {\n    return this.viewDataGenerator.getCellCount(options);\n  }\n\n  getRowCount(options) {\n    return this.viewDataGenerator.getRowCount(options);\n  }\n\n  getVisibleDayDuration(startDayHour, endDayHour, hoursInterval) {\n    return this.viewDataGenerator.getVisibleDayDuration(startDayHour, endDayHour, hoursInterval);\n  }\n\n  _getRowCountWithAllDayRows() {\n    var allDayRowCount = this._options.isAllDayPanelVisible ? 1 : 0;\n    return this.getRowCount(this._options) + allDayRowCount;\n  }\n\n  getFirstDayOfWeek(firstDayOfWeekOption) {\n    return this.viewDataGenerator.getFirstDayOfWeek(firstDayOfWeekOption);\n  }\n\n  setViewOptions(options) {\n    this._options = this._transformRenderOptions(options);\n  }\n\n  getViewOptions() {\n    return this._options;\n  }\n\n  getViewPortGroupCount() {\n    var {\n      dateTableGroupedMap: dateTableGroupedMap\n    } = this.groupedDataMap;\n    return (null === dateTableGroupedMap || void 0 === dateTableGroupedMap ? void 0 : dateTableGroupedMap.length) || 0;\n  }\n\n}","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","_excluded","dateUtils","getGroupPanelData","isGroupingByDate","isHorizontalGroupingApplied","isVerticalGroupingApplied","calculateIsGroupedAllDayPanel","DateHeaderDataGenerator","GroupedDataMapProvider","TimePanelDataGenerator","getViewDataGeneratorByViewType","timeZoneUtils","ViewDataProvider","constructor","viewType","viewDataGenerator","viewData","completeViewDataMap","completeDateHeaderMap","viewDataMap","_groupedDataMapProvider","groupedDataMap","hiddenInterval","isSkippedDate","date","update","options","isGenerateNewViewData","dateHeaderDataGenerator","timePanelDataGenerator","renderOptions","_transformRenderOptions","interval","getInterval","hoursInterval","_options","getCompleteViewDataMap","getCompleteDateHeaderMap","isGenerateTimePanelData","completeTimePanelMap","getCompleteTimePanelMap","generateViewDataMap","updateViewData","isVerticalGrouping","dateHeaderData","generateDateHeaderData","timePanelData","generateTimePanelData","createGroupedDataMapProvider","viewDataMapWithSelection","markSelectedAndFocusedCells","getViewDataFromMap","groups","groupOrientation","groupByDate","isAllDayPanelVisible","restOptions","startViewDate","_calculateStartViewDate","isHorizontalGrouping","isGroupedByDate","isGroupedAllDayPanel","length","cellCount","getCellCount","getGroupStartDate","groupIndex","getGroupEndDate","findGroupCellStartDate","startDate","endDate","isAllDay","isFindByDate","findAllDayGroupCellStartDate","findCellPositionInMap","cellInfo","hasAllDayPanel","allDayPanel","groupedData","getCellsGroup","getCompletedGroupsInfo","getGroupIndices","getLastGroupCellPosition","getRowCountInGroup","getCellData","rowIndex","columnIndex","rtlEnabled","row","allDayPanelMap","dateTableMap","actualColumnIndex","cellData","getCellsByGroupIndexAndAllDay","allDay","rowsPerGroup","_getRowCountWithAllDayRows","isShowAllDayPanel","firstRowInGroup","lastRowInGroup","correctedFirstRow","correctedLastRow","slice","map","filter","_ref","currentGroupIndex","getCellCountWithGroup","arguments","dateTableGroupedMap","_","index","reduce","previous","hasGroupAllDayPanel","_this$groupedDataMap$2","_this$groupedDataMap$","allDayPanelGroupedMap","isGroupIntersectDateInterval","groupStartDate","groupEndDate","findGlobalCellPosition","showAllDayPanel","currentRow","currentStartDate","currentEndDate","currentAllDay","_compareDatesAndAllDay","position","cellStartDate","cellEndDate","time","getTime","trimmedTime","trimTime","cellStartTime","cellEndTime","getSkippedDaysCount","daysCount","includedDays","cell","lastCell","lastCellStart","daysAfterView","Math","floor","dateToMilliseconds","deltaDays","getColumnsCount","getViewEdgeIndices","isAllDayPanel","firstColumnIndex","lastColumnIndex","firstRowIndex","lastRowIndex","getGroupEdgeIndices","cellsCount","rowsCount","isSameCell","firstCellData","secondCellData","firstStartDate","firstGroupIndex","firstAllDay","firstIndex","secondStartDate","secondGroupIndex","secondAllDay","secondIndex","getLastViewDate","getStartViewDate","getIntervalDuration","intervalCount","_getIntervalDuration","getLastCellEndDate","Date","getLastViewDateByEndDayHour","endDayHour","lastCellEndDate","endTime","dateTimeFromDecimal","endDateOfLastViewCell","setHours","hours","minutes","_adjustEndDateByDaylightDiff","daylightDiff","getDaylightOffsetInMs","getCellCountInDay","startDayHour","getRowCount","getVisibleDayDuration","allDayRowCount","getFirstDayOfWeek","firstDayOfWeekOption","setViewOptions","getViewOptions","getViewPortGroupCount"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/scheduler/workspaces/view_model/view_data_provider.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/scheduler/workspaces/view_model/view_data_provider.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"groups\", \"groupOrientation\", \"groupByDate\", \"isAllDayPanelVisible\"];\r\nimport dateUtils from \"../../../../core/utils/date\";\r\nimport {\r\n    getGroupPanelData\r\n} from \"../../../../renovation/ui/scheduler/view_model/group_panel/utils\";\r\nimport {\r\n    isGroupingByDate,\r\n    isHorizontalGroupingApplied,\r\n    isVerticalGroupingApplied\r\n} from \"../../../../renovation/ui/scheduler/workspaces/utils\";\r\nimport {\r\n    calculateIsGroupedAllDayPanel\r\n} from \"../../../../renovation/ui/scheduler/view_model/to_test/views/utils/base\";\r\nimport {\r\n    DateHeaderDataGenerator\r\n} from \"./date_header_data_generator\";\r\nimport {\r\n    GroupedDataMapProvider\r\n} from \"./grouped_data_map_provider\";\r\nimport {\r\n    TimePanelDataGenerator\r\n} from \"./time_panel_data_generator\";\r\nimport {\r\n    getViewDataGeneratorByViewType\r\n} from \"./utils\";\r\nimport timeZoneUtils from \"../../utils.timeZone\";\r\nexport default class ViewDataProvider {\r\n    constructor(viewType) {\r\n        this.viewDataGenerator = getViewDataGeneratorByViewType(viewType);\r\n        this.viewData = {};\r\n        this.completeViewDataMap = [];\r\n        this.completeDateHeaderMap = [];\r\n        this.viewDataMap = {};\r\n        this._groupedDataMapProvider = null\r\n    }\r\n    get groupedDataMap() {\r\n        return this._groupedDataMapProvider.groupedDataMap\r\n    }\r\n    get hiddenInterval() {\r\n        return this.viewDataGenerator.hiddenInterval\r\n    }\r\n    isSkippedDate(date) {\r\n        return this.viewDataGenerator.isSkippedDate(date)\r\n    }\r\n    update(options, isGenerateNewViewData) {\r\n        this.viewDataGenerator = getViewDataGeneratorByViewType(options.viewType);\r\n        var viewDataGenerator = this.viewDataGenerator;\r\n        var dateHeaderDataGenerator = new DateHeaderDataGenerator(viewDataGenerator);\r\n        var timePanelDataGenerator = new TimePanelDataGenerator(viewDataGenerator);\r\n        var renderOptions = this._transformRenderOptions(options);\r\n        renderOptions.interval = this.viewDataGenerator.getInterval(renderOptions.hoursInterval);\r\n        this._options = renderOptions;\r\n        if (isGenerateNewViewData) {\r\n            this.completeViewDataMap = viewDataGenerator.getCompleteViewDataMap(renderOptions);\r\n            this.completeDateHeaderMap = dateHeaderDataGenerator.getCompleteDateHeaderMap(renderOptions, this.completeViewDataMap);\r\n            if (renderOptions.isGenerateTimePanelData) {\r\n                this.completeTimePanelMap = timePanelDataGenerator.getCompleteTimePanelMap(renderOptions, this.completeViewDataMap)\r\n            }\r\n        }\r\n        this.viewDataMap = viewDataGenerator.generateViewDataMap(this.completeViewDataMap, renderOptions);\r\n        this.updateViewData(renderOptions);\r\n        this._groupedDataMapProvider = new GroupedDataMapProvider(this.viewDataGenerator, this.viewDataMap, this.completeViewDataMap, {\r\n            isVerticalGrouping: renderOptions.isVerticalGrouping,\r\n            viewType: renderOptions.viewType\r\n        });\r\n        this.dateHeaderData = dateHeaderDataGenerator.generateDateHeaderData(this.completeDateHeaderMap, this.completeViewDataMap, renderOptions);\r\n        if (renderOptions.isGenerateTimePanelData) {\r\n            this.timePanelData = timePanelDataGenerator.generateTimePanelData(this.completeTimePanelMap, renderOptions)\r\n        }\r\n    }\r\n    createGroupedDataMapProvider() {\r\n        this._groupedDataMapProvider = new GroupedDataMapProvider(this.viewDataGenerator, this.viewDataMap, this.completeViewDataMap, {\r\n            isVerticalGrouping: this._options.isVerticalGrouping,\r\n            viewType: this._options.viewType\r\n        })\r\n    }\r\n    updateViewData(options) {\r\n        var renderOptions = this._transformRenderOptions(options);\r\n        this.viewDataMapWithSelection = this.viewDataGenerator.markSelectedAndFocusedCells(this.viewDataMap, renderOptions);\r\n        this.viewData = this.viewDataGenerator.getViewDataFromMap(this.completeViewDataMap, this.viewDataMapWithSelection, renderOptions)\r\n    }\r\n    _transformRenderOptions(renderOptions) {\r\n        var {\r\n            groups: groups,\r\n            groupOrientation: groupOrientation,\r\n            groupByDate: groupByDate,\r\n            isAllDayPanelVisible: isAllDayPanelVisible\r\n        } = renderOptions, restOptions = _objectWithoutPropertiesLoose(renderOptions, _excluded);\r\n        return _extends({}, restOptions, {\r\n            startViewDate: this.viewDataGenerator._calculateStartViewDate(renderOptions),\r\n            isVerticalGrouping: isVerticalGroupingApplied(groups, groupOrientation),\r\n            isHorizontalGrouping: isHorizontalGroupingApplied(groups, groupOrientation),\r\n            isGroupedByDate: isGroupingByDate(groups, groupOrientation, groupByDate),\r\n            isGroupedAllDayPanel: calculateIsGroupedAllDayPanel(groups, groupOrientation, isAllDayPanelVisible),\r\n            groups: groups,\r\n            groupOrientation: groupOrientation,\r\n            isAllDayPanelVisible: isAllDayPanelVisible\r\n        })\r\n    }\r\n    getGroupPanelData(options) {\r\n        var renderOptions = this._transformRenderOptions(options);\r\n        if (renderOptions.groups.length > 0) {\r\n            var cellCount = this.getCellCount(renderOptions);\r\n            return getGroupPanelData(renderOptions.groups, cellCount, renderOptions.isGroupedByDate, renderOptions.isGroupedByDate ? 1 : cellCount)\r\n        }\r\n        return\r\n    }\r\n    getGroupStartDate(groupIndex) {\r\n        return this._groupedDataMapProvider.getGroupStartDate(groupIndex)\r\n    }\r\n    getGroupEndDate(groupIndex) {\r\n        return this._groupedDataMapProvider.getGroupEndDate(groupIndex)\r\n    }\r\n    findGroupCellStartDate(groupIndex, startDate, endDate, isAllDay, isFindByDate) {\r\n        return this._groupedDataMapProvider.findGroupCellStartDate(groupIndex, startDate, endDate, isAllDay, isFindByDate)\r\n    }\r\n    findAllDayGroupCellStartDate(groupIndex, startDate) {\r\n        return this._groupedDataMapProvider.findAllDayGroupCellStartDate(groupIndex, startDate)\r\n    }\r\n    findCellPositionInMap(cellInfo) {\r\n        return this._groupedDataMapProvider.findCellPositionInMap(cellInfo)\r\n    }\r\n    hasAllDayPanel() {\r\n        var {\r\n            viewData: viewData\r\n        } = this.viewDataMap;\r\n        var {\r\n            allDayPanel: allDayPanel\r\n        } = viewData.groupedData[0];\r\n        return !viewData.isGroupedAllDayPanel && (null === allDayPanel || void 0 === allDayPanel ? void 0 : allDayPanel.length) > 0\r\n    }\r\n    getCellsGroup(groupIndex) {\r\n        return this._groupedDataMapProvider.getCellsGroup(groupIndex)\r\n    }\r\n    getCompletedGroupsInfo() {\r\n        return this._groupedDataMapProvider.getCompletedGroupsInfo()\r\n    }\r\n    getGroupIndices() {\r\n        return this._groupedDataMapProvider.getGroupIndices()\r\n    }\r\n    getLastGroupCellPosition(groupIndex) {\r\n        return this._groupedDataMapProvider.getLastGroupCellPosition(groupIndex)\r\n    }\r\n    getRowCountInGroup(groupIndex) {\r\n        return this._groupedDataMapProvider.getRowCountInGroup(groupIndex)\r\n    }\r\n    getCellData(rowIndex, columnIndex, isAllDay, rtlEnabled) {\r\n        var row = isAllDay && !this._options.isVerticalGrouping ? this.viewDataMap.allDayPanelMap : this.viewDataMap.dateTableMap[rowIndex];\r\n        var actualColumnIndex = !rtlEnabled ? columnIndex : row.length - 1 - columnIndex;\r\n        var {\r\n            cellData: cellData\r\n        } = row[actualColumnIndex];\r\n        return cellData\r\n    }\r\n    getCellsByGroupIndexAndAllDay(groupIndex, allDay) {\r\n        var rowsPerGroup = this._getRowCountWithAllDayRows();\r\n        var isShowAllDayPanel = this._options.isAllDayPanelVisible;\r\n        var firstRowInGroup = this._options.isVerticalGrouping ? groupIndex * rowsPerGroup : 0;\r\n        var lastRowInGroup = this._options.isVerticalGrouping ? (groupIndex + 1) * rowsPerGroup - 1 : rowsPerGroup;\r\n        var correctedFirstRow = isShowAllDayPanel && !allDay ? firstRowInGroup + 1 : firstRowInGroup;\r\n        var correctedLastRow = allDay ? correctedFirstRow : lastRowInGroup;\r\n        return this.completeViewDataMap.slice(correctedFirstRow, correctedLastRow + 1).map(row => row.filter(_ref => {\r\n            var {\r\n                groupIndex: currentGroupIndex\r\n            } = _ref;\r\n            return groupIndex === currentGroupIndex\r\n        }))\r\n    }\r\n    getCellCountWithGroup(groupIndex) {\r\n        var rowIndex = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\r\n        var {\r\n            dateTableGroupedMap: dateTableGroupedMap\r\n        } = this.groupedDataMap;\r\n        return dateTableGroupedMap.filter((_, index) => index <= groupIndex).reduce((previous, row) => previous + row[rowIndex].length, 0)\r\n    }\r\n    hasGroupAllDayPanel(groupIndex) {\r\n        var _this$groupedDataMap$2;\r\n        if (this._options.isVerticalGrouping) {\r\n            var _this$groupedDataMap$;\r\n            return !!(null !== (_this$groupedDataMap$ = this.groupedDataMap.dateTableGroupedMap[groupIndex]) && void 0 !== _this$groupedDataMap$ && _this$groupedDataMap$[0][0].cellData.allDay)\r\n        }\r\n        return (null === (_this$groupedDataMap$2 = this.groupedDataMap.allDayPanelGroupedMap[groupIndex]) || void 0 === _this$groupedDataMap$2 ? void 0 : _this$groupedDataMap$2.length) > 0\r\n    }\r\n    isGroupIntersectDateInterval(groupIndex, startDate, endDate) {\r\n        var groupStartDate = this.getGroupStartDate(groupIndex);\r\n        var groupEndDate = this.getGroupEndDate(groupIndex);\r\n        return startDate < groupEndDate && endDate > groupStartDate\r\n    }\r\n    findGlobalCellPosition(date) {\r\n        var groupIndex = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\r\n        var allDay = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : false;\r\n        var {\r\n            completeViewDataMap: completeViewDataMap\r\n        } = this;\r\n        var showAllDayPanel = this._options.isAllDayPanelVisible;\r\n        for (var rowIndex = 0; rowIndex < completeViewDataMap.length; rowIndex += 1) {\r\n            var currentRow = completeViewDataMap[rowIndex];\r\n            for (var columnIndex = 0; columnIndex < currentRow.length; columnIndex += 1) {\r\n                var cellData = currentRow[columnIndex];\r\n                var {\r\n                    startDate: currentStartDate,\r\n                    endDate: currentEndDate,\r\n                    groupIndex: currentGroupIndex,\r\n                    allDay: currentAllDay\r\n                } = cellData;\r\n                if (groupIndex === currentGroupIndex && allDay === !!currentAllDay && this._compareDatesAndAllDay(date, currentStartDate, currentEndDate, allDay)) {\r\n                    return {\r\n                        position: {\r\n                            columnIndex: columnIndex,\r\n                            rowIndex: showAllDayPanel && !this._options.isVerticalGrouping ? rowIndex - 1 : rowIndex\r\n                        },\r\n                        cellData: cellData\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _compareDatesAndAllDay(date, cellStartDate, cellEndDate, allDay) {\r\n        var time = date.getTime();\r\n        var trimmedTime = dateUtils.trimTime(date).getTime();\r\n        var cellStartTime = cellStartDate.getTime();\r\n        var cellEndTime = cellEndDate.getTime();\r\n        return !allDay && time >= cellStartTime && time < cellEndTime || allDay && trimmedTime === cellStartTime\r\n    }\r\n    getSkippedDaysCount(groupIndex, startDate, endDate, daysCount) {\r\n        var {\r\n            dateTableGroupedMap: dateTableGroupedMap\r\n        } = this._groupedDataMapProvider.groupedDataMap;\r\n        var groupedData = dateTableGroupedMap[groupIndex];\r\n        var includedDays = 0;\r\n        for (var rowIndex = 0; rowIndex < groupedData.length; rowIndex += 1) {\r\n            for (var columnIndex = 0; columnIndex < groupedData[rowIndex].length; columnIndex += 1) {\r\n                var cell = groupedData[rowIndex][columnIndex].cellData;\r\n                if (startDate.getTime() < cell.endDate.getTime() && endDate.getTime() > cell.startDate.getTime()) {\r\n                    includedDays += 1\r\n                }\r\n            }\r\n        }\r\n        var lastCell = groupedData[groupedData.length - 1][groupedData[0].length - 1].cellData;\r\n        var lastCellStart = dateUtils.trimTime(lastCell.startDate);\r\n        var daysAfterView = Math.floor((endDate.getTime() - lastCellStart.getTime()) / dateUtils.dateToMilliseconds(\"day\"));\r\n        var deltaDays = daysAfterView > 0 ? daysAfterView : 0;\r\n        return daysCount - includedDays - deltaDays\r\n    }\r\n    getColumnsCount() {\r\n        var {\r\n            dateTableMap: dateTableMap\r\n        } = this.viewDataMap;\r\n        return dateTableMap ? dateTableMap[0].length : 0\r\n    }\r\n    getViewEdgeIndices(isAllDayPanel) {\r\n        if (isAllDayPanel) {\r\n            return {\r\n                firstColumnIndex: 0,\r\n                lastColumnIndex: this.viewDataMap.allDayPanelMap.length - 1,\r\n                firstRowIndex: 0,\r\n                lastRowIndex: 0\r\n            }\r\n        }\r\n        return {\r\n            firstColumnIndex: 0,\r\n            lastColumnIndex: this.viewDataMap.dateTableMap[0].length - 1,\r\n            firstRowIndex: 0,\r\n            lastRowIndex: this.viewDataMap.dateTableMap.length - 1\r\n        }\r\n    }\r\n    getGroupEdgeIndices(groupIndex, isAllDay) {\r\n        var groupedDataMap = this.groupedDataMap.dateTableGroupedMap[groupIndex];\r\n        var cellsCount = groupedDataMap[0].length;\r\n        var rowsCount = groupedDataMap.length;\r\n        var firstColumnIndex = groupedDataMap[0][0].position.columnIndex;\r\n        var lastColumnIndex = groupedDataMap[0][cellsCount - 1].position.columnIndex;\r\n        if (isAllDay) {\r\n            return {\r\n                firstColumnIndex: firstColumnIndex,\r\n                lastColumnIndex: lastColumnIndex,\r\n                firstRowIndex: 0,\r\n                lastRowIndex: 0\r\n            }\r\n        }\r\n        return {\r\n            firstColumnIndex: firstColumnIndex,\r\n            lastColumnIndex: lastColumnIndex,\r\n            firstRowIndex: groupedDataMap[0][0].position.rowIndex,\r\n            lastRowIndex: groupedDataMap[rowsCount - 1][0].position.rowIndex\r\n        }\r\n    }\r\n    isSameCell(firstCellData, secondCellData) {\r\n        var {\r\n            startDate: firstStartDate,\r\n            groupIndex: firstGroupIndex,\r\n            allDay: firstAllDay,\r\n            index: firstIndex\r\n        } = firstCellData;\r\n        var {\r\n            startDate: secondStartDate,\r\n            groupIndex: secondGroupIndex,\r\n            allDay: secondAllDay,\r\n            index: secondIndex\r\n        } = secondCellData;\r\n        return firstStartDate.getTime() === secondStartDate.getTime() && firstGroupIndex === secondGroupIndex && firstAllDay === secondAllDay && firstIndex === secondIndex\r\n    }\r\n    getLastViewDate() {\r\n        var completeViewDataMap = this.completeViewDataMap;\r\n        var rowsCount = completeViewDataMap.length - 1;\r\n        return completeViewDataMap[rowsCount][completeViewDataMap[rowsCount].length - 1].endDate\r\n    }\r\n    getStartViewDate() {\r\n        return this._options.startViewDate\r\n    }\r\n    getIntervalDuration(intervalCount) {\r\n        return this.viewDataGenerator._getIntervalDuration(intervalCount)\r\n    }\r\n    getLastCellEndDate() {\r\n        return new Date(this.getLastViewDate().getTime() - dateUtils.dateToMilliseconds(\"minute\"))\r\n    }\r\n    getLastViewDateByEndDayHour(endDayHour) {\r\n        var lastCellEndDate = this.getLastCellEndDate();\r\n        var endTime = dateUtils.dateTimeFromDecimal(endDayHour);\r\n        var endDateOfLastViewCell = new Date(lastCellEndDate.setHours(endTime.hours, endTime.minutes));\r\n        return this._adjustEndDateByDaylightDiff(lastCellEndDate, endDateOfLastViewCell)\r\n    }\r\n    _adjustEndDateByDaylightDiff(startDate, endDate) {\r\n        var daylightDiff = timeZoneUtils.getDaylightOffsetInMs(startDate, endDate);\r\n        var endDateOfLastViewCell = new Date(endDate.getTime() - daylightDiff);\r\n        return new Date(endDateOfLastViewCell.getTime() - dateUtils.dateToMilliseconds(\"minute\"))\r\n    }\r\n    getCellCountInDay(startDayHour, endDayHour, hoursInterval) {\r\n        return this.viewDataGenerator.getCellCountInDay(startDayHour, endDayHour, hoursInterval)\r\n    }\r\n    getCellCount(options) {\r\n        return this.viewDataGenerator.getCellCount(options)\r\n    }\r\n    getRowCount(options) {\r\n        return this.viewDataGenerator.getRowCount(options)\r\n    }\r\n    getVisibleDayDuration(startDayHour, endDayHour, hoursInterval) {\r\n        return this.viewDataGenerator.getVisibleDayDuration(startDayHour, endDayHour, hoursInterval)\r\n    }\r\n    _getRowCountWithAllDayRows() {\r\n        var allDayRowCount = this._options.isAllDayPanelVisible ? 1 : 0;\r\n        return this.getRowCount(this._options) + allDayRowCount\r\n    }\r\n    getFirstDayOfWeek(firstDayOfWeekOption) {\r\n        return this.viewDataGenerator.getFirstDayOfWeek(firstDayOfWeekOption)\r\n    }\r\n    setViewOptions(options) {\r\n        this._options = this._transformRenderOptions(options)\r\n    }\r\n    getViewOptions() {\r\n        return this._options\r\n    }\r\n    getViewPortGroupCount() {\r\n        var {\r\n            dateTableGroupedMap: dateTableGroupedMap\r\n        } = this.groupedDataMap;\r\n        return (null === dateTableGroupedMap || void 0 === dateTableGroupedMap ? void 0 : dateTableGroupedMap.length) || 0\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/popup/popup_position_controller.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"fullScreen\", \"forceApplyBindings\", \"dragOutsideBoundary\", \"dragAndResizeArea\", \"outsideDragFactor\"];\nimport $ from \"../../core/renderer\";\nimport { move } from \"../../animation/translator\";\nimport { getWindow } from \"../../core/utils/window\";\nimport { originalViewPort } from \"../../core/utils/view_port\";\nimport { OverlayPositionController } from \"../overlay/overlay_position_controller\";\nvar window = getWindow();\n\nclass PopupPositionController extends OverlayPositionController {\n  constructor(_ref) {\n    var {\n      fullScreen: fullScreen,\n      forceApplyBindings: forceApplyBindings,\n      dragOutsideBoundary: dragOutsideBoundary,\n      dragAndResizeArea: dragAndResizeArea,\n      outsideDragFactor: outsideDragFactor\n    } = _ref,\n        args = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n    super(args);\n    this._props = _extends({}, this._props, {\n      fullScreen: fullScreen,\n      forceApplyBindings: forceApplyBindings,\n      dragOutsideBoundary: dragOutsideBoundary,\n      dragAndResizeArea: dragAndResizeArea,\n      outsideDragFactor: outsideDragFactor\n    });\n    this._$dragResizeContainer = void 0;\n    this._outsideDragFactor = void 0;\n    this._lastPositionBeforeFullScreen = void 0;\n\n    this._updateDragResizeContainer();\n\n    this._updateOutsideDragFactor();\n  }\n\n  set fullScreen(fullScreen) {\n    this._props.fullScreen = fullScreen;\n\n    if (fullScreen) {\n      this._fullScreenEnabled();\n    } else {\n      this._fullScreenDisabled();\n    }\n  }\n\n  get $dragResizeContainer() {\n    return this._$dragResizeContainer;\n  }\n\n  get outsideDragFactor() {\n    return this._outsideDragFactor;\n  }\n\n  set dragAndResizeArea(dragAndResizeArea) {\n    this._props.dragAndResizeArea = dragAndResizeArea;\n\n    this._updateDragResizeContainer();\n  }\n\n  set dragOutsideBoundary(dragOutsideBoundary) {\n    this._props.dragOutsideBoundary = dragOutsideBoundary;\n\n    this._updateDragResizeContainer();\n\n    this._updateOutsideDragFactor();\n  }\n\n  set outsideDragFactor(outsideDragFactor) {\n    this._props.outsideDragFactor = outsideDragFactor;\n\n    this._updateOutsideDragFactor();\n  }\n\n  updateContainer(containerProp) {\n    super.updateContainer(containerProp);\n\n    this._updateDragResizeContainer();\n  }\n\n  dragHandled() {\n    this.restorePositionOnNextRender(false);\n  }\n\n  resizeHandled() {\n    this.restorePositionOnNextRender(false);\n  }\n\n  positionContent() {\n    if (this._props.fullScreen) {\n      move(this._$content, {\n        top: 0,\n        left: 0\n      });\n      this.detectVisualPositionChange();\n    } else {\n      var _this$_props$forceApp, _this$_props;\n\n      null === (_this$_props$forceApp = (_this$_props = this._props).forceApplyBindings) || void 0 === _this$_props$forceApp ? void 0 : _this$_props$forceApp.call(_this$_props);\n\n      if (!this._shouldRenderContentInitialPosition && this._lastPositionBeforeFullScreen) {\n        move(this._$content, this._lastPositionBeforeFullScreen);\n        this._lastPositionBeforeFullScreen = void 0;\n        this.detectVisualPositionChange();\n      } else {\n        super.positionContent();\n      }\n    }\n  }\n\n  _updateOutsideDragFactor() {\n    this._outsideDragFactor = this._getOutsideDragFactor();\n  }\n\n  _getOutsideDragFactor() {\n    if (this._props.dragOutsideBoundary) {\n      return 1;\n    }\n\n    return this._props.outsideDragFactor;\n  }\n\n  _updateDragResizeContainer() {\n    this._$dragResizeContainer = this._getDragResizeContainer();\n  }\n\n  _getDragResizeContainer() {\n    if (this._props.dragOutsideBoundary) {\n      return $(window);\n    }\n\n    if (this._props.dragAndResizeArea) {\n      return $(this._props.dragAndResizeArea);\n    }\n\n    var isContainerDefined = originalViewPort().get(0) || this._props.container;\n\n    return isContainerDefined ? this._$markupContainer : $(window);\n  }\n\n  _getVisualContainer() {\n    if (this._props.fullScreen) {\n      return $(window);\n    }\n\n    return super._getVisualContainer();\n  }\n\n  _fullScreenEnabled() {\n    this.restorePositionOnNextRender(false);\n    this._lastPositionBeforeFullScreen = this._visualPosition;\n  }\n\n  _fullScreenDisabled() {\n    this.restorePositionOnNextRender(false);\n  }\n\n}\n\nexport { PopupPositionController };","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","_excluded","$","move","getWindow","originalViewPort","OverlayPositionController","window","PopupPositionController","constructor","_ref","fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor","args","_props","_$dragResizeContainer","_outsideDragFactor","_lastPositionBeforeFullScreen","_updateDragResizeContainer","_updateOutsideDragFactor","_fullScreenEnabled","_fullScreenDisabled","$dragResizeContainer","updateContainer","containerProp","dragHandled","restorePositionOnNextRender","resizeHandled","positionContent","_$content","top","left","detectVisualPositionChange","_this$_props$forceApp","_this$_props","call","_shouldRenderContentInitialPosition","_getOutsideDragFactor","_getDragResizeContainer","isContainerDefined","get","container","_$markupContainer","_getVisualContainer","_visualPosition"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/popup/popup_position_controller.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/popup/popup_position_controller.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"fullScreen\", \"forceApplyBindings\", \"dragOutsideBoundary\", \"dragAndResizeArea\", \"outsideDragFactor\"];\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    move\r\n} from \"../../animation/translator\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    originalViewPort\r\n} from \"../../core/utils/view_port\";\r\nimport {\r\n    OverlayPositionController\r\n} from \"../overlay/overlay_position_controller\";\r\nvar window = getWindow();\r\nclass PopupPositionController extends OverlayPositionController {\r\n    constructor(_ref) {\r\n        var {\r\n            fullScreen: fullScreen,\r\n            forceApplyBindings: forceApplyBindings,\r\n            dragOutsideBoundary: dragOutsideBoundary,\r\n            dragAndResizeArea: dragAndResizeArea,\r\n            outsideDragFactor: outsideDragFactor\r\n        } = _ref, args = _objectWithoutPropertiesLoose(_ref, _excluded);\r\n        super(args);\r\n        this._props = _extends({}, this._props, {\r\n            fullScreen: fullScreen,\r\n            forceApplyBindings: forceApplyBindings,\r\n            dragOutsideBoundary: dragOutsideBoundary,\r\n            dragAndResizeArea: dragAndResizeArea,\r\n            outsideDragFactor: outsideDragFactor\r\n        });\r\n        this._$dragResizeContainer = void 0;\r\n        this._outsideDragFactor = void 0;\r\n        this._lastPositionBeforeFullScreen = void 0;\r\n        this._updateDragResizeContainer();\r\n        this._updateOutsideDragFactor()\r\n    }\r\n    set fullScreen(fullScreen) {\r\n        this._props.fullScreen = fullScreen;\r\n        if (fullScreen) {\r\n            this._fullScreenEnabled()\r\n        } else {\r\n            this._fullScreenDisabled()\r\n        }\r\n    }\r\n    get $dragResizeContainer() {\r\n        return this._$dragResizeContainer\r\n    }\r\n    get outsideDragFactor() {\r\n        return this._outsideDragFactor\r\n    }\r\n    set dragAndResizeArea(dragAndResizeArea) {\r\n        this._props.dragAndResizeArea = dragAndResizeArea;\r\n        this._updateDragResizeContainer()\r\n    }\r\n    set dragOutsideBoundary(dragOutsideBoundary) {\r\n        this._props.dragOutsideBoundary = dragOutsideBoundary;\r\n        this._updateDragResizeContainer();\r\n        this._updateOutsideDragFactor()\r\n    }\r\n    set outsideDragFactor(outsideDragFactor) {\r\n        this._props.outsideDragFactor = outsideDragFactor;\r\n        this._updateOutsideDragFactor()\r\n    }\r\n    updateContainer(containerProp) {\r\n        super.updateContainer(containerProp);\r\n        this._updateDragResizeContainer()\r\n    }\r\n    dragHandled() {\r\n        this.restorePositionOnNextRender(false)\r\n    }\r\n    resizeHandled() {\r\n        this.restorePositionOnNextRender(false)\r\n    }\r\n    positionContent() {\r\n        if (this._props.fullScreen) {\r\n            move(this._$content, {\r\n                top: 0,\r\n                left: 0\r\n            });\r\n            this.detectVisualPositionChange()\r\n        } else {\r\n            var _this$_props$forceApp, _this$_props;\r\n            null === (_this$_props$forceApp = (_this$_props = this._props).forceApplyBindings) || void 0 === _this$_props$forceApp ? void 0 : _this$_props$forceApp.call(_this$_props);\r\n            if (!this._shouldRenderContentInitialPosition && this._lastPositionBeforeFullScreen) {\r\n                move(this._$content, this._lastPositionBeforeFullScreen);\r\n                this._lastPositionBeforeFullScreen = void 0;\r\n                this.detectVisualPositionChange()\r\n            } else {\r\n                super.positionContent()\r\n            }\r\n        }\r\n    }\r\n    _updateOutsideDragFactor() {\r\n        this._outsideDragFactor = this._getOutsideDragFactor()\r\n    }\r\n    _getOutsideDragFactor() {\r\n        if (this._props.dragOutsideBoundary) {\r\n            return 1\r\n        }\r\n        return this._props.outsideDragFactor\r\n    }\r\n    _updateDragResizeContainer() {\r\n        this._$dragResizeContainer = this._getDragResizeContainer()\r\n    }\r\n    _getDragResizeContainer() {\r\n        if (this._props.dragOutsideBoundary) {\r\n            return $(window)\r\n        }\r\n        if (this._props.dragAndResizeArea) {\r\n            return $(this._props.dragAndResizeArea)\r\n        }\r\n        var isContainerDefined = originalViewPort().get(0) || this._props.container;\r\n        return isContainerDefined ? this._$markupContainer : $(window)\r\n    }\r\n    _getVisualContainer() {\r\n        if (this._props.fullScreen) {\r\n            return $(window)\r\n        }\r\n        return super._getVisualContainer()\r\n    }\r\n    _fullScreenEnabled() {\r\n        this.restorePositionOnNextRender(false);\r\n        this._lastPositionBeforeFullScreen = this._visualPosition\r\n    }\r\n    _fullScreenDisabled() {\r\n        this.restorePositionOnNextRender(false)\r\n    }\r\n}\r\nexport {\r\n    PopupPositionController\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
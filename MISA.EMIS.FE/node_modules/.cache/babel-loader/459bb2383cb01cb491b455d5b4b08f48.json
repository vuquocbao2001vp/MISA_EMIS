{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/funnel/tooltip.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { noop } from \"../../core/utils/common\";\nimport { plugin as pluginTooltip } from \"../core/tooltip\";\n\nfunction getCoords(coords, figureCoords, renderer) {\n  var offset = renderer.getRootOffset();\n  return coords || figureCoords && [(figureCoords[0] + figureCoords[2]) / 2 + offset.left, (figureCoords[1] + figureCoords[5]) / 2 + offset.top] || [-1e3, -1e3];\n}\n\nexport var plugin = {\n  name: \"funnel-tooltip\",\n  init: noop,\n  dispose: noop,\n  extenders: {\n    _buildNodes: function () {\n      this.hideTooltip();\n    },\n    _change_TILING: function () {\n      if (this._tooltipIndex >= 0) {\n        this._moveTooltip(this._items[this._tooltipIndex]);\n      }\n    }\n  },\n  members: {\n    hideTooltip: function () {\n      if (this._tooltipIndex >= 0) {\n        this._tooltipIndex = -1;\n\n        this._tooltip.hide();\n      }\n    },\n    _moveTooltip: function (item, coords) {\n      var xy = getCoords(coords, item.coords, this._renderer);\n\n      this._tooltip.move(xy[0], xy[1], 0);\n    },\n    _showTooltip: function (index, coords) {\n      var that = this;\n      var tooltip = that._tooltip;\n      var item = that._items[index];\n\n      if (that._tooltipIndex === index) {\n        that._moveTooltip(item, coords);\n\n        return;\n      }\n\n      var callback = result => {\n        if (void 0 === result) {\n          return;\n        }\n\n        if (!result) {\n          tooltip.hide();\n        }\n\n        that._tooltipIndex = result ? index : -1;\n      };\n\n      var xy = getCoords(coords, item.coords, this._renderer);\n      callback(tooltip.show({\n        value: item.value,\n        valueText: tooltip.formatValue(item.value),\n        percentText: tooltip.formatValue(item.percent, \"percent\"),\n        percent: item.percent,\n        item: item\n      }, {\n        x: xy[0],\n        y: xy[1],\n        offset: 0\n      }, {\n        item: item\n      }, void 0, callback));\n    }\n  },\n  customize: function (constructor) {\n    constructor.addPlugin(pluginTooltip);\n  }\n};","map":{"version":3,"names":["noop","plugin","pluginTooltip","getCoords","coords","figureCoords","renderer","offset","getRootOffset","left","top","name","init","dispose","extenders","_buildNodes","hideTooltip","_change_TILING","_tooltipIndex","_moveTooltip","_items","members","_tooltip","hide","item","xy","_renderer","move","_showTooltip","index","that","tooltip","callback","result","show","value","valueText","formatValue","percentText","percent","x","y","customize","constructor","addPlugin"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/funnel/tooltip.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/funnel/tooltip.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    plugin as pluginTooltip\r\n} from \"../core/tooltip\";\r\n\r\nfunction getCoords(coords, figureCoords, renderer) {\r\n    var offset = renderer.getRootOffset();\r\n    return coords || figureCoords && [(figureCoords[0] + figureCoords[2]) / 2 + offset.left, (figureCoords[1] + figureCoords[5]) / 2 + offset.top] || [-1e3, -1e3]\r\n}\r\nexport var plugin = {\r\n    name: \"funnel-tooltip\",\r\n    init: noop,\r\n    dispose: noop,\r\n    extenders: {\r\n        _buildNodes: function() {\r\n            this.hideTooltip()\r\n        },\r\n        _change_TILING: function() {\r\n            if (this._tooltipIndex >= 0) {\r\n                this._moveTooltip(this._items[this._tooltipIndex])\r\n            }\r\n        }\r\n    },\r\n    members: {\r\n        hideTooltip: function() {\r\n            if (this._tooltipIndex >= 0) {\r\n                this._tooltipIndex = -1;\r\n                this._tooltip.hide()\r\n            }\r\n        },\r\n        _moveTooltip: function(item, coords) {\r\n            var xy = getCoords(coords, item.coords, this._renderer);\r\n            this._tooltip.move(xy[0], xy[1], 0)\r\n        },\r\n        _showTooltip: function(index, coords) {\r\n            var that = this;\r\n            var tooltip = that._tooltip;\r\n            var item = that._items[index];\r\n            if (that._tooltipIndex === index) {\r\n                that._moveTooltip(item, coords);\r\n                return\r\n            }\r\n            var callback = result => {\r\n                if (void 0 === result) {\r\n                    return\r\n                }\r\n                if (!result) {\r\n                    tooltip.hide()\r\n                }\r\n                that._tooltipIndex = result ? index : -1\r\n            };\r\n            var xy = getCoords(coords, item.coords, this._renderer);\r\n            callback(tooltip.show({\r\n                value: item.value,\r\n                valueText: tooltip.formatValue(item.value),\r\n                percentText: tooltip.formatValue(item.percent, \"percent\"),\r\n                percent: item.percent,\r\n                item: item\r\n            }, {\r\n                x: xy[0],\r\n                y: xy[1],\r\n                offset: 0\r\n            }, {\r\n                item: item\r\n            }, void 0, callback))\r\n        }\r\n    },\r\n    customize: function(constructor) {\r\n        constructor.addPlugin(pluginTooltip)\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
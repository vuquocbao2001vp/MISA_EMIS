{"ast":null,"code":"/**\r\n * DevExtreme (esm/events/double_click.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport eventsEngine from \"../events/core/events_engine\";\nimport { closestCommonParent } from \"../core/utils/dom\";\nimport domAdapter from \"../core/dom_adapter\";\nimport Class from \"../core/class\";\nimport registerEvent from \"./core/event_registrator\";\nimport { name as clickEventName } from \"./click\";\nimport { addNamespace, fireEvent } from \"./utils/index\";\nvar DBLCLICK_EVENT_NAME = \"dxdblclick\";\nvar DBLCLICK_NAMESPACE = \"dxDblClick\";\nvar NAMESPACED_CLICK_EVENT = addNamespace(clickEventName, DBLCLICK_NAMESPACE);\nvar DBLCLICK_TIMEOUT = 300;\nvar DblClick = Class.inherit({\n  ctor: function () {\n    this._handlerCount = 0;\n\n    this._forgetLastClick();\n  },\n  _forgetLastClick: function () {\n    this._firstClickTarget = null;\n    this._lastClickTimeStamp = -DBLCLICK_TIMEOUT;\n  },\n  add: function () {\n    if (this._handlerCount <= 0) {\n      eventsEngine.on(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT, this._clickHandler.bind(this));\n    }\n\n    this._handlerCount++;\n  },\n  _clickHandler: function (e) {\n    var timeStamp = e.timeStamp || Date.now();\n    var timeBetweenClicks = timeStamp - this._lastClickTimeStamp;\n    var isSimulated = timeBetweenClicks < 0;\n    var isDouble = !isSimulated && timeBetweenClicks < DBLCLICK_TIMEOUT;\n\n    if (isDouble) {\n      fireEvent({\n        type: DBLCLICK_EVENT_NAME,\n        target: closestCommonParent(this._firstClickTarget, e.target),\n        originalEvent: e\n      });\n\n      this._forgetLastClick();\n    } else {\n      this._firstClickTarget = e.target;\n      this._lastClickTimeStamp = timeStamp;\n    }\n  },\n  remove: function () {\n    this._handlerCount--;\n\n    if (this._handlerCount <= 0) {\n      this._forgetLastClick();\n\n      eventsEngine.off(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT);\n    }\n  }\n});\nregisterEvent(DBLCLICK_EVENT_NAME, new DblClick());\nexport { DBLCLICK_EVENT_NAME as name };","map":{"version":3,"names":["eventsEngine","closestCommonParent","domAdapter","Class","registerEvent","name","clickEventName","addNamespace","fireEvent","DBLCLICK_EVENT_NAME","DBLCLICK_NAMESPACE","NAMESPACED_CLICK_EVENT","DBLCLICK_TIMEOUT","DblClick","inherit","ctor","_handlerCount","_forgetLastClick","_firstClickTarget","_lastClickTimeStamp","add","on","getDocument","_clickHandler","bind","e","timeStamp","Date","now","timeBetweenClicks","isSimulated","isDouble","type","target","originalEvent","remove","off"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/events/double_click.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/events/double_click.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    closestCommonParent\r\n} from \"../core/utils/dom\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport Class from \"../core/class\";\r\nimport registerEvent from \"./core/event_registrator\";\r\nimport {\r\n    name as clickEventName\r\n} from \"./click\";\r\nimport {\r\n    addNamespace,\r\n    fireEvent\r\n} from \"./utils/index\";\r\nvar DBLCLICK_EVENT_NAME = \"dxdblclick\";\r\nvar DBLCLICK_NAMESPACE = \"dxDblClick\";\r\nvar NAMESPACED_CLICK_EVENT = addNamespace(clickEventName, DBLCLICK_NAMESPACE);\r\nvar DBLCLICK_TIMEOUT = 300;\r\nvar DblClick = Class.inherit({\r\n    ctor: function() {\r\n        this._handlerCount = 0;\r\n        this._forgetLastClick()\r\n    },\r\n    _forgetLastClick: function() {\r\n        this._firstClickTarget = null;\r\n        this._lastClickTimeStamp = -DBLCLICK_TIMEOUT\r\n    },\r\n    add: function() {\r\n        if (this._handlerCount <= 0) {\r\n            eventsEngine.on(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT, this._clickHandler.bind(this))\r\n        }\r\n        this._handlerCount++\r\n    },\r\n    _clickHandler: function(e) {\r\n        var timeStamp = e.timeStamp || Date.now();\r\n        var timeBetweenClicks = timeStamp - this._lastClickTimeStamp;\r\n        var isSimulated = timeBetweenClicks < 0;\r\n        var isDouble = !isSimulated && timeBetweenClicks < DBLCLICK_TIMEOUT;\r\n        if (isDouble) {\r\n            fireEvent({\r\n                type: DBLCLICK_EVENT_NAME,\r\n                target: closestCommonParent(this._firstClickTarget, e.target),\r\n                originalEvent: e\r\n            });\r\n            this._forgetLastClick()\r\n        } else {\r\n            this._firstClickTarget = e.target;\r\n            this._lastClickTimeStamp = timeStamp\r\n        }\r\n    },\r\n    remove: function() {\r\n        this._handlerCount--;\r\n        if (this._handlerCount <= 0) {\r\n            this._forgetLastClick();\r\n            eventsEngine.off(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT)\r\n        }\r\n    }\r\n});\r\nregisterEvent(DBLCLICK_EVENT_NAME, new DblClick);\r\nexport {\r\n    DBLCLICK_EVENT_NAME as name\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,YAAP,MAAyB,8BAAzB;AACA,SACIC,mBADJ,QAEO,mBAFP;AAGA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,SACIC,IAAI,IAAIC,cADZ,QAEO,SAFP;AAGA,SACIC,YADJ,EAEIC,SAFJ,QAGO,eAHP;AAIA,IAAIC,mBAAmB,GAAG,YAA1B;AACA,IAAIC,kBAAkB,GAAG,YAAzB;AACA,IAAIC,sBAAsB,GAAGJ,YAAY,CAACD,cAAD,EAAiBI,kBAAjB,CAAzC;AACA,IAAIE,gBAAgB,GAAG,GAAvB;AACA,IAAIC,QAAQ,GAAGV,KAAK,CAACW,OAAN,CAAc;EACzBC,IAAI,EAAE,YAAW;IACb,KAAKC,aAAL,GAAqB,CAArB;;IACA,KAAKC,gBAAL;EACH,CAJwB;EAKzBA,gBAAgB,EAAE,YAAW;IACzB,KAAKC,iBAAL,GAAyB,IAAzB;IACA,KAAKC,mBAAL,GAA2B,CAACP,gBAA5B;EACH,CARwB;EASzBQ,GAAG,EAAE,YAAW;IACZ,IAAI,KAAKJ,aAAL,IAAsB,CAA1B,EAA6B;MACzBhB,YAAY,CAACqB,EAAb,CAAgBnB,UAAU,CAACoB,WAAX,EAAhB,EAA0CX,sBAA1C,EAAkE,KAAKY,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAAlE;IACH;;IACD,KAAKR,aAAL;EACH,CAdwB;EAezBO,aAAa,EAAE,UAASE,CAAT,EAAY;IACvB,IAAIC,SAAS,GAAGD,CAAC,CAACC,SAAF,IAAeC,IAAI,CAACC,GAAL,EAA/B;IACA,IAAIC,iBAAiB,GAAGH,SAAS,GAAG,KAAKP,mBAAzC;IACA,IAAIW,WAAW,GAAGD,iBAAiB,GAAG,CAAtC;IACA,IAAIE,QAAQ,GAAG,CAACD,WAAD,IAAgBD,iBAAiB,GAAGjB,gBAAnD;;IACA,IAAImB,QAAJ,EAAc;MACVvB,SAAS,CAAC;QACNwB,IAAI,EAAEvB,mBADA;QAENwB,MAAM,EAAEhC,mBAAmB,CAAC,KAAKiB,iBAAN,EAAyBO,CAAC,CAACQ,MAA3B,CAFrB;QAGNC,aAAa,EAAET;MAHT,CAAD,CAAT;;MAKA,KAAKR,gBAAL;IACH,CAPD,MAOO;MACH,KAAKC,iBAAL,GAAyBO,CAAC,CAACQ,MAA3B;MACA,KAAKd,mBAAL,GAA2BO,SAA3B;IACH;EACJ,CA/BwB;EAgCzBS,MAAM,EAAE,YAAW;IACf,KAAKnB,aAAL;;IACA,IAAI,KAAKA,aAAL,IAAsB,CAA1B,EAA6B;MACzB,KAAKC,gBAAL;;MACAjB,YAAY,CAACoC,GAAb,CAAiBlC,UAAU,CAACoB,WAAX,EAAjB,EAA2CX,sBAA3C;IACH;EACJ;AAtCwB,CAAd,CAAf;AAwCAP,aAAa,CAACK,mBAAD,EAAsB,IAAII,QAAJ,EAAtB,CAAb;AACA,SACIJ,mBAAmB,IAAIJ,IAD3B"},"metadata":{},"sourceType":"module"}
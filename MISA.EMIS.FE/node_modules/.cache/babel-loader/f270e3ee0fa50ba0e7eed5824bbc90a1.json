{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/tree_map/tooltip.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { expand } from \"../core/helpers\";\nimport TreeMapBase from \"./tree_map.base\";\nvar proto = TreeMapBase.prototype;\nimport \"./api\";\nexpand(proto, \"_extendProxyType\", function (proto) {\n  var that = this;\n\n  proto.showTooltip = function (coords) {\n    that._showTooltip(this._id, coords);\n  };\n});\nexpand(proto, \"_onNodesCreated\", function () {\n  if (this._tooltipIndex >= 0) {\n    this._tooltip.hide();\n  }\n\n  this._tooltipIndex = -1;\n});\nexpand(proto, \"_onTilingPerformed\", function () {\n  if (this._tooltipIndex >= 0) {\n    this._moveTooltip(this._nodes[this._tooltipIndex]);\n  }\n});\n\nfunction getCoords(coords, rect, renderer) {\n  var offset = renderer.getRootOffset();\n  return coords || rect && [(rect[0] + rect[2]) / 2 + offset.left, (rect[1] + rect[3]) / 2 + offset.top] || [-1e3, -1e3];\n}\n\nproto._showTooltip = function (index, coords) {\n  var that = this;\n  var tooltip = that._tooltip;\n  var node = that._nodes[index];\n\n  if (that._tooltipIndex === index) {\n    that._moveTooltip(node, coords);\n\n    return;\n  }\n\n  var callback = result => {\n    if (void 0 === result) {\n      return;\n    }\n\n    if (!result) {\n      tooltip.hide();\n    }\n\n    that._tooltipIndex = result ? index : -1;\n  };\n\n  var xy = getCoords(coords, node.rect, this._renderer);\n  callback(tooltip.show({\n    value: node.value,\n    valueText: tooltip.formatValue(node.value),\n    node: node.proxy\n  }, {\n    x: xy[0],\n    y: xy[1],\n    offset: 0\n  }, {\n    node: node.proxy\n  }, void 0, callback));\n};\n\nproto._moveTooltip = function (node, coords) {\n  var xy = getCoords(coords, node.rect, this._renderer);\n\n  this._tooltip.move(xy[0], xy[1], 0);\n};\n\nproto.hideTooltip = function () {\n  if (this._tooltipIndex >= 0) {\n    this._tooltipIndex = -1;\n\n    this._tooltip.hide();\n  }\n};\n\nimport { plugin as tooltipPlugin } from \"../core/tooltip\";\nTreeMapBase.addPlugin(tooltipPlugin);","map":{"version":3,"names":["expand","TreeMapBase","proto","prototype","that","showTooltip","coords","_showTooltip","_id","_tooltipIndex","_tooltip","hide","_moveTooltip","_nodes","getCoords","rect","renderer","offset","getRootOffset","left","top","index","tooltip","node","callback","result","xy","_renderer","show","value","valueText","formatValue","proxy","x","y","move","hideTooltip","plugin","tooltipPlugin","addPlugin"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/viz/tree_map/tooltip.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/tree_map/tooltip.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    expand\r\n} from \"../core/helpers\";\r\nimport TreeMapBase from \"./tree_map.base\";\r\nvar proto = TreeMapBase.prototype;\r\nimport \"./api\";\r\nexpand(proto, \"_extendProxyType\", (function(proto) {\r\n    var that = this;\r\n    proto.showTooltip = function(coords) {\r\n        that._showTooltip(this._id, coords)\r\n    }\r\n}));\r\nexpand(proto, \"_onNodesCreated\", (function() {\r\n    if (this._tooltipIndex >= 0) {\r\n        this._tooltip.hide()\r\n    }\r\n    this._tooltipIndex = -1\r\n}));\r\nexpand(proto, \"_onTilingPerformed\", (function() {\r\n    if (this._tooltipIndex >= 0) {\r\n        this._moveTooltip(this._nodes[this._tooltipIndex])\r\n    }\r\n}));\r\n\r\nfunction getCoords(coords, rect, renderer) {\r\n    var offset = renderer.getRootOffset();\r\n    return coords || rect && [(rect[0] + rect[2]) / 2 + offset.left, (rect[1] + rect[3]) / 2 + offset.top] || [-1e3, -1e3]\r\n}\r\nproto._showTooltip = function(index, coords) {\r\n    var that = this;\r\n    var tooltip = that._tooltip;\r\n    var node = that._nodes[index];\r\n    if (that._tooltipIndex === index) {\r\n        that._moveTooltip(node, coords);\r\n        return\r\n    }\r\n    var callback = result => {\r\n        if (void 0 === result) {\r\n            return\r\n        }\r\n        if (!result) {\r\n            tooltip.hide()\r\n        }\r\n        that._tooltipIndex = result ? index : -1\r\n    };\r\n    var xy = getCoords(coords, node.rect, this._renderer);\r\n    callback(tooltip.show({\r\n        value: node.value,\r\n        valueText: tooltip.formatValue(node.value),\r\n        node: node.proxy\r\n    }, {\r\n        x: xy[0],\r\n        y: xy[1],\r\n        offset: 0\r\n    }, {\r\n        node: node.proxy\r\n    }, void 0, callback))\r\n};\r\nproto._moveTooltip = function(node, coords) {\r\n    var xy = getCoords(coords, node.rect, this._renderer);\r\n    this._tooltip.move(xy[0], xy[1], 0)\r\n};\r\nproto.hideTooltip = function() {\r\n    if (this._tooltipIndex >= 0) {\r\n        this._tooltipIndex = -1;\r\n        this._tooltip.hide()\r\n    }\r\n};\r\nimport {\r\n    plugin as tooltipPlugin\r\n} from \"../core/tooltip\";\r\nTreeMapBase.addPlugin(tooltipPlugin);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
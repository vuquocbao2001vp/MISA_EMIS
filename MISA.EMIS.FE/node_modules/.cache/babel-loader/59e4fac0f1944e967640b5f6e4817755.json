{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/scheduler/workspaces/cells_selection_state.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getSelectedCells } from \"../../../renovation/ui/scheduler/workspaces/base/utils\";\nexport default class CellsSelectionState {\n  constructor(viewDataProvider) {\n    this._viewDataProvider = viewDataProvider;\n    this._focusedCell = null;\n    this._selectedCells = null;\n    this._firstSelectedCell = null;\n    this._prevFocusedCell = null;\n    this._prevSelectedCells = null;\n  }\n\n  get viewDataProvider() {\n    return this._viewDataProvider;\n  }\n\n  get focusedCell() {\n    var focusedCell = this._focusedCell;\n\n    if (!focusedCell) {\n      return;\n    }\n\n    var {\n      groupIndex: groupIndex,\n      startDate: startDate,\n      allDay: allDay\n    } = focusedCell;\n    var cellInfo = {\n      groupIndex: groupIndex,\n      startDate: startDate,\n      isAllDay: allDay,\n      index: focusedCell.index\n    };\n    var cellPosition = this.viewDataProvider.findCellPositionInMap(cellInfo);\n    return {\n      coordinates: cellPosition,\n      cellData: focusedCell\n    };\n  }\n\n  setFocusedCell(rowIndex, columnIndex, isAllDay) {\n    if (rowIndex >= 0) {\n      var cell = this._viewDataProvider.getCellData(rowIndex, columnIndex, isAllDay);\n\n      this._focusedCell = cell;\n    }\n  }\n\n  setSelectedCells(lastCellCoordinates) {\n    var firstCellCoordinates = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0;\n    var viewDataProvider = this._viewDataProvider;\n    var {\n      rowIndex: lastRowIndex,\n      columnIndex: lastColumnIndex,\n      allDay: isLastCellAllDay\n    } = lastCellCoordinates;\n\n    if (lastRowIndex < 0) {\n      return;\n    }\n\n    var firstCell = firstCellCoordinates ? viewDataProvider.getCellData(firstCellCoordinates.rowIndex, firstCellCoordinates.columnIndex, firstCellCoordinates.allDay) : this._firstSelectedCell;\n    var lastCell = viewDataProvider.getCellData(lastRowIndex, lastColumnIndex, isLastCellAllDay);\n    this._firstSelectedCell = firstCell;\n    this._selectedCells = getSelectedCells(this._viewDataProvider, firstCell, lastCell, isLastCellAllDay);\n  }\n\n  setSelectedCellsByData(selectedCellsData) {\n    this._selectedCells = selectedCellsData;\n  }\n\n  getSelectedCells() {\n    return this._selectedCells;\n  }\n\n  releaseSelectedAndFocusedCells() {\n    this.releaseSelectedCells();\n    this.releaseFocusedCell();\n  }\n\n  releaseSelectedCells() {\n    this._prevSelectedCells = this._selectedCells;\n    this._prevFirstSelectedCell = this._firstSelectedCell;\n    this._selectedCells = null;\n    this._firstSelectedCell = null;\n  }\n\n  releaseFocusedCell() {\n    this._prevFocusedCell = this._focusedCell;\n    this._focusedCell = null;\n  }\n\n  restoreSelectedAndFocusedCells() {\n    this._selectedCells = this._selectedCells || this._prevSelectedCells;\n    this._focusedCell = this._focusedCell || this._prevFocusedCell;\n    this._firstSelectedCell = this._firstSelectedCell || this._prevFirstSelectedCell;\n    this._prevSelectedCells = null;\n    this._prevFirstSelectedCell = null;\n    this._prevFocusedCell = null;\n  }\n\n  clearSelectedAndFocusedCells() {\n    this._prevSelectedCells = null;\n    this._selectedCells = null;\n    this._prevFocusedCell = null;\n    this._focusedCell = null;\n  }\n\n}","map":{"version":3,"names":["getSelectedCells","CellsSelectionState","constructor","viewDataProvider","_viewDataProvider","_focusedCell","_selectedCells","_firstSelectedCell","_prevFocusedCell","_prevSelectedCells","focusedCell","groupIndex","startDate","allDay","cellInfo","isAllDay","index","cellPosition","findCellPositionInMap","coordinates","cellData","setFocusedCell","rowIndex","columnIndex","cell","getCellData","setSelectedCells","lastCellCoordinates","firstCellCoordinates","arguments","length","lastRowIndex","lastColumnIndex","isLastCellAllDay","firstCell","lastCell","setSelectedCellsByData","selectedCellsData","releaseSelectedAndFocusedCells","releaseSelectedCells","releaseFocusedCell","_prevFirstSelectedCell","restoreSelectedAndFocusedCells","clearSelectedAndFocusedCells"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/scheduler/workspaces/cells_selection_state.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/scheduler/workspaces/cells_selection_state.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getSelectedCells\r\n} from \"../../../renovation/ui/scheduler/workspaces/base/utils\";\r\nexport default class CellsSelectionState {\r\n    constructor(viewDataProvider) {\r\n        this._viewDataProvider = viewDataProvider;\r\n        this._focusedCell = null;\r\n        this._selectedCells = null;\r\n        this._firstSelectedCell = null;\r\n        this._prevFocusedCell = null;\r\n        this._prevSelectedCells = null\r\n    }\r\n    get viewDataProvider() {\r\n        return this._viewDataProvider\r\n    }\r\n    get focusedCell() {\r\n        var focusedCell = this._focusedCell;\r\n        if (!focusedCell) {\r\n            return\r\n        }\r\n        var {\r\n            groupIndex: groupIndex,\r\n            startDate: startDate,\r\n            allDay: allDay\r\n        } = focusedCell;\r\n        var cellInfo = {\r\n            groupIndex: groupIndex,\r\n            startDate: startDate,\r\n            isAllDay: allDay,\r\n            index: focusedCell.index\r\n        };\r\n        var cellPosition = this.viewDataProvider.findCellPositionInMap(cellInfo);\r\n        return {\r\n            coordinates: cellPosition,\r\n            cellData: focusedCell\r\n        }\r\n    }\r\n    setFocusedCell(rowIndex, columnIndex, isAllDay) {\r\n        if (rowIndex >= 0) {\r\n            var cell = this._viewDataProvider.getCellData(rowIndex, columnIndex, isAllDay);\r\n            this._focusedCell = cell\r\n        }\r\n    }\r\n    setSelectedCells(lastCellCoordinates) {\r\n        var firstCellCoordinates = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0;\r\n        var viewDataProvider = this._viewDataProvider;\r\n        var {\r\n            rowIndex: lastRowIndex,\r\n            columnIndex: lastColumnIndex,\r\n            allDay: isLastCellAllDay\r\n        } = lastCellCoordinates;\r\n        if (lastRowIndex < 0) {\r\n            return\r\n        }\r\n        var firstCell = firstCellCoordinates ? viewDataProvider.getCellData(firstCellCoordinates.rowIndex, firstCellCoordinates.columnIndex, firstCellCoordinates.allDay) : this._firstSelectedCell;\r\n        var lastCell = viewDataProvider.getCellData(lastRowIndex, lastColumnIndex, isLastCellAllDay);\r\n        this._firstSelectedCell = firstCell;\r\n        this._selectedCells = getSelectedCells(this._viewDataProvider, firstCell, lastCell, isLastCellAllDay)\r\n    }\r\n    setSelectedCellsByData(selectedCellsData) {\r\n        this._selectedCells = selectedCellsData\r\n    }\r\n    getSelectedCells() {\r\n        return this._selectedCells\r\n    }\r\n    releaseSelectedAndFocusedCells() {\r\n        this.releaseSelectedCells();\r\n        this.releaseFocusedCell()\r\n    }\r\n    releaseSelectedCells() {\r\n        this._prevSelectedCells = this._selectedCells;\r\n        this._prevFirstSelectedCell = this._firstSelectedCell;\r\n        this._selectedCells = null;\r\n        this._firstSelectedCell = null\r\n    }\r\n    releaseFocusedCell() {\r\n        this._prevFocusedCell = this._focusedCell;\r\n        this._focusedCell = null\r\n    }\r\n    restoreSelectedAndFocusedCells() {\r\n        this._selectedCells = this._selectedCells || this._prevSelectedCells;\r\n        this._focusedCell = this._focusedCell || this._prevFocusedCell;\r\n        this._firstSelectedCell = this._firstSelectedCell || this._prevFirstSelectedCell;\r\n        this._prevSelectedCells = null;\r\n        this._prevFirstSelectedCell = null;\r\n        this._prevFocusedCell = null\r\n    }\r\n    clearSelectedAndFocusedCells() {\r\n        this._prevSelectedCells = null;\r\n        this._selectedCells = null;\r\n        this._prevFocusedCell = null;\r\n        this._focusedCell = null\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
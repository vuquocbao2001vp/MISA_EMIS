{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_columns_core.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extend } from \"../../core/utils/extend\";\nexport function foreachColumnInfo(info, callback, rowIndex, offsets, columnCount, lastProcessedIndexes) {\n  rowIndex = rowIndex || 0;\n  offsets = offsets || [];\n  lastProcessedIndexes = lastProcessedIndexes || [];\n  offsets[rowIndex] = offsets[rowIndex] || 0;\n  var row = info[rowIndex];\n  var startIndex = lastProcessedIndexes[rowIndex] + 1 || 0;\n  var processedColumnCount = 0;\n  var colIndex;\n\n  if (!row) {\n    return;\n  }\n\n  for (colIndex = startIndex; colIndex < row.length; colIndex++) {\n    var cell = row[colIndex];\n    var visibleIndex = colIndex + offsets[rowIndex];\n    var colspan = cell.colspan || 1;\n    foreachColumnInfo(info, callback, rowIndex + (cell.rowspan || 1), offsets, colspan, lastProcessedIndexes);\n    offsets[rowIndex] += colspan - 1;\n    processedColumnCount += colspan;\n\n    if (cell.rowspan) {\n      for (var i = rowIndex + 1; i < rowIndex + cell.rowspan; i++) {\n        offsets[i] = offsets[i] || 0;\n        offsets[i] += cell.colspan || 1;\n      }\n    }\n\n    if (false === callback(cell, visibleIndex, rowIndex, colIndex)) {\n      break;\n    }\n\n    if (void 0 !== columnCount && processedColumnCount >= columnCount) {\n      break;\n    }\n  }\n\n  lastProcessedIndexes[rowIndex] = colIndex;\n}\nexport function createColumnsInfo(info, startIndex, endIndex) {\n  var newInfo = [];\n  foreachColumnInfo(info, function (columnInfo, visibleIndex, rowIndex) {\n    var cell = columnInfo;\n    var colspan;\n    var cellColspan = cell.colspan || 1;\n    var isVisible = visibleIndex + cellColspan - 1 >= startIndex && visibleIndex < endIndex;\n    newInfo[rowIndex] = newInfo[rowIndex] || [];\n\n    if (isVisible) {\n      if (visibleIndex < startIndex) {\n        colspan = cellColspan - (startIndex - visibleIndex);\n        visibleIndex = startIndex;\n      } else {\n        colspan = cellColspan;\n      }\n\n      if (visibleIndex + colspan > endIndex) {\n        colspan = endIndex - visibleIndex;\n      }\n\n      if (colspan !== cellColspan) {\n        cell = extend({}, cell, {\n          colspan: colspan\n        });\n      }\n\n      newInfo[rowIndex].push(cell);\n    } else if (visibleIndex > endIndex) {\n      return false;\n    }\n  });\n\n  for (var i = 0; i < newInfo.length; i++) {\n    newInfo[i] = newInfo[i] || [];\n  }\n\n  return newInfo;\n}","map":{"version":3,"names":["extend","foreachColumnInfo","info","callback","rowIndex","offsets","columnCount","lastProcessedIndexes","row","startIndex","processedColumnCount","colIndex","length","cell","visibleIndex","colspan","rowspan","i","createColumnsInfo","endIndex","newInfo","columnInfo","cellColspan","isVisible","push"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/grid_core/ui.grid_core.virtual_columns_core.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_columns_core.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nexport function foreachColumnInfo(info, callback, rowIndex, offsets, columnCount, lastProcessedIndexes) {\r\n    rowIndex = rowIndex || 0;\r\n    offsets = offsets || [];\r\n    lastProcessedIndexes = lastProcessedIndexes || [];\r\n    offsets[rowIndex] = offsets[rowIndex] || 0;\r\n    var row = info[rowIndex];\r\n    var startIndex = lastProcessedIndexes[rowIndex] + 1 || 0;\r\n    var processedColumnCount = 0;\r\n    var colIndex;\r\n    if (!row) {\r\n        return\r\n    }\r\n    for (colIndex = startIndex; colIndex < row.length; colIndex++) {\r\n        var cell = row[colIndex];\r\n        var visibleIndex = colIndex + offsets[rowIndex];\r\n        var colspan = cell.colspan || 1;\r\n        foreachColumnInfo(info, callback, rowIndex + (cell.rowspan || 1), offsets, colspan, lastProcessedIndexes);\r\n        offsets[rowIndex] += colspan - 1;\r\n        processedColumnCount += colspan;\r\n        if (cell.rowspan) {\r\n            for (var i = rowIndex + 1; i < rowIndex + cell.rowspan; i++) {\r\n                offsets[i] = offsets[i] || 0;\r\n                offsets[i] += cell.colspan || 1\r\n            }\r\n        }\r\n        if (false === callback(cell, visibleIndex, rowIndex, colIndex)) {\r\n            break\r\n        }\r\n        if (void 0 !== columnCount && processedColumnCount >= columnCount) {\r\n            break\r\n        }\r\n    }\r\n    lastProcessedIndexes[rowIndex] = colIndex\r\n}\r\nexport function createColumnsInfo(info, startIndex, endIndex) {\r\n    var newInfo = [];\r\n    foreachColumnInfo(info, (function(columnInfo, visibleIndex, rowIndex) {\r\n        var cell = columnInfo;\r\n        var colspan;\r\n        var cellColspan = cell.colspan || 1;\r\n        var isVisible = visibleIndex + cellColspan - 1 >= startIndex && visibleIndex < endIndex;\r\n        newInfo[rowIndex] = newInfo[rowIndex] || [];\r\n        if (isVisible) {\r\n            if (visibleIndex < startIndex) {\r\n                colspan = cellColspan - (startIndex - visibleIndex);\r\n                visibleIndex = startIndex\r\n            } else {\r\n                colspan = cellColspan\r\n            }\r\n            if (visibleIndex + colspan > endIndex) {\r\n                colspan = endIndex - visibleIndex\r\n            }\r\n            if (colspan !== cellColspan) {\r\n                cell = extend({}, cell, {\r\n                    colspan: colspan\r\n                })\r\n            }\r\n            newInfo[rowIndex].push(cell)\r\n        } else if (visibleIndex > endIndex) {\r\n            return false\r\n        }\r\n    }));\r\n    for (var i = 0; i < newInfo.length; i++) {\r\n        newInfo[i] = newInfo[i] || []\r\n    }\r\n    return newInfo\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
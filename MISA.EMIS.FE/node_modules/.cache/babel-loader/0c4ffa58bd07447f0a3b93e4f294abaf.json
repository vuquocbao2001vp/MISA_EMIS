{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/scheduler/workspaces/view_model/view_data_generator_month.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getToday, setOptionHour } from \"../../../../renovation/ui/scheduler/view_model/to_test/views/utils/base\";\nimport { ViewDataGenerator } from \"./view_data_generator\";\nimport dateUtils from \"../../../../core/utils/date\";\nimport { calculateCellIndex, calculateStartViewDate, getCellText, isFirstCellInMonthWithIntervalCount, getViewStartByOptions } from \"../../../../renovation/ui/scheduler/view_model/to_test/views/utils/month\";\nvar DAY_IN_MILLISECONDS = dateUtils.dateToMilliseconds(\"day\");\nvar DAYS_IN_WEEK = 7;\nvar WEEKS_IN_MONTH = 4;\nexport class ViewDataGeneratorMonth extends ViewDataGenerator {\n  get tableAllDay() {\n    return;\n  }\n\n  getCellData(rowIndex, columnIndex, options, allDay) {\n    var data = super.getCellData(rowIndex, columnIndex, options, false);\n    var startDate = data.startDate;\n    var {\n      indicatorTime: indicatorTime,\n      timeZoneCalculator: timeZoneCalculator,\n      intervalCount: intervalCount\n    } = options;\n    data.today = this.isCurrentDate(startDate, indicatorTime, timeZoneCalculator);\n    data.otherMonth = this.isOtherMonth(startDate, this._minVisibleDate, this._maxVisibleDate);\n    data.firstDayOfMonth = isFirstCellInMonthWithIntervalCount(startDate, intervalCount);\n    data.text = getCellText(startDate, intervalCount);\n    return data;\n  }\n\n  isCurrentDate(date, indicatorTime, timeZoneCalculator) {\n    return dateUtils.sameDate(date, getToday(indicatorTime, timeZoneCalculator));\n  }\n\n  isOtherMonth(cellDate, minDate, maxDate) {\n    return !dateUtils.dateInRange(cellDate, minDate, maxDate, \"date\");\n  }\n\n  _calculateCellIndex(rowIndex, columnIndex, rowCount, columnCount) {\n    return calculateCellIndex(rowIndex, columnIndex, rowCount, columnCount);\n  }\n\n  calculateEndDate(startDate, interval, endDayHour) {\n    return setOptionHour(startDate, endDayHour);\n  }\n\n  getInterval() {\n    return DAY_IN_MILLISECONDS;\n  }\n\n  _calculateStartViewDate(options) {\n    return calculateStartViewDate(options.currentDate, options.startDayHour, options.startDate, options.intervalCount, this.getFirstDayOfWeek(options.firstDayOfWeek));\n  }\n\n  _setVisibilityDates(options) {\n    var {\n      intervalCount: intervalCount,\n      startDate: startDate,\n      currentDate: currentDate\n    } = options;\n    var firstMonthDate = dateUtils.getFirstMonthDate(startDate);\n    var viewStart = getViewStartByOptions(startDate, currentDate, intervalCount, firstMonthDate);\n    this._minVisibleDate = new Date(viewStart.setDate(1));\n    var nextMonthDate = new Date(viewStart.setMonth(viewStart.getMonth() + intervalCount));\n    this._maxVisibleDate = new Date(nextMonthDate.setDate(0));\n  }\n\n  getCellCount() {\n    return DAYS_IN_WEEK;\n  }\n\n  getRowCount(options) {\n    return WEEKS_IN_MONTH * options.intervalCount + 2;\n  }\n\n  getCellCountInDay() {\n    return 1;\n  }\n\n  setHiddenInterval() {\n    this.hiddenInterval = 0;\n  }\n\n}","map":{"version":3,"names":["getToday","setOptionHour","ViewDataGenerator","dateUtils","calculateCellIndex","calculateStartViewDate","getCellText","isFirstCellInMonthWithIntervalCount","getViewStartByOptions","DAY_IN_MILLISECONDS","dateToMilliseconds","DAYS_IN_WEEK","WEEKS_IN_MONTH","ViewDataGeneratorMonth","tableAllDay","getCellData","rowIndex","columnIndex","options","allDay","data","startDate","indicatorTime","timeZoneCalculator","intervalCount","today","isCurrentDate","otherMonth","isOtherMonth","_minVisibleDate","_maxVisibleDate","firstDayOfMonth","text","date","sameDate","cellDate","minDate","maxDate","dateInRange","_calculateCellIndex","rowCount","columnCount","calculateEndDate","interval","endDayHour","getInterval","_calculateStartViewDate","currentDate","startDayHour","getFirstDayOfWeek","firstDayOfWeek","_setVisibilityDates","firstMonthDate","getFirstMonthDate","viewStart","Date","setDate","nextMonthDate","setMonth","getMonth","getCellCount","getRowCount","getCellCountInDay","setHiddenInterval","hiddenInterval"],"sources":["E:/MisaProject/W2022_06/misa_emis/node_modules/devextreme/esm/ui/scheduler/workspaces/view_model/view_data_generator_month.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/scheduler/workspaces/view_model/view_data_generator_month.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getToday,\r\n    setOptionHour\r\n} from \"../../../../renovation/ui/scheduler/view_model/to_test/views/utils/base\";\r\nimport {\r\n    ViewDataGenerator\r\n} from \"./view_data_generator\";\r\nimport dateUtils from \"../../../../core/utils/date\";\r\nimport {\r\n    calculateCellIndex,\r\n    calculateStartViewDate,\r\n    getCellText,\r\n    isFirstCellInMonthWithIntervalCount,\r\n    getViewStartByOptions\r\n} from \"../../../../renovation/ui/scheduler/view_model/to_test/views/utils/month\";\r\nvar DAY_IN_MILLISECONDS = dateUtils.dateToMilliseconds(\"day\");\r\nvar DAYS_IN_WEEK = 7;\r\nvar WEEKS_IN_MONTH = 4;\r\nexport class ViewDataGeneratorMonth extends ViewDataGenerator {\r\n    get tableAllDay() {\r\n        return\r\n    }\r\n    getCellData(rowIndex, columnIndex, options, allDay) {\r\n        var data = super.getCellData(rowIndex, columnIndex, options, false);\r\n        var startDate = data.startDate;\r\n        var {\r\n            indicatorTime: indicatorTime,\r\n            timeZoneCalculator: timeZoneCalculator,\r\n            intervalCount: intervalCount\r\n        } = options;\r\n        data.today = this.isCurrentDate(startDate, indicatorTime, timeZoneCalculator);\r\n        data.otherMonth = this.isOtherMonth(startDate, this._minVisibleDate, this._maxVisibleDate);\r\n        data.firstDayOfMonth = isFirstCellInMonthWithIntervalCount(startDate, intervalCount);\r\n        data.text = getCellText(startDate, intervalCount);\r\n        return data\r\n    }\r\n    isCurrentDate(date, indicatorTime, timeZoneCalculator) {\r\n        return dateUtils.sameDate(date, getToday(indicatorTime, timeZoneCalculator))\r\n    }\r\n    isOtherMonth(cellDate, minDate, maxDate) {\r\n        return !dateUtils.dateInRange(cellDate, minDate, maxDate, \"date\")\r\n    }\r\n    _calculateCellIndex(rowIndex, columnIndex, rowCount, columnCount) {\r\n        return calculateCellIndex(rowIndex, columnIndex, rowCount, columnCount)\r\n    }\r\n    calculateEndDate(startDate, interval, endDayHour) {\r\n        return setOptionHour(startDate, endDayHour)\r\n    }\r\n    getInterval() {\r\n        return DAY_IN_MILLISECONDS\r\n    }\r\n    _calculateStartViewDate(options) {\r\n        return calculateStartViewDate(options.currentDate, options.startDayHour, options.startDate, options.intervalCount, this.getFirstDayOfWeek(options.firstDayOfWeek))\r\n    }\r\n    _setVisibilityDates(options) {\r\n        var {\r\n            intervalCount: intervalCount,\r\n            startDate: startDate,\r\n            currentDate: currentDate\r\n        } = options;\r\n        var firstMonthDate = dateUtils.getFirstMonthDate(startDate);\r\n        var viewStart = getViewStartByOptions(startDate, currentDate, intervalCount, firstMonthDate);\r\n        this._minVisibleDate = new Date(viewStart.setDate(1));\r\n        var nextMonthDate = new Date(viewStart.setMonth(viewStart.getMonth() + intervalCount));\r\n        this._maxVisibleDate = new Date(nextMonthDate.setDate(0))\r\n    }\r\n    getCellCount() {\r\n        return DAYS_IN_WEEK\r\n    }\r\n    getRowCount(options) {\r\n        return WEEKS_IN_MONTH * options.intervalCount + 2\r\n    }\r\n    getCellCountInDay() {\r\n        return 1\r\n    }\r\n    setHiddenInterval() {\r\n        this.hiddenInterval = 0\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}